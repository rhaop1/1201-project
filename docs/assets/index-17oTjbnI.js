var zX=Object.defineProperty;var vL=t=>{throw TypeError(t)};var HX=(t,e,n)=>e in t?zX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var q=(t,e,n)=>HX(t,typeof e!="symbol"?e+"":e,n),MP=(t,e,n)=>e.has(t)||vL("Cannot "+n);var h=(t,e,n)=>(MP(t,e,"read from private field"),n?n.call(t):e.get(t)),I=(t,e,n)=>e.has(t)?vL("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),_=(t,e,n,r)=>(MP(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),D=(t,e,n)=>(MP(t,e,"access private method"),n);var fn=(t,e,n,r)=>({set _(i){_(t,e,i,n)},get _(){return h(t,e,r)}});function WX(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Hl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var b6={exports:{}},O_={},w6={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cw=Symbol.for("react.element"),GX=Symbol.for("react.portal"),KX=Symbol.for("react.fragment"),qX=Symbol.for("react.strict_mode"),XX=Symbol.for("react.profiler"),YX=Symbol.for("react.provider"),JX=Symbol.for("react.context"),ZX=Symbol.for("react.forward_ref"),QX=Symbol.for("react.suspense"),eY=Symbol.for("react.memo"),tY=Symbol.for("react.lazy"),bL=Symbol.iterator;function nY(t){return t===null||typeof t!="object"?null:(t=bL&&t[bL]||t["@@iterator"],typeof t=="function"?t:null)}var x6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S6=Object.assign,A6={};function _g(t,e,n){this.props=t,this.context=e,this.refs=A6,this.updater=n||x6}_g.prototype.isReactComponent={};_g.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_g.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _6(){}_6.prototype=_g.prototype;function vO(t,e,n){this.props=t,this.context=e,this.refs=A6,this.updater=n||x6}var bO=vO.prototype=new _6;bO.constructor=vO;S6(bO,_g.prototype);bO.isPureReactComponent=!0;var wL=Array.isArray,E6=Object.prototype.hasOwnProperty,wO={current:null},P6={key:!0,ref:!0,__self:!0,__source:!0};function T6(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)E6.call(e,r)&&!P6.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:cw,type:t,key:s,ref:a,props:i,_owner:wO.current}}function rY(t,e){return{$$typeof:cw,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xO(t){return typeof t=="object"&&t!==null&&t.$$typeof===cw}function iY(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xL=/\/+/g;function DP(t,e){return typeof t=="object"&&t!==null&&t.key!=null?iY(""+t.key):e.toString(36)}function l1(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case cw:case GX:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+DP(a,0):r,wL(i)?(n="",t!=null&&(n=t.replace(xL,"$&/")+"/"),l1(i,e,n,"",function(c){return c})):i!=null&&(xO(i)&&(i=rY(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(xL,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",wL(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+DP(s,o);a+=l1(s,e,n,l,i)}else if(l=nY(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+DP(s,o++),a+=l1(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function fx(t,e,n){if(t==null)return t;var r=[],i=0;return l1(t,r,"","",function(s){return e.call(n,s,i++)}),r}function sY(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gr={current:null},c1={transition:null},aY={ReactCurrentDispatcher:Gr,ReactCurrentBatchConfig:c1,ReactCurrentOwner:wO};function C6(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:fx,forEach:function(t,e,n){fx(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fx(t,function(){e++}),e},toArray:function(t){return fx(t,function(e){return e})||[]},only:function(t){if(!xO(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=_g;Ie.Fragment=KX;Ie.Profiler=XX;Ie.PureComponent=vO;Ie.StrictMode=qX;Ie.Suspense=QX;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aY;Ie.act=C6;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=S6({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=wO.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)E6.call(e,l)&&!P6.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:cw,type:t.type,key:i,ref:s,props:r,_owner:a}};Ie.createContext=function(t){return t={$$typeof:JX,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:YX,_context:t},t.Consumer=t};Ie.createElement=T6;Ie.createFactory=function(t){var e=T6.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:ZX,render:t}};Ie.isValidElement=xO;Ie.lazy=function(t){return{$$typeof:tY,_payload:{_status:-1,_result:t},_init:sY}};Ie.memo=function(t,e){return{$$typeof:eY,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=c1.transition;c1.transition={};try{t()}finally{c1.transition=e}};Ie.unstable_act=C6;Ie.useCallback=function(t,e){return Gr.current.useCallback(t,e)};Ie.useContext=function(t){return Gr.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return Gr.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return Gr.current.useEffect(t,e)};Ie.useId=function(){return Gr.current.useId()};Ie.useImperativeHandle=function(t,e,n){return Gr.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return Gr.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return Gr.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return Gr.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return Gr.current.useReducer(t,e,n)};Ie.useRef=function(t){return Gr.current.useRef(t)};Ie.useState=function(t){return Gr.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return Gr.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return Gr.current.useTransition()};Ie.version="18.3.1";w6.exports=Ie;var A=w6.exports;const k6=Hl(A),I6=WX({__proto__:null,default:k6},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oY=A,lY=Symbol.for("react.element"),cY=Symbol.for("react.fragment"),uY=Object.prototype.hasOwnProperty,hY=oY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dY={key:!0,ref:!0,__self:!0,__source:!0};function O6(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)uY.call(e,r)&&!dY.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:lY,type:t,key:s,ref:a,props:i,_owner:hY.current}}O_.Fragment=cY;O_.jsx=O6;O_.jsxs=O6;b6.exports=O_;var x=b6.exports,mC={},M6={exports:{}},Xi={},D6={exports:{}},N6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,H){var ne=V.length;V.push(H);e:for(;0<ne;){var fe=ne-1>>>1,le=V[fe];if(0<i(le,H))V[fe]=H,V[ne]=le,ne=fe;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var H=V[0],ne=V.pop();if(ne!==H){V[0]=ne;e:for(var fe=0,le=V.length,ge=le>>>1;fe<ge;){var ke=2*(fe+1)-1,rt=V[ke],it=ke+1,ye=V[it];if(0>i(rt,ne))it<le&&0>i(ye,rt)?(V[fe]=ye,V[it]=ne,fe=it):(V[fe]=rt,V[ke]=ne,fe=ke);else if(it<le&&0>i(ye,ne))V[fe]=ye,V[it]=ne,fe=it;else break e}}return H}function i(V,H){var ne=V.sortIndex-H.sortIndex;return ne!==0?ne:V.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,f=3,p=!1,g=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(V){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=V)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function T(V){if(y=!1,w(V),!g)if(n(l)!==null)g=!0,J(P);else{var H=n(c);H!==null&&W(T,H.startTime-V)}}function P(V,H){g=!1,y&&(y=!1,v(k),k=-1),p=!0;var ne=f;try{for(w(H),d=n(l);d!==null&&(!(d.expirationTime>H)||V&&!R());){var fe=d.callback;if(typeof fe=="function"){d.callback=null,f=d.priorityLevel;var le=fe(d.expirationTime<=H);H=t.unstable_now(),typeof le=="function"?d.callback=le:d===n(l)&&r(l),w(H)}else r(l);d=n(l)}if(d!==null)var ge=!0;else{var ke=n(c);ke!==null&&W(T,ke.startTime-H),ge=!1}return ge}finally{d=null,f=ne,p=!1}}var O=!1,C=null,k=-1,N=5,L=-1;function R(){return!(t.unstable_now()-L<N)}function B(){if(C!==null){var V=t.unstable_now();L=V;var H=!0;try{H=C(!0,V)}finally{H?j():(O=!1,C=null)}}else O=!1}var j;if(typeof S=="function")j=function(){S(B)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,Z=G.port2;G.port1.onmessage=B,j=function(){Z.postMessage(null)}}else j=function(){b(B,0)};function J(V){C=V,O||(O=!0,j())}function W(V,H){k=b(function(){V(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,J(P))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var ne=f;f=H;try{return V()}finally{f=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,H){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ne=f;f=V;try{return H()}finally{f=ne}},t.unstable_scheduleCallback=function(V,H,ne){var fe=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?fe+ne:fe):ne=fe,V){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=ne+le,V={id:u++,callback:H,priorityLevel:V,startTime:ne,expirationTime:le,sortIndex:-1},ne>fe?(V.sortIndex=ne,e(c,V),n(l)===null&&V===n(c)&&(y?(v(k),k=-1):y=!0,W(T,ne-fe))):(V.sortIndex=le,e(l,V),g||p||(g=!0,J(P))),V},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(V){var H=f;return function(){var ne=f;f=H;try{return V.apply(this,arguments)}finally{f=ne}}}})(N6);D6.exports=N6;var fY=D6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pY=A,Gi=fY;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var R6=new Set,Ev={};function bf(t,e){rg(t,e),rg(t+"Capture",e)}function rg(t,e){for(Ev[t]=e,t=0;t<e.length;t++)R6.add(e[t])}var Cl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gC=Object.prototype.hasOwnProperty,mY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,SL={},AL={};function gY(t){return gC.call(AL,t)?!0:gC.call(SL,t)?!1:mY.test(t)?AL[t]=!0:(SL[t]=!0,!1)}function yY(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vY(t,e,n,r){if(e===null||typeof e>"u"||yY(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kr(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var lr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){lr[t]=new Kr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];lr[e]=new Kr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){lr[t]=new Kr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){lr[t]=new Kr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){lr[t]=new Kr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){lr[t]=new Kr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){lr[t]=new Kr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){lr[t]=new Kr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){lr[t]=new Kr(t,5,!1,t.toLowerCase(),null,!1,!1)});var SO=/[\-:]([a-z])/g;function AO(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(SO,AO);lr[e]=new Kr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(SO,AO);lr[e]=new Kr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(SO,AO);lr[e]=new Kr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){lr[t]=new Kr(t,1,!1,t.toLowerCase(),null,!1,!1)});lr.xlinkHref=new Kr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){lr[t]=new Kr(t,1,!1,t.toLowerCase(),null,!0,!0)});function _O(t,e,n,r){var i=lr.hasOwnProperty(e)?lr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vY(e,n,i,r)&&(n=null),r||i===null?gY(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Wl=pY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,px=Symbol.for("react.element"),Gf=Symbol.for("react.portal"),Kf=Symbol.for("react.fragment"),EO=Symbol.for("react.strict_mode"),yC=Symbol.for("react.profiler"),L6=Symbol.for("react.provider"),j6=Symbol.for("react.context"),PO=Symbol.for("react.forward_ref"),vC=Symbol.for("react.suspense"),bC=Symbol.for("react.suspense_list"),TO=Symbol.for("react.memo"),dc=Symbol.for("react.lazy"),F6=Symbol.for("react.offscreen"),_L=Symbol.iterator;function sy(t){return t===null||typeof t!="object"?null:(t=_L&&t[_L]||t["@@iterator"],typeof t=="function"?t:null)}var jt=Object.assign,NP;function Ty(t){if(NP===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);NP=e&&e[1]||""}return`
`+NP+t}var RP=!1;function LP(t,e){if(!t||RP)return"";RP=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{RP=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ty(t):""}function bY(t){switch(t.tag){case 5:return Ty(t.type);case 16:return Ty("Lazy");case 13:return Ty("Suspense");case 19:return Ty("SuspenseList");case 0:case 2:case 15:return t=LP(t.type,!1),t;case 11:return t=LP(t.type.render,!1),t;case 1:return t=LP(t.type,!0),t;default:return""}}function wC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Kf:return"Fragment";case Gf:return"Portal";case yC:return"Profiler";case EO:return"StrictMode";case vC:return"Suspense";case bC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case j6:return(t.displayName||"Context")+".Consumer";case L6:return(t._context.displayName||"Context")+".Provider";case PO:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case TO:return e=t.displayName||null,e!==null?e:wC(t.type)||"Memo";case dc:e=t._payload,t=t._init;try{return wC(t(e))}catch{}}return null}function wY(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wC(e);case 8:return e===EO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Iu(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function B6(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xY(t){var e=B6(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function mx(t){t._valueTracker||(t._valueTracker=xY(t))}function $6(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=B6(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function vS(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xC(t,e){var n=e.checked;return jt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function EL(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Iu(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function U6(t,e){e=e.checked,e!=null&&_O(t,"checked",e,!1)}function SC(t,e){U6(t,e);var n=Iu(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?AC(t,e.type,n):e.hasOwnProperty("defaultValue")&&AC(t,e.type,Iu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function PL(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function AC(t,e,n){(e!=="number"||vS(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Cy=Array.isArray;function vp(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Iu(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _C(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return jt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function TL(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(Cy(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Iu(n)}}function V6(t,e){var n=Iu(e.value),r=Iu(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function CL(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function z6(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function EC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?z6(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gx,H6=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(gx=gx||document.createElement("div"),gx.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gx.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Pv(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var iv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SY=["Webkit","ms","Moz","O"];Object.keys(iv).forEach(function(t){SY.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),iv[e]=iv[t]})});function W6(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||iv.hasOwnProperty(t)&&iv[t]?(""+e).trim():e+"px"}function G6(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=W6(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var AY=jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function PC(t,e){if(e){if(AY[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function TC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var CC=null;function CO(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kC=null,bp=null,wp=null;function kL(t){if(t=dw(t)){if(typeof kC!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=L_(e),kC(t.stateNode,t.type,e))}}function K6(t){bp?wp?wp.push(t):wp=[t]:bp=t}function q6(){if(bp){var t=bp,e=wp;if(wp=bp=null,kL(t),e)for(t=0;t<e.length;t++)kL(e[t])}}function X6(t,e){return t(e)}function Y6(){}var jP=!1;function J6(t,e,n){if(jP)return t(e,n);jP=!0;try{return X6(t,e,n)}finally{jP=!1,(bp!==null||wp!==null)&&(Y6(),q6())}}function Tv(t,e){var n=t.stateNode;if(n===null)return null;var r=L_(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var IC=!1;if(Cl)try{var ay={};Object.defineProperty(ay,"passive",{get:function(){IC=!0}}),window.addEventListener("test",ay,ay),window.removeEventListener("test",ay,ay)}catch{IC=!1}function _Y(t,e,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var sv=!1,bS=null,wS=!1,OC=null,EY={onError:function(t){sv=!0,bS=t}};function PY(t,e,n,r,i,s,a,o,l){sv=!1,bS=null,_Y.apply(EY,arguments)}function TY(t,e,n,r,i,s,a,o,l){if(PY.apply(this,arguments),sv){if(sv){var c=bS;sv=!1,bS=null}else throw Error(Y(198));wS||(wS=!0,OC=c)}}function wf(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Z6(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function IL(t){if(wf(t)!==t)throw Error(Y(188))}function CY(t){var e=t.alternate;if(!e){if(e=wf(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return IL(i),t;if(s===r)return IL(i),e;s=s.sibling}throw Error(Y(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function Q6(t){return t=CY(t),t!==null?e5(t):null}function e5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=e5(t);if(e!==null)return e;t=t.sibling}return null}var t5=Gi.unstable_scheduleCallback,OL=Gi.unstable_cancelCallback,kY=Gi.unstable_shouldYield,IY=Gi.unstable_requestPaint,Qt=Gi.unstable_now,OY=Gi.unstable_getCurrentPriorityLevel,kO=Gi.unstable_ImmediatePriority,n5=Gi.unstable_UserBlockingPriority,xS=Gi.unstable_NormalPriority,MY=Gi.unstable_LowPriority,r5=Gi.unstable_IdlePriority,M_=null,io=null;function DY(t){if(io&&typeof io.onCommitFiberRoot=="function")try{io.onCommitFiberRoot(M_,t,void 0,(t.current.flags&128)===128)}catch{}}var da=Math.clz32?Math.clz32:LY,NY=Math.log,RY=Math.LN2;function LY(t){return t>>>=0,t===0?32:31-(NY(t)/RY|0)|0}var yx=64,vx=4194304;function ky(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function SS(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=ky(o):(s&=a,s!==0&&(r=ky(s)))}else a=n&~i,a!==0?r=ky(a):s!==0&&(r=ky(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-da(e),i=1<<n,r|=t[n],e&=~i;return r}function jY(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FY(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-da(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=jY(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function MC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function i5(){var t=yx;return yx<<=1,!(yx&4194240)&&(yx=64),t}function FP(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uw(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-da(e),t[e]=n}function BY(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-da(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function IO(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-da(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var qe=0;function s5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var a5,OO,o5,l5,c5,DC=!1,bx=[],vu=null,bu=null,wu=null,Cv=new Map,kv=new Map,gc=[],$Y="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ML(t,e){switch(t){case"focusin":case"focusout":vu=null;break;case"dragenter":case"dragleave":bu=null;break;case"mouseover":case"mouseout":wu=null;break;case"pointerover":case"pointerout":Cv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kv.delete(e.pointerId)}}function oy(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=dw(e),e!==null&&OO(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function UY(t,e,n,r,i){switch(e){case"focusin":return vu=oy(vu,t,e,n,r,i),!0;case"dragenter":return bu=oy(bu,t,e,n,r,i),!0;case"mouseover":return wu=oy(wu,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Cv.set(s,oy(Cv.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,kv.set(s,oy(kv.get(s)||null,t,e,n,r,i)),!0}return!1}function u5(t){var e=bh(t.target);if(e!==null){var n=wf(e);if(n!==null){if(e=n.tag,e===13){if(e=Z6(n),e!==null){t.blockedOn=e,c5(t.priority,function(){o5(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function u1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=NC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);CC=r,n.target.dispatchEvent(r),CC=null}else return e=dw(n),e!==null&&OO(e),t.blockedOn=n,!1;e.shift()}return!0}function DL(t,e,n){u1(t)&&n.delete(e)}function VY(){DC=!1,vu!==null&&u1(vu)&&(vu=null),bu!==null&&u1(bu)&&(bu=null),wu!==null&&u1(wu)&&(wu=null),Cv.forEach(DL),kv.forEach(DL)}function ly(t,e){t.blockedOn===e&&(t.blockedOn=null,DC||(DC=!0,Gi.unstable_scheduleCallback(Gi.unstable_NormalPriority,VY)))}function Iv(t){function e(i){return ly(i,t)}if(0<bx.length){ly(bx[0],t);for(var n=1;n<bx.length;n++){var r=bx[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vu!==null&&ly(vu,t),bu!==null&&ly(bu,t),wu!==null&&ly(wu,t),Cv.forEach(e),kv.forEach(e),n=0;n<gc.length;n++)r=gc[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<gc.length&&(n=gc[0],n.blockedOn===null);)u5(n),n.blockedOn===null&&gc.shift()}var xp=Wl.ReactCurrentBatchConfig,AS=!0;function zY(t,e,n,r){var i=qe,s=xp.transition;xp.transition=null;try{qe=1,MO(t,e,n,r)}finally{qe=i,xp.transition=s}}function HY(t,e,n,r){var i=qe,s=xp.transition;xp.transition=null;try{qe=4,MO(t,e,n,r)}finally{qe=i,xp.transition=s}}function MO(t,e,n,r){if(AS){var i=NC(t,e,n,r);if(i===null)qP(t,e,r,_S,n),ML(t,r);else if(UY(i,t,e,n,r))r.stopPropagation();else if(ML(t,r),e&4&&-1<$Y.indexOf(t)){for(;i!==null;){var s=dw(i);if(s!==null&&a5(s),s=NC(t,e,n,r),s===null&&qP(t,e,r,_S,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else qP(t,e,r,null,n)}}var _S=null;function NC(t,e,n,r){if(_S=null,t=CO(r),t=bh(t),t!==null)if(e=wf(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Z6(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _S=t,null}function h5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OY()){case kO:return 1;case n5:return 4;case xS:case MY:return 16;case r5:return 536870912;default:return 16}default:return 16}}var mu=null,DO=null,h1=null;function d5(){if(h1)return h1;var t,e=DO,n=e.length,r,i="value"in mu?mu.value:mu.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return h1=i.slice(t,1<r?1-r:void 0)}function d1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wx(){return!0}function NL(){return!1}function Yi(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?wx:NL,this.isPropagationStopped=NL,this}return jt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wx)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wx)},persist:function(){},isPersistent:wx}),e}var Eg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},NO=Yi(Eg),hw=jt({},Eg,{view:0,detail:0}),WY=Yi(hw),BP,$P,cy,D_=jt({},hw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:RO,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cy&&(cy&&t.type==="mousemove"?(BP=t.screenX-cy.screenX,$P=t.screenY-cy.screenY):$P=BP=0,cy=t),BP)},movementY:function(t){return"movementY"in t?t.movementY:$P}}),RL=Yi(D_),GY=jt({},D_,{dataTransfer:0}),KY=Yi(GY),qY=jt({},hw,{relatedTarget:0}),UP=Yi(qY),XY=jt({},Eg,{animationName:0,elapsedTime:0,pseudoElement:0}),YY=Yi(XY),JY=jt({},Eg,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ZY=Yi(JY),QY=jt({},Eg,{data:0}),LL=Yi(QY),eJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rJ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nJ[t])?!!e[t]:!1}function RO(){return rJ}var iJ=jt({},hw,{key:function(t){if(t.key){var e=eJ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=d1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tJ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:RO,charCode:function(t){return t.type==="keypress"?d1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?d1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sJ=Yi(iJ),aJ=jt({},D_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jL=Yi(aJ),oJ=jt({},hw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:RO}),lJ=Yi(oJ),cJ=jt({},Eg,{propertyName:0,elapsedTime:0,pseudoElement:0}),uJ=Yi(cJ),hJ=jt({},D_,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dJ=Yi(hJ),fJ=[9,13,27,32],LO=Cl&&"CompositionEvent"in window,av=null;Cl&&"documentMode"in document&&(av=document.documentMode);var pJ=Cl&&"TextEvent"in window&&!av,f5=Cl&&(!LO||av&&8<av&&11>=av),FL=" ",BL=!1;function p5(t,e){switch(t){case"keyup":return fJ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qf=!1;function mJ(t,e){switch(t){case"compositionend":return m5(e);case"keypress":return e.which!==32?null:(BL=!0,FL);case"textInput":return t=e.data,t===FL&&BL?null:t;default:return null}}function gJ(t,e){if(qf)return t==="compositionend"||!LO&&p5(t,e)?(t=d5(),h1=DO=mu=null,qf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return f5&&e.locale!=="ko"?null:e.data;default:return null}}var yJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $L(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yJ[t.type]:e==="textarea"}function g5(t,e,n,r){K6(r),e=ES(e,"onChange"),0<e.length&&(n=new NO("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ov=null,Ov=null;function vJ(t){T5(t,0)}function N_(t){var e=Jf(t);if($6(e))return t}function bJ(t,e){if(t==="change")return e}var y5=!1;if(Cl){var VP;if(Cl){var zP="oninput"in document;if(!zP){var UL=document.createElement("div");UL.setAttribute("oninput","return;"),zP=typeof UL.oninput=="function"}VP=zP}else VP=!1;y5=VP&&(!document.documentMode||9<document.documentMode)}function VL(){ov&&(ov.detachEvent("onpropertychange",v5),Ov=ov=null)}function v5(t){if(t.propertyName==="value"&&N_(Ov)){var e=[];g5(e,Ov,t,CO(t)),J6(vJ,e)}}function wJ(t,e,n){t==="focusin"?(VL(),ov=e,Ov=n,ov.attachEvent("onpropertychange",v5)):t==="focusout"&&VL()}function xJ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return N_(Ov)}function SJ(t,e){if(t==="click")return N_(e)}function AJ(t,e){if(t==="input"||t==="change")return N_(e)}function _J(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ma=typeof Object.is=="function"?Object.is:_J;function Mv(t,e){if(ma(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!gC.call(e,i)||!ma(t[i],e[i]))return!1}return!0}function zL(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function HL(t,e){var n=zL(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zL(n)}}function b5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?b5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function w5(){for(var t=window,e=vS();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vS(t.document)}return e}function jO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function EJ(t){var e=w5(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&b5(n.ownerDocument.documentElement,n)){if(r!==null&&jO(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=HL(n,s);var a=HL(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var PJ=Cl&&"documentMode"in document&&11>=document.documentMode,Xf=null,RC=null,lv=null,LC=!1;function WL(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;LC||Xf==null||Xf!==vS(r)||(r=Xf,"selectionStart"in r&&jO(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lv&&Mv(lv,r)||(lv=r,r=ES(RC,"onSelect"),0<r.length&&(e=new NO("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xf)))}function xx(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Yf={animationend:xx("Animation","AnimationEnd"),animationiteration:xx("Animation","AnimationIteration"),animationstart:xx("Animation","AnimationStart"),transitionend:xx("Transition","TransitionEnd")},HP={},x5={};Cl&&(x5=document.createElement("div").style,"AnimationEvent"in window||(delete Yf.animationend.animation,delete Yf.animationiteration.animation,delete Yf.animationstart.animation),"TransitionEvent"in window||delete Yf.transitionend.transition);function R_(t){if(HP[t])return HP[t];if(!Yf[t])return t;var e=Yf[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in x5)return HP[t]=e[n];return t}var S5=R_("animationend"),A5=R_("animationiteration"),_5=R_("animationstart"),E5=R_("transitionend"),P5=new Map,GL="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Uu(t,e){P5.set(t,e),bf(e,[t])}for(var WP=0;WP<GL.length;WP++){var GP=GL[WP],TJ=GP.toLowerCase(),CJ=GP[0].toUpperCase()+GP.slice(1);Uu(TJ,"on"+CJ)}Uu(S5,"onAnimationEnd");Uu(A5,"onAnimationIteration");Uu(_5,"onAnimationStart");Uu("dblclick","onDoubleClick");Uu("focusin","onFocus");Uu("focusout","onBlur");Uu(E5,"onTransitionEnd");rg("onMouseEnter",["mouseout","mouseover"]);rg("onMouseLeave",["mouseout","mouseover"]);rg("onPointerEnter",["pointerout","pointerover"]);rg("onPointerLeave",["pointerout","pointerover"]);bf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bf("onBeforeInput",["compositionend","keypress","textInput","paste"]);bf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Iy));function KL(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,TY(r,e,void 0,t),t.currentTarget=null}function T5(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;KL(i,o,c),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;KL(i,o,c),s=l}}}if(wS)throw t=OC,wS=!1,OC=null,t}function vt(t,e){var n=e[UC];n===void 0&&(n=e[UC]=new Set);var r=t+"__bubble";n.has(r)||(C5(e,t,2,!1),n.add(r))}function KP(t,e,n){var r=0;e&&(r|=4),C5(n,t,r,e)}var Sx="_reactListening"+Math.random().toString(36).slice(2);function Dv(t){if(!t[Sx]){t[Sx]=!0,R6.forEach(function(n){n!=="selectionchange"&&(kJ.has(n)||KP(n,!1,t),KP(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Sx]||(e[Sx]=!0,KP("selectionchange",!1,e))}}function C5(t,e,n,r){switch(h5(e)){case 1:var i=zY;break;case 4:i=HY;break;default:i=MO}n=i.bind(null,e,n,t),i=void 0,!IC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function qP(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=bh(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}J6(function(){var c=s,u=CO(n),d=[];e:{var f=P5.get(t);if(f!==void 0){var p=NO,g=t;switch(t){case"keypress":if(d1(n)===0)break e;case"keydown":case"keyup":p=sJ;break;case"focusin":g="focus",p=UP;break;case"focusout":g="blur",p=UP;break;case"beforeblur":case"afterblur":p=UP;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=RL;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=KY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=lJ;break;case S5:case A5:case _5:p=YY;break;case E5:p=uJ;break;case"scroll":p=WY;break;case"wheel":p=dJ;break;case"copy":case"cut":case"paste":p=ZY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=jL}var y=(e&4)!==0,b=!y&&t==="scroll",v=y?f!==null?f+"Capture":null:f;y=[];for(var S=c,w;S!==null;){w=S;var T=w.stateNode;if(w.tag===5&&T!==null&&(w=T,v!==null&&(T=Tv(S,v),T!=null&&y.push(Nv(S,T,w)))),b)break;S=S.return}0<y.length&&(f=new p(f,g,null,n,u),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==CC&&(g=n.relatedTarget||n.fromElement)&&(bh(g)||g[kl]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=c,g=g?bh(g):null,g!==null&&(b=wf(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(y=RL,T="onMouseLeave",v="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(y=jL,T="onPointerLeave",v="onPointerEnter",S="pointer"),b=p==null?f:Jf(p),w=g==null?f:Jf(g),f=new y(T,S+"leave",p,n,u),f.target=b,f.relatedTarget=w,T=null,bh(u)===c&&(y=new y(v,S+"enter",g,n,u),y.target=w,y.relatedTarget=b,T=y),b=T,p&&g)t:{for(y=p,v=g,S=0,w=y;w;w=Mf(w))S++;for(w=0,T=v;T;T=Mf(T))w++;for(;0<S-w;)y=Mf(y),S--;for(;0<w-S;)v=Mf(v),w--;for(;S--;){if(y===v||v!==null&&y===v.alternate)break t;y=Mf(y),v=Mf(v)}y=null}else y=null;p!==null&&qL(d,f,p,y,!1),g!==null&&b!==null&&qL(d,b,g,y,!0)}}e:{if(f=c?Jf(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var P=bJ;else if($L(f))if(y5)P=AJ;else{P=xJ;var O=wJ}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(P=SJ);if(P&&(P=P(t,c))){g5(d,P,n,u);break e}O&&O(t,f,c),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&AC(f,"number",f.value)}switch(O=c?Jf(c):window,t){case"focusin":($L(O)||O.contentEditable==="true")&&(Xf=O,RC=c,lv=null);break;case"focusout":lv=RC=Xf=null;break;case"mousedown":LC=!0;break;case"contextmenu":case"mouseup":case"dragend":LC=!1,WL(d,n,u);break;case"selectionchange":if(PJ)break;case"keydown":case"keyup":WL(d,n,u)}var C;if(LO)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else qf?p5(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(f5&&n.locale!=="ko"&&(qf||k!=="onCompositionStart"?k==="onCompositionEnd"&&qf&&(C=d5()):(mu=u,DO="value"in mu?mu.value:mu.textContent,qf=!0)),O=ES(c,k),0<O.length&&(k=new LL(k,t,null,n,u),d.push({event:k,listeners:O}),C?k.data=C:(C=m5(n),C!==null&&(k.data=C)))),(C=pJ?mJ(t,n):gJ(t,n))&&(c=ES(c,"onBeforeInput"),0<c.length&&(u=new LL("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=C))}T5(d,e)})}function Nv(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ES(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Tv(t,n),s!=null&&r.unshift(Nv(t,s,i)),s=Tv(t,e),s!=null&&r.push(Nv(t,s,i))),t=t.return}return r}function Mf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qL(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=Tv(n,s),l!=null&&a.unshift(Nv(n,l,o))):i||(l=Tv(n,s),l!=null&&a.push(Nv(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var IJ=/\r\n?/g,OJ=/\u0000|\uFFFD/g;function XL(t){return(typeof t=="string"?t:""+t).replace(IJ,`
`).replace(OJ,"")}function Ax(t,e,n){if(e=XL(e),XL(t)!==e&&n)throw Error(Y(425))}function PS(){}var jC=null,FC=null;function BC(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $C=typeof setTimeout=="function"?setTimeout:void 0,MJ=typeof clearTimeout=="function"?clearTimeout:void 0,YL=typeof Promise=="function"?Promise:void 0,DJ=typeof queueMicrotask=="function"?queueMicrotask:typeof YL<"u"?function(t){return YL.resolve(null).then(t).catch(NJ)}:$C;function NJ(t){setTimeout(function(){throw t})}function XP(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Iv(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Iv(e)}function xu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function JL(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Pg=Math.random().toString(36).slice(2),eo="__reactFiber$"+Pg,Rv="__reactProps$"+Pg,kl="__reactContainer$"+Pg,UC="__reactEvents$"+Pg,RJ="__reactListeners$"+Pg,LJ="__reactHandles$"+Pg;function bh(t){var e=t[eo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[kl]||n[eo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=JL(t);t!==null;){if(n=t[eo])return n;t=JL(t)}return e}t=n,n=t.parentNode}return null}function dw(t){return t=t[eo]||t[kl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function L_(t){return t[Rv]||null}var VC=[],Zf=-1;function Vu(t){return{current:t}}function xt(t){0>Zf||(t.current=VC[Zf],VC[Zf]=null,Zf--)}function mt(t,e){Zf++,VC[Zf]=t.current,t.current=e}var Ou={},_r=Vu(Ou),hi=Vu(!1),Qd=Ou;function ig(t,e){var n=t.type.contextTypes;if(!n)return Ou;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function di(t){return t=t.childContextTypes,t!=null}function TS(){xt(hi),xt(_r)}function ZL(t,e,n){if(_r.current!==Ou)throw Error(Y(168));mt(_r,e),mt(hi,n)}function k5(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Y(108,wY(t)||"Unknown",i));return jt({},n,r)}function CS(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ou,Qd=_r.current,mt(_r,t),mt(hi,hi.current),!0}function QL(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=k5(t,e,Qd),r.__reactInternalMemoizedMergedChildContext=t,xt(hi),xt(_r),mt(_r,t)):xt(hi),mt(hi,n)}var ko=null,j_=!1,YP=!1;function I5(t){ko===null?ko=[t]:ko.push(t)}function jJ(t){j_=!0,I5(t)}function zu(){if(!YP&&ko!==null){YP=!0;var t=0,e=qe;try{var n=ko;for(qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ko=null,j_=!1}catch(i){throw ko!==null&&(ko=ko.slice(t+1)),t5(kO,zu),i}finally{qe=e,YP=!1}}return null}var Qf=[],ep=0,kS=null,IS=0,bs=[],ws=0,ef=null,ml=1,gl="";function sh(t,e){Qf[ep++]=IS,Qf[ep++]=kS,kS=t,IS=e}function O5(t,e,n){bs[ws++]=ml,bs[ws++]=gl,bs[ws++]=ef,ef=t;var r=ml;t=gl;var i=32-da(r)-1;r&=~(1<<i),n+=1;var s=32-da(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ml=1<<32-da(e)+i|n<<i|r,gl=s+t}else ml=1<<s|n<<i|r,gl=t}function FO(t){t.return!==null&&(sh(t,1),O5(t,1,0))}function BO(t){for(;t===kS;)kS=Qf[--ep],Qf[ep]=null,IS=Qf[--ep],Qf[ep]=null;for(;t===ef;)ef=bs[--ws],bs[ws]=null,gl=bs[--ws],bs[ws]=null,ml=bs[--ws],bs[ws]=null}var zi=null,Ui=null,Tt=!1,ra=null;function M5(t,e){var n=Ss(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ej(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zi=t,Ui=xu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zi=t,Ui=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ef!==null?{id:ml,overflow:gl}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ss(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zi=t,Ui=null,!0):!1;default:return!1}}function zC(t){return(t.mode&1)!==0&&(t.flags&128)===0}function HC(t){if(Tt){var e=Ui;if(e){var n=e;if(!ej(t,e)){if(zC(t))throw Error(Y(418));e=xu(n.nextSibling);var r=zi;e&&ej(t,e)?M5(r,n):(t.flags=t.flags&-4097|2,Tt=!1,zi=t)}}else{if(zC(t))throw Error(Y(418));t.flags=t.flags&-4097|2,Tt=!1,zi=t}}}function tj(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zi=t}function _x(t){if(t!==zi)return!1;if(!Tt)return tj(t),Tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!BC(t.type,t.memoizedProps)),e&&(e=Ui)){if(zC(t))throw D5(),Error(Y(418));for(;e;)M5(t,e),e=xu(e.nextSibling)}if(tj(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ui=xu(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ui=null}}else Ui=zi?xu(t.stateNode.nextSibling):null;return!0}function D5(){for(var t=Ui;t;)t=xu(t.nextSibling)}function sg(){Ui=zi=null,Tt=!1}function $O(t){ra===null?ra=[t]:ra.push(t)}var FJ=Wl.ReactCurrentBatchConfig;function uy(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function Ex(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nj(t){var e=t._init;return e(t._payload)}function N5(t){function e(v,S){if(t){var w=v.deletions;w===null?(v.deletions=[S],v.flags|=16):w.push(S)}}function n(v,S){if(!t)return null;for(;S!==null;)e(v,S),S=S.sibling;return null}function r(v,S){for(v=new Map;S!==null;)S.key!==null?v.set(S.key,S):v.set(S.index,S),S=S.sibling;return v}function i(v,S){return v=Eu(v,S),v.index=0,v.sibling=null,v}function s(v,S,w){return v.index=w,t?(w=v.alternate,w!==null?(w=w.index,w<S?(v.flags|=2,S):w):(v.flags|=2,S)):(v.flags|=1048576,S)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,S,w,T){return S===null||S.tag!==6?(S=rT(w,v.mode,T),S.return=v,S):(S=i(S,w),S.return=v,S)}function l(v,S,w,T){var P=w.type;return P===Kf?u(v,S,w.props.children,T,w.key):S!==null&&(S.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===dc&&nj(P)===S.type)?(T=i(S,w.props),T.ref=uy(v,S,w),T.return=v,T):(T=b1(w.type,w.key,w.props,null,v.mode,T),T.ref=uy(v,S,w),T.return=v,T)}function c(v,S,w,T){return S===null||S.tag!==4||S.stateNode.containerInfo!==w.containerInfo||S.stateNode.implementation!==w.implementation?(S=iT(w,v.mode,T),S.return=v,S):(S=i(S,w.children||[]),S.return=v,S)}function u(v,S,w,T,P){return S===null||S.tag!==7?(S=Hd(w,v.mode,T,P),S.return=v,S):(S=i(S,w),S.return=v,S)}function d(v,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return S=rT(""+S,v.mode,w),S.return=v,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case px:return w=b1(S.type,S.key,S.props,null,v.mode,w),w.ref=uy(v,null,S),w.return=v,w;case Gf:return S=iT(S,v.mode,w),S.return=v,S;case dc:var T=S._init;return d(v,T(S._payload),w)}if(Cy(S)||sy(S))return S=Hd(S,v.mode,w,null),S.return=v,S;Ex(v,S)}return null}function f(v,S,w,T){var P=S!==null?S.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return P!==null?null:o(v,S,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case px:return w.key===P?l(v,S,w,T):null;case Gf:return w.key===P?c(v,S,w,T):null;case dc:return P=w._init,f(v,S,P(w._payload),T)}if(Cy(w)||sy(w))return P!==null?null:u(v,S,w,T,null);Ex(v,w)}return null}function p(v,S,w,T,P){if(typeof T=="string"&&T!==""||typeof T=="number")return v=v.get(w)||null,o(S,v,""+T,P);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case px:return v=v.get(T.key===null?w:T.key)||null,l(S,v,T,P);case Gf:return v=v.get(T.key===null?w:T.key)||null,c(S,v,T,P);case dc:var O=T._init;return p(v,S,w,O(T._payload),P)}if(Cy(T)||sy(T))return v=v.get(w)||null,u(S,v,T,P,null);Ex(S,T)}return null}function g(v,S,w,T){for(var P=null,O=null,C=S,k=S=0,N=null;C!==null&&k<w.length;k++){C.index>k?(N=C,C=null):N=C.sibling;var L=f(v,C,w[k],T);if(L===null){C===null&&(C=N);break}t&&C&&L.alternate===null&&e(v,C),S=s(L,S,k),O===null?P=L:O.sibling=L,O=L,C=N}if(k===w.length)return n(v,C),Tt&&sh(v,k),P;if(C===null){for(;k<w.length;k++)C=d(v,w[k],T),C!==null&&(S=s(C,S,k),O===null?P=C:O.sibling=C,O=C);return Tt&&sh(v,k),P}for(C=r(v,C);k<w.length;k++)N=p(C,v,k,w[k],T),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?k:N.key),S=s(N,S,k),O===null?P=N:O.sibling=N,O=N);return t&&C.forEach(function(R){return e(v,R)}),Tt&&sh(v,k),P}function y(v,S,w,T){var P=sy(w);if(typeof P!="function")throw Error(Y(150));if(w=P.call(w),w==null)throw Error(Y(151));for(var O=P=null,C=S,k=S=0,N=null,L=w.next();C!==null&&!L.done;k++,L=w.next()){C.index>k?(N=C,C=null):N=C.sibling;var R=f(v,C,L.value,T);if(R===null){C===null&&(C=N);break}t&&C&&R.alternate===null&&e(v,C),S=s(R,S,k),O===null?P=R:O.sibling=R,O=R,C=N}if(L.done)return n(v,C),Tt&&sh(v,k),P;if(C===null){for(;!L.done;k++,L=w.next())L=d(v,L.value,T),L!==null&&(S=s(L,S,k),O===null?P=L:O.sibling=L,O=L);return Tt&&sh(v,k),P}for(C=r(v,C);!L.done;k++,L=w.next())L=p(C,v,k,L.value,T),L!==null&&(t&&L.alternate!==null&&C.delete(L.key===null?k:L.key),S=s(L,S,k),O===null?P=L:O.sibling=L,O=L);return t&&C.forEach(function(B){return e(v,B)}),Tt&&sh(v,k),P}function b(v,S,w,T){if(typeof w=="object"&&w!==null&&w.type===Kf&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case px:e:{for(var P=w.key,O=S;O!==null;){if(O.key===P){if(P=w.type,P===Kf){if(O.tag===7){n(v,O.sibling),S=i(O,w.props.children),S.return=v,v=S;break e}}else if(O.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===dc&&nj(P)===O.type){n(v,O.sibling),S=i(O,w.props),S.ref=uy(v,O,w),S.return=v,v=S;break e}n(v,O);break}else e(v,O);O=O.sibling}w.type===Kf?(S=Hd(w.props.children,v.mode,T,w.key),S.return=v,v=S):(T=b1(w.type,w.key,w.props,null,v.mode,T),T.ref=uy(v,S,w),T.return=v,v=T)}return a(v);case Gf:e:{for(O=w.key;S!==null;){if(S.key===O)if(S.tag===4&&S.stateNode.containerInfo===w.containerInfo&&S.stateNode.implementation===w.implementation){n(v,S.sibling),S=i(S,w.children||[]),S.return=v,v=S;break e}else{n(v,S);break}else e(v,S);S=S.sibling}S=iT(w,v.mode,T),S.return=v,v=S}return a(v);case dc:return O=w._init,b(v,S,O(w._payload),T)}if(Cy(w))return g(v,S,w,T);if(sy(w))return y(v,S,w,T);Ex(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,S!==null&&S.tag===6?(n(v,S.sibling),S=i(S,w),S.return=v,v=S):(n(v,S),S=rT(w,v.mode,T),S.return=v,v=S),a(v)):n(v,S)}return b}var ag=N5(!0),R5=N5(!1),OS=Vu(null),MS=null,tp=null,UO=null;function VO(){UO=tp=MS=null}function zO(t){var e=OS.current;xt(OS),t._currentValue=e}function WC(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Sp(t,e){MS=t,UO=tp=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(oi=!0),t.firstContext=null)}function ks(t){var e=t._currentValue;if(UO!==t)if(t={context:t,memoizedValue:e,next:null},tp===null){if(MS===null)throw Error(Y(308));tp=t,MS.dependencies={lanes:0,firstContext:t}}else tp=tp.next=t;return e}var wh=null;function HO(t){wh===null?wh=[t]:wh.push(t)}function L5(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,HO(e)):(n.next=i.next,i.next=n),e.interleaved=n,Il(t,r)}function Il(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fc=!1;function WO(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function j5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Su(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Il(t,n)}return i=r.interleaved,i===null?(e.next=e,HO(r)):(e.next=i.next,i.next=e),r.interleaved=e,Il(t,n)}function f1(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,IO(t,n)}}function rj(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function DS(t,e,n,r){var i=t.updateQueue;fc=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,u=c=l=null,o=s;do{var f=o.lane,p=o.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,y=o;switch(f=e,p=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break e;d=jt({},d,f);break e;case 2:fc=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);nf|=a,t.lanes=a,t.memoizedState=d}}function ij(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Y(191,i));i.call(r)}}}var fw={},so=Vu(fw),Lv=Vu(fw),jv=Vu(fw);function xh(t){if(t===fw)throw Error(Y(174));return t}function GO(t,e){switch(mt(jv,e),mt(Lv,t),mt(so,fw),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:EC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=EC(e,t)}xt(so),mt(so,e)}function og(){xt(so),xt(Lv),xt(jv)}function F5(t){xh(jv.current);var e=xh(so.current),n=EC(e,t.type);e!==n&&(mt(Lv,t),mt(so,n))}function KO(t){Lv.current===t&&(xt(so),xt(Lv))}var Dt=Vu(0);function NS(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var JP=[];function qO(){for(var t=0;t<JP.length;t++)JP[t]._workInProgressVersionPrimary=null;JP.length=0}var p1=Wl.ReactCurrentDispatcher,ZP=Wl.ReactCurrentBatchConfig,tf=0,Rt=null,vn=null,jn=null,RS=!1,cv=!1,Fv=0,BJ=0;function hr(){throw Error(Y(321))}function XO(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ma(t[n],e[n]))return!1;return!0}function YO(t,e,n,r,i,s){if(tf=s,Rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,p1.current=t===null||t.memoizedState===null?zJ:HJ,t=n(r,i),cv){s=0;do{if(cv=!1,Fv=0,25<=s)throw Error(Y(301));s+=1,jn=vn=null,e.updateQueue=null,p1.current=WJ,t=n(r,i)}while(cv)}if(p1.current=LS,e=vn!==null&&vn.next!==null,tf=0,jn=vn=Rt=null,RS=!1,e)throw Error(Y(300));return t}function JO(){var t=Fv!==0;return Fv=0,t}function Ca(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?Rt.memoizedState=jn=t:jn=jn.next=t,jn}function Is(){if(vn===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=vn.next;var e=jn===null?Rt.memoizedState:jn.next;if(e!==null)jn=e,vn=t;else{if(t===null)throw Error(Y(310));vn=t,t={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},jn===null?Rt.memoizedState=jn=t:jn=jn.next=t}return jn}function Bv(t,e){return typeof e=="function"?e(t):e}function QP(t){var e=Is(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=vn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((tf&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,Rt.lanes|=u,nf|=u}c=c.next}while(c!==null&&c!==s);l===null?a=r:l.next=o,ma(r,e.memoizedState)||(oi=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Rt.lanes|=s,nf|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function eT(t){var e=Is(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);ma(s,e.memoizedState)||(oi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function B5(){}function $5(t,e){var n=Rt,r=Is(),i=e(),s=!ma(r.memoizedState,i);if(s&&(r.memoizedState=i,oi=!0),r=r.queue,ZO(z5.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||jn!==null&&jn.memoizedState.tag&1){if(n.flags|=2048,$v(9,V5.bind(null,n,r,i,e),void 0,null),Bn===null)throw Error(Y(349));tf&30||U5(n,e,i)}return i}function U5(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Rt.updateQueue,e===null?(e={lastEffect:null,stores:null},Rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function V5(t,e,n,r){e.value=n,e.getSnapshot=r,H5(e)&&W5(t)}function z5(t,e,n){return n(function(){H5(e)&&W5(t)})}function H5(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ma(t,n)}catch{return!0}}function W5(t){var e=Il(t,1);e!==null&&fa(e,t,1,-1)}function sj(t){var e=Ca();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bv,lastRenderedState:t},e.queue=t,t=t.dispatch=VJ.bind(null,Rt,t),[e.memoizedState,t]}function $v(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Rt.updateQueue,e===null?(e={lastEffect:null,stores:null},Rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function G5(){return Is().memoizedState}function m1(t,e,n,r){var i=Ca();Rt.flags|=t,i.memoizedState=$v(1|e,n,void 0,r===void 0?null:r)}function F_(t,e,n,r){var i=Is();r=r===void 0?null:r;var s=void 0;if(vn!==null){var a=vn.memoizedState;if(s=a.destroy,r!==null&&XO(r,a.deps)){i.memoizedState=$v(e,n,s,r);return}}Rt.flags|=t,i.memoizedState=$v(1|e,n,s,r)}function aj(t,e){return m1(8390656,8,t,e)}function ZO(t,e){return F_(2048,8,t,e)}function K5(t,e){return F_(4,2,t,e)}function q5(t,e){return F_(4,4,t,e)}function X5(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Y5(t,e,n){return n=n!=null?n.concat([t]):null,F_(4,4,X5.bind(null,e,t),n)}function QO(){}function J5(t,e){var n=Is();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&XO(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Z5(t,e){var n=Is();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&XO(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Q5(t,e,n){return tf&21?(ma(n,e)||(n=i5(),Rt.lanes|=n,nf|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,oi=!0),t.memoizedState=n)}function $J(t,e){var n=qe;qe=n!==0&&4>n?n:4,t(!0);var r=ZP.transition;ZP.transition={};try{t(!1),e()}finally{qe=n,ZP.transition=r}}function eU(){return Is().memoizedState}function UJ(t,e,n){var r=_u(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tU(t))nU(e,n);else if(n=L5(t,e,n,r),n!==null){var i=Ur();fa(n,t,r,i),rU(n,e,r)}}function VJ(t,e,n){var r=_u(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tU(t))nU(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,ma(o,a)){var l=e.interleaved;l===null?(i.next=i,HO(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=L5(t,e,i,r),n!==null&&(i=Ur(),fa(n,t,r,i),rU(n,e,r))}}function tU(t){var e=t.alternate;return t===Rt||e!==null&&e===Rt}function nU(t,e){cv=RS=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rU(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,IO(t,n)}}var LS={readContext:ks,useCallback:hr,useContext:hr,useEffect:hr,useImperativeHandle:hr,useInsertionEffect:hr,useLayoutEffect:hr,useMemo:hr,useReducer:hr,useRef:hr,useState:hr,useDebugValue:hr,useDeferredValue:hr,useTransition:hr,useMutableSource:hr,useSyncExternalStore:hr,useId:hr,unstable_isNewReconciler:!1},zJ={readContext:ks,useCallback:function(t,e){return Ca().memoizedState=[t,e===void 0?null:e],t},useContext:ks,useEffect:aj,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,m1(4194308,4,X5.bind(null,e,t),n)},useLayoutEffect:function(t,e){return m1(4194308,4,t,e)},useInsertionEffect:function(t,e){return m1(4,2,t,e)},useMemo:function(t,e){var n=Ca();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ca();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=UJ.bind(null,Rt,t),[r.memoizedState,t]},useRef:function(t){var e=Ca();return t={current:t},e.memoizedState=t},useState:sj,useDebugValue:QO,useDeferredValue:function(t){return Ca().memoizedState=t},useTransition:function(){var t=sj(!1),e=t[0];return t=$J.bind(null,t[1]),Ca().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Rt,i=Ca();if(Tt){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),Bn===null)throw Error(Y(349));tf&30||U5(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,aj(z5.bind(null,r,s,t),[t]),r.flags|=2048,$v(9,V5.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ca(),e=Bn.identifierPrefix;if(Tt){var n=gl,r=ml;n=(r&~(1<<32-da(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fv++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=BJ++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},HJ={readContext:ks,useCallback:J5,useContext:ks,useEffect:ZO,useImperativeHandle:Y5,useInsertionEffect:K5,useLayoutEffect:q5,useMemo:Z5,useReducer:QP,useRef:G5,useState:function(){return QP(Bv)},useDebugValue:QO,useDeferredValue:function(t){var e=Is();return Q5(e,vn.memoizedState,t)},useTransition:function(){var t=QP(Bv)[0],e=Is().memoizedState;return[t,e]},useMutableSource:B5,useSyncExternalStore:$5,useId:eU,unstable_isNewReconciler:!1},WJ={readContext:ks,useCallback:J5,useContext:ks,useEffect:ZO,useImperativeHandle:Y5,useInsertionEffect:K5,useLayoutEffect:q5,useMemo:Z5,useReducer:eT,useRef:G5,useState:function(){return eT(Bv)},useDebugValue:QO,useDeferredValue:function(t){var e=Is();return vn===null?e.memoizedState=t:Q5(e,vn.memoizedState,t)},useTransition:function(){var t=eT(Bv)[0],e=Is().memoizedState;return[t,e]},useMutableSource:B5,useSyncExternalStore:$5,useId:eU,unstable_isNewReconciler:!1};function zs(t,e){if(t&&t.defaultProps){e=jt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function GC(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:jt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var B_={isMounted:function(t){return(t=t._reactInternals)?wf(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ur(),i=_u(t),s=xl(r,i);s.payload=e,n!=null&&(s.callback=n),e=Su(t,s,i),e!==null&&(fa(e,t,i,r),f1(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ur(),i=_u(t),s=xl(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Su(t,s,i),e!==null&&(fa(e,t,i,r),f1(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ur(),r=_u(t),i=xl(n,r);i.tag=2,e!=null&&(i.callback=e),e=Su(t,i,r),e!==null&&(fa(e,t,r,n),f1(e,t,r))}};function oj(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Mv(n,r)||!Mv(i,s):!0}function iU(t,e,n){var r=!1,i=Ou,s=e.contextType;return typeof s=="object"&&s!==null?s=ks(s):(i=di(e)?Qd:_r.current,r=e.contextTypes,s=(r=r!=null)?ig(t,i):Ou),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=B_,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function lj(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&B_.enqueueReplaceState(e,e.state,null)}function KC(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},WO(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ks(s):(s=di(e)?Qd:_r.current,i.context=ig(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(GC(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&B_.enqueueReplaceState(i,i.state,null),DS(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function lg(t,e){try{var n="",r=e;do n+=bY(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function tT(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qC(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var GJ=typeof WeakMap=="function"?WeakMap:Map;function sU(t,e,n){n=xl(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){FS||(FS=!0,ik=r),qC(t,e)},n}function aU(t,e,n){n=xl(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){qC(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){qC(t,e),typeof r!="function"&&(Au===null?Au=new Set([this]):Au.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function cj(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new GJ;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=aZ.bind(null,t,e,n),e.then(t,t))}function uj(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hj(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xl(-1,1),e.tag=2,Su(n,e,1))),n.lanes|=1),t)}var KJ=Wl.ReactCurrentOwner,oi=!1;function Lr(t,e,n,r){e.child=t===null?R5(e,null,n,r):ag(e,t.child,n,r)}function dj(t,e,n,r,i){n=n.render;var s=e.ref;return Sp(e,i),r=YO(t,e,n,r,s,i),n=JO(),t!==null&&!oi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ol(t,e,i)):(Tt&&n&&FO(e),e.flags|=1,Lr(t,e,r,i),e.child)}function fj(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!oM(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,oU(t,e,s,r,i)):(t=b1(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Mv,n(a,r)&&t.ref===e.ref)return Ol(t,e,i)}return e.flags|=1,t=Eu(s,r),t.ref=e.ref,t.return=e,e.child=t}function oU(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Mv(s,r)&&t.ref===e.ref)if(oi=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(oi=!0);else return e.lanes=t.lanes,Ol(t,e,i)}return XC(t,e,n,r,i)}function lU(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(rp,Ri),Ri|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,mt(rp,Ri),Ri|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,mt(rp,Ri),Ri|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,mt(rp,Ri),Ri|=r;return Lr(t,e,i,n),e.child}function cU(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function XC(t,e,n,r,i){var s=di(n)?Qd:_r.current;return s=ig(e,s),Sp(e,i),n=YO(t,e,n,r,s,i),r=JO(),t!==null&&!oi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ol(t,e,i)):(Tt&&r&&FO(e),e.flags|=1,Lr(t,e,n,i),e.child)}function pj(t,e,n,r,i){if(di(n)){var s=!0;CS(e)}else s=!1;if(Sp(e,i),e.stateNode===null)g1(t,e),iU(e,n,r),KC(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=ks(c):(c=di(n)?Qd:_r.current,c=ig(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&lj(e,a,r,c),fc=!1;var f=e.memoizedState;a.state=f,DS(e,r,a,i),l=e.memoizedState,o!==r||f!==l||hi.current||fc?(typeof u=="function"&&(GC(e,n,u,r),l=e.memoizedState),(o=fc||oj(e,n,o,r,f,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,j5(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:zs(e.type,o),a.props=c,d=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=ks(l):(l=di(n)?Qd:_r.current,l=ig(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==l)&&lj(e,a,r,l),fc=!1,f=e.memoizedState,a.state=f,DS(e,r,a,i);var g=e.memoizedState;o!==d||f!==g||hi.current||fc?(typeof p=="function"&&(GC(e,n,p,r),g=e.memoizedState),(c=fc||oj(e,n,c,r,f,g,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return YC(t,e,n,r,s,i)}function YC(t,e,n,r,i,s){cU(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&QL(e,n,!1),Ol(t,e,s);r=e.stateNode,KJ.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ag(e,t.child,null,s),e.child=ag(e,null,o,s)):Lr(t,e,o,s),e.memoizedState=r.state,i&&QL(e,n,!0),e.child}function uU(t){var e=t.stateNode;e.pendingContext?ZL(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ZL(t,e.context,!1),GO(t,e.containerInfo)}function mj(t,e,n,r,i){return sg(),$O(i),e.flags|=256,Lr(t,e,n,r),e.child}var JC={dehydrated:null,treeContext:null,retryLane:0};function ZC(t){return{baseLanes:t,cachePool:null,transitions:null}}function hU(t,e,n){var r=e.pendingProps,i=Dt.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),mt(Dt,i&1),t===null)return HC(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=V_(a,r,0,null),t=Hd(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ZC(n),e.memoizedState=JC,t):eM(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return qJ(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Eu(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Eu(o,s):(s=Hd(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?ZC(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=JC,r}return s=t.child,t=s.sibling,r=Eu(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function eM(t,e){return e=V_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Px(t,e,n,r){return r!==null&&$O(r),ag(e,t.child,null,n),t=eM(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qJ(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=tT(Error(Y(422))),Px(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=V_({mode:"visible",children:r.children},i,0,null),s=Hd(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ag(e,t.child,null,a),e.child.memoizedState=ZC(a),e.memoizedState=JC,s);if(!(e.mode&1))return Px(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(Y(419)),r=tT(s,r,void 0),Px(t,e,a,r)}if(o=(a&t.childLanes)!==0,oi||o){if(r=Bn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Il(t,i),fa(r,t,i,-1))}return aM(),r=tT(Error(Y(421))),Px(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=oZ.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ui=xu(i.nextSibling),zi=e,Tt=!0,ra=null,t!==null&&(bs[ws++]=ml,bs[ws++]=gl,bs[ws++]=ef,ml=t.id,gl=t.overflow,ef=e),e=eM(e,r.children),e.flags|=4096,e)}function gj(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),WC(t.return,e,n)}function nT(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function dU(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Lr(t,e,r.children,n),r=Dt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gj(t,n,e);else if(t.tag===19)gj(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(mt(Dt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&NS(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),nT(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&NS(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}nT(e,!0,n,null,s);break;case"together":nT(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function g1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ol(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),nf|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=Eu(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Eu(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function XJ(t,e,n){switch(e.tag){case 3:uU(e),sg();break;case 5:F5(e);break;case 1:di(e.type)&&CS(e);break;case 4:GO(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;mt(OS,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(mt(Dt,Dt.current&1),e.flags|=128,null):n&e.child.childLanes?hU(t,e,n):(mt(Dt,Dt.current&1),t=Ol(t,e,n),t!==null?t.sibling:null);mt(Dt,Dt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dU(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),mt(Dt,Dt.current),r)break;return null;case 22:case 23:return e.lanes=0,lU(t,e,n)}return Ol(t,e,n)}var fU,QC,pU,mU;fU=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};QC=function(){};pU=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,xh(so.current);var s=null;switch(n){case"input":i=xC(t,i),r=xC(t,r),s=[];break;case"select":i=jt({},i,{value:void 0}),r=jt({},r,{value:void 0}),s=[];break;case"textarea":i=_C(t,i),r=_C(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=PS)}PC(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ev.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ev.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&vt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};mU=function(t,e,n,r){n!==r&&(e.flags|=4)};function hy(t,e){if(!Tt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function dr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function YJ(t,e,n){var r=e.pendingProps;switch(BO(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dr(e),null;case 1:return di(e.type)&&TS(),dr(e),null;case 3:return r=e.stateNode,og(),xt(hi),xt(_r),qO(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_x(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ra!==null&&(ok(ra),ra=null))),QC(t,e),dr(e),null;case 5:KO(e);var i=xh(jv.current);if(n=e.type,t!==null&&e.stateNode!=null)pU(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return dr(e),null}if(t=xh(so.current),_x(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[eo]=e,r[Rv]=s,t=(e.mode&1)!==0,n){case"dialog":vt("cancel",r),vt("close",r);break;case"iframe":case"object":case"embed":vt("load",r);break;case"video":case"audio":for(i=0;i<Iy.length;i++)vt(Iy[i],r);break;case"source":vt("error",r);break;case"img":case"image":case"link":vt("error",r),vt("load",r);break;case"details":vt("toggle",r);break;case"input":EL(r,s),vt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},vt("invalid",r);break;case"textarea":TL(r,s),vt("invalid",r)}PC(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&Ax(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Ax(r.textContent,o,t),i=["children",""+o]):Ev.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&vt("scroll",r)}switch(n){case"input":mx(r),PL(r,s,!0);break;case"textarea":mx(r),CL(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=PS)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=z6(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[eo]=e,t[Rv]=r,fU(t,e,!1,!1),e.stateNode=t;e:{switch(a=TC(n,r),n){case"dialog":vt("cancel",t),vt("close",t),i=r;break;case"iframe":case"object":case"embed":vt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Iy.length;i++)vt(Iy[i],t);i=r;break;case"source":vt("error",t),i=r;break;case"img":case"image":case"link":vt("error",t),vt("load",t),i=r;break;case"details":vt("toggle",t),i=r;break;case"input":EL(t,r),i=xC(t,r),vt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=jt({},r,{value:void 0}),vt("invalid",t);break;case"textarea":TL(t,r),i=_C(t,r),vt("invalid",t);break;default:i=r}PC(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?G6(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&H6(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Pv(t,l):typeof l=="number"&&Pv(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ev.hasOwnProperty(s)?l!=null&&s==="onScroll"&&vt("scroll",t):l!=null&&_O(t,s,l,a))}switch(n){case"input":mx(t),PL(t,r,!1);break;case"textarea":mx(t),CL(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Iu(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?vp(t,!!r.multiple,s,!1):r.defaultValue!=null&&vp(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=PS)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dr(e),null;case 6:if(t&&e.stateNode!=null)mU(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=xh(jv.current),xh(so.current),_x(e)){if(r=e.stateNode,n=e.memoizedProps,r[eo]=e,(s=r.nodeValue!==n)&&(t=zi,t!==null))switch(t.tag){case 3:Ax(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ax(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[eo]=e,e.stateNode=r}return dr(e),null;case 13:if(xt(Dt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Tt&&Ui!==null&&e.mode&1&&!(e.flags&128))D5(),sg(),e.flags|=98560,s=!1;else if(s=_x(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Y(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Y(317));s[eo]=e}else sg(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dr(e),s=!1}else ra!==null&&(ok(ra),ra=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Dt.current&1?wn===0&&(wn=3):aM())),e.updateQueue!==null&&(e.flags|=4),dr(e),null);case 4:return og(),QC(t,e),t===null&&Dv(e.stateNode.containerInfo),dr(e),null;case 10:return zO(e.type._context),dr(e),null;case 17:return di(e.type)&&TS(),dr(e),null;case 19:if(xt(Dt),s=e.memoizedState,s===null)return dr(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)hy(s,!1);else{if(wn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=NS(t),a!==null){for(e.flags|=128,hy(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return mt(Dt,Dt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Qt()>cg&&(e.flags|=128,r=!0,hy(s,!1),e.lanes=4194304)}else{if(!r)if(t=NS(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),hy(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Tt)return dr(e),null}else 2*Qt()-s.renderingStartTime>cg&&n!==1073741824&&(e.flags|=128,r=!0,hy(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Qt(),e.sibling=null,n=Dt.current,mt(Dt,r?n&1|2:n&1),e):(dr(e),null);case 22:case 23:return sM(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ri&1073741824&&(dr(e),e.subtreeFlags&6&&(e.flags|=8192)):dr(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function JJ(t,e){switch(BO(e),e.tag){case 1:return di(e.type)&&TS(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return og(),xt(hi),xt(_r),qO(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return KO(e),null;case 13:if(xt(Dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));sg()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xt(Dt),null;case 4:return og(),null;case 10:return zO(e.type._context),null;case 22:case 23:return sM(),null;case 24:return null;default:return null}}var Tx=!1,xr=!1,ZJ=typeof WeakSet=="function"?WeakSet:Set,se=null;function np(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Wt(t,e,r)}else n.current=null}function ek(t,e,n){try{n()}catch(r){Wt(t,e,r)}}var yj=!1;function QJ(t,e){if(jC=AS,t=w5(),jO(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(o=a+i),d!==s||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===i&&(o=a),f===s&&++u===r&&(l=a),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(FC={focusedElem:t,selectionRange:n},AS=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,b=g.memoizedState,v=e.stateNode,S=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:zs(e.type,y),b);v.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(T){Wt(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return g=yj,yj=!1,g}function uv(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ek(e,n,s)}i=i.next}while(i!==r)}}function $_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function tk(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gU(t){var e=t.alternate;e!==null&&(t.alternate=null,gU(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[eo],delete e[Rv],delete e[UC],delete e[RJ],delete e[LJ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function yU(t){return t.tag===5||t.tag===3||t.tag===4}function vj(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yU(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nk(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=PS));else if(r!==4&&(t=t.child,t!==null))for(nk(t,e,n),t=t.sibling;t!==null;)nk(t,e,n),t=t.sibling}function rk(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(rk(t,e,n),t=t.sibling;t!==null;)rk(t,e,n),t=t.sibling}var Qn=null,na=!1;function sc(t,e,n){for(n=n.child;n!==null;)vU(t,e,n),n=n.sibling}function vU(t,e,n){if(io&&typeof io.onCommitFiberUnmount=="function")try{io.onCommitFiberUnmount(M_,n)}catch{}switch(n.tag){case 5:xr||np(n,e);case 6:var r=Qn,i=na;Qn=null,sc(t,e,n),Qn=r,na=i,Qn!==null&&(na?(t=Qn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Qn.removeChild(n.stateNode));break;case 18:Qn!==null&&(na?(t=Qn,n=n.stateNode,t.nodeType===8?XP(t.parentNode,n):t.nodeType===1&&XP(t,n),Iv(t)):XP(Qn,n.stateNode));break;case 4:r=Qn,i=na,Qn=n.stateNode.containerInfo,na=!0,sc(t,e,n),Qn=r,na=i;break;case 0:case 11:case 14:case 15:if(!xr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&ek(n,e,a),i=i.next}while(i!==r)}sc(t,e,n);break;case 1:if(!xr&&(np(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Wt(n,e,o)}sc(t,e,n);break;case 21:sc(t,e,n);break;case 22:n.mode&1?(xr=(r=xr)||n.memoizedState!==null,sc(t,e,n),xr=r):sc(t,e,n);break;default:sc(t,e,n)}}function bj(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ZJ),e.forEach(function(r){var i=lZ.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Bs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Qn=o.stateNode,na=!1;break e;case 3:Qn=o.stateNode.containerInfo,na=!0;break e;case 4:Qn=o.stateNode.containerInfo,na=!0;break e}o=o.return}if(Qn===null)throw Error(Y(160));vU(s,a,i),Qn=null,na=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Wt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bU(e,t),e=e.sibling}function bU(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bs(e,t),Aa(t),r&4){try{uv(3,t,t.return),$_(3,t)}catch(y){Wt(t,t.return,y)}try{uv(5,t,t.return)}catch(y){Wt(t,t.return,y)}}break;case 1:Bs(e,t),Aa(t),r&512&&n!==null&&np(n,n.return);break;case 5:if(Bs(e,t),Aa(t),r&512&&n!==null&&np(n,n.return),t.flags&32){var i=t.stateNode;try{Pv(i,"")}catch(y){Wt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&U6(i,s),TC(o,a);var c=TC(o,s);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?G6(i,d):u==="dangerouslySetInnerHTML"?H6(i,d):u==="children"?Pv(i,d):_O(i,u,d,c)}switch(o){case"input":SC(i,s);break;case"textarea":V6(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?vp(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?vp(i,!!s.multiple,s.defaultValue,!0):vp(i,!!s.multiple,s.multiple?[]:"",!1))}i[Rv]=s}catch(y){Wt(t,t.return,y)}}break;case 6:if(Bs(e,t),Aa(t),r&4){if(t.stateNode===null)throw Error(Y(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Wt(t,t.return,y)}}break;case 3:if(Bs(e,t),Aa(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Iv(e.containerInfo)}catch(y){Wt(t,t.return,y)}break;case 4:Bs(e,t),Aa(t);break;case 13:Bs(e,t),Aa(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(rM=Qt())),r&4&&bj(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(xr=(c=xr)||u,Bs(e,t),xr=c):Bs(e,t),Aa(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(se=t,u=t.child;u!==null;){for(d=se=u;se!==null;){switch(f=se,p=f.child,f.tag){case 0:case 11:case 14:case 15:uv(4,f,f.return);break;case 1:np(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Wt(r,n,y)}}break;case 5:np(f,f.return);break;case 22:if(f.memoizedState!==null){xj(d);continue}}p!==null?(p.return=f,se=p):xj(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=W6("display",a))}catch(y){Wt(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){Wt(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Bs(e,t),Aa(t),r&4&&bj(t);break;case 21:break;default:Bs(e,t),Aa(t)}}function Aa(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(yU(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Pv(i,""),r.flags&=-33);var s=vj(t);rk(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=vj(t);nk(t,o,a);break;default:throw Error(Y(161))}}catch(l){Wt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eZ(t,e,n){se=t,wU(t)}function wU(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var i=se,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Tx;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||xr;o=Tx;var c=xr;if(Tx=a,(xr=l)&&!c)for(se=i;se!==null;)a=se,l=a.child,a.tag===22&&a.memoizedState!==null?Sj(i):l!==null?(l.return=a,se=l):Sj(i);for(;s!==null;)se=s,wU(s),s=s.sibling;se=i,Tx=o,xr=c}wj(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,se=s):wj(t)}}function wj(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xr||$_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:zs(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ij(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ij(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Iv(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}xr||e.flags&512&&tk(e)}catch(f){Wt(e,e.return,f)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function xj(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function Sj(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$_(4,e)}catch(l){Wt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Wt(e,i,l)}}var s=e.return;try{tk(e)}catch(l){Wt(e,s,l)}break;case 5:var a=e.return;try{tk(e)}catch(l){Wt(e,a,l)}}}catch(l){Wt(e,e.return,l)}if(e===t){se=null;break}var o=e.sibling;if(o!==null){o.return=e.return,se=o;break}se=e.return}}var tZ=Math.ceil,jS=Wl.ReactCurrentDispatcher,tM=Wl.ReactCurrentOwner,Ps=Wl.ReactCurrentBatchConfig,je=0,Bn=null,on=null,ar=0,Ri=0,rp=Vu(0),wn=0,Uv=null,nf=0,U_=0,nM=0,hv=null,ai=null,rM=0,cg=1/0,Po=null,FS=!1,ik=null,Au=null,Cx=!1,gu=null,BS=0,dv=0,sk=null,y1=-1,v1=0;function Ur(){return je&6?Qt():y1!==-1?y1:y1=Qt()}function _u(t){return t.mode&1?je&2&&ar!==0?ar&-ar:FJ.transition!==null?(v1===0&&(v1=i5()),v1):(t=qe,t!==0||(t=window.event,t=t===void 0?16:h5(t.type)),t):1}function fa(t,e,n,r){if(50<dv)throw dv=0,sk=null,Error(Y(185));uw(t,n,r),(!(je&2)||t!==Bn)&&(t===Bn&&(!(je&2)&&(U_|=n),wn===4&&yc(t,ar)),fi(t,r),n===1&&je===0&&!(e.mode&1)&&(cg=Qt()+500,j_&&zu()))}function fi(t,e){var n=t.callbackNode;FY(t,e);var r=SS(t,t===Bn?ar:0);if(r===0)n!==null&&OL(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&OL(n),e===1)t.tag===0?jJ(Aj.bind(null,t)):I5(Aj.bind(null,t)),DJ(function(){!(je&6)&&zu()}),n=null;else{switch(s5(r)){case 1:n=kO;break;case 4:n=n5;break;case 16:n=xS;break;case 536870912:n=r5;break;default:n=xS}n=CU(n,xU.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xU(t,e){if(y1=-1,v1=0,je&6)throw Error(Y(327));var n=t.callbackNode;if(Ap()&&t.callbackNode!==n)return null;var r=SS(t,t===Bn?ar:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=$S(t,r);else{e=r;var i=je;je|=2;var s=AU();(Bn!==t||ar!==e)&&(Po=null,cg=Qt()+500,zd(t,e));do try{iZ();break}catch(o){SU(t,o)}while(!0);VO(),jS.current=s,je=i,on!==null?e=0:(Bn=null,ar=0,e=wn)}if(e!==0){if(e===2&&(i=MC(t),i!==0&&(r=i,e=ak(t,i))),e===1)throw n=Uv,zd(t,0),yc(t,r),fi(t,Qt()),n;if(e===6)yc(t,r);else{if(i=t.current.alternate,!(r&30)&&!nZ(i)&&(e=$S(t,r),e===2&&(s=MC(t),s!==0&&(r=s,e=ak(t,s))),e===1))throw n=Uv,zd(t,0),yc(t,r),fi(t,Qt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:ah(t,ai,Po);break;case 3:if(yc(t,r),(r&130023424)===r&&(e=rM+500-Qt(),10<e)){if(SS(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ur(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$C(ah.bind(null,t,ai,Po),e);break}ah(t,ai,Po);break;case 4:if(yc(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-da(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Qt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tZ(r/1960))-r,10<r){t.timeoutHandle=$C(ah.bind(null,t,ai,Po),r);break}ah(t,ai,Po);break;case 5:ah(t,ai,Po);break;default:throw Error(Y(329))}}}return fi(t,Qt()),t.callbackNode===n?xU.bind(null,t):null}function ak(t,e){var n=hv;return t.current.memoizedState.isDehydrated&&(zd(t,e).flags|=256),t=$S(t,e),t!==2&&(e=ai,ai=n,e!==null&&ok(e)),t}function ok(t){ai===null?ai=t:ai.push.apply(ai,t)}function nZ(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ma(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yc(t,e){for(e&=~nM,e&=~U_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-da(e),r=1<<n;t[n]=-1,e&=~r}}function Aj(t){if(je&6)throw Error(Y(327));Ap();var e=SS(t,0);if(!(e&1))return fi(t,Qt()),null;var n=$S(t,e);if(t.tag!==0&&n===2){var r=MC(t);r!==0&&(e=r,n=ak(t,r))}if(n===1)throw n=Uv,zd(t,0),yc(t,e),fi(t,Qt()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ah(t,ai,Po),fi(t,Qt()),null}function iM(t,e){var n=je;je|=1;try{return t(e)}finally{je=n,je===0&&(cg=Qt()+500,j_&&zu())}}function rf(t){gu!==null&&gu.tag===0&&!(je&6)&&Ap();var e=je;je|=1;var n=Ps.transition,r=qe;try{if(Ps.transition=null,qe=1,t)return t()}finally{qe=r,Ps.transition=n,je=e,!(je&6)&&zu()}}function sM(){Ri=rp.current,xt(rp)}function zd(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,MJ(n)),on!==null)for(n=on.return;n!==null;){var r=n;switch(BO(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&TS();break;case 3:og(),xt(hi),xt(_r),qO();break;case 5:KO(r);break;case 4:og();break;case 13:xt(Dt);break;case 19:xt(Dt);break;case 10:zO(r.type._context);break;case 22:case 23:sM()}n=n.return}if(Bn=t,on=t=Eu(t.current,null),ar=Ri=e,wn=0,Uv=null,nM=U_=nf=0,ai=hv=null,wh!==null){for(e=0;e<wh.length;e++)if(n=wh[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}wh=null}return t}function SU(t,e){do{var n=on;try{if(VO(),p1.current=LS,RS){for(var r=Rt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}RS=!1}if(tf=0,jn=vn=Rt=null,cv=!1,Fv=0,tM.current=null,n===null||n.return===null){wn=1,Uv=e,on=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=ar,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=uj(a);if(p!==null){p.flags&=-257,hj(p,a,o,s,e),p.mode&1&&cj(s,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){cj(s,c,e),aM();break e}l=Error(Y(426))}}else if(Tt&&o.mode&1){var b=uj(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),hj(b,a,o,s,e),$O(lg(l,o));break e}}s=l=lg(l,o),wn!==4&&(wn=2),hv===null?hv=[s]:hv.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=sU(s,l,e);rj(s,v);break e;case 1:o=l;var S=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Au===null||!Au.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=aU(s,o,e);rj(s,T);break e}}s=s.return}while(s!==null)}EU(n)}catch(P){e=P,on===n&&n!==null&&(on=n=n.return);continue}break}while(!0)}function AU(){var t=jS.current;return jS.current=LS,t===null?LS:t}function aM(){(wn===0||wn===3||wn===2)&&(wn=4),Bn===null||!(nf&268435455)&&!(U_&268435455)||yc(Bn,ar)}function $S(t,e){var n=je;je|=2;var r=AU();(Bn!==t||ar!==e)&&(Po=null,zd(t,e));do try{rZ();break}catch(i){SU(t,i)}while(!0);if(VO(),je=n,jS.current=r,on!==null)throw Error(Y(261));return Bn=null,ar=0,wn}function rZ(){for(;on!==null;)_U(on)}function iZ(){for(;on!==null&&!kY();)_U(on)}function _U(t){var e=TU(t.alternate,t,Ri);t.memoizedProps=t.pendingProps,e===null?EU(t):on=e,tM.current=null}function EU(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=JJ(n,e),n!==null){n.flags&=32767,on=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wn=6,on=null;return}}else if(n=YJ(n,e,Ri),n!==null){on=n;return}if(e=e.sibling,e!==null){on=e;return}on=e=t}while(e!==null);wn===0&&(wn=5)}function ah(t,e,n){var r=qe,i=Ps.transition;try{Ps.transition=null,qe=1,sZ(t,e,n,r)}finally{Ps.transition=i,qe=r}return null}function sZ(t,e,n,r){do Ap();while(gu!==null);if(je&6)throw Error(Y(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(BY(t,s),t===Bn&&(on=Bn=null,ar=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cx||(Cx=!0,CU(xS,function(){return Ap(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ps.transition,Ps.transition=null;var a=qe;qe=1;var o=je;je|=4,tM.current=null,QJ(t,n),bU(n,t),EJ(FC),AS=!!jC,FC=jC=null,t.current=n,eZ(n),IY(),je=o,qe=a,Ps.transition=s}else t.current=n;if(Cx&&(Cx=!1,gu=t,BS=i),s=t.pendingLanes,s===0&&(Au=null),DY(n.stateNode),fi(t,Qt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(FS)throw FS=!1,t=ik,ik=null,t;return BS&1&&t.tag!==0&&Ap(),s=t.pendingLanes,s&1?t===sk?dv++:(dv=0,sk=t):dv=0,zu(),null}function Ap(){if(gu!==null){var t=s5(BS),e=Ps.transition,n=qe;try{if(Ps.transition=null,qe=16>t?16:t,gu===null)var r=!1;else{if(t=gu,gu=null,BS=0,je&6)throw Error(Y(331));var i=je;for(je|=4,se=t.current;se!==null;){var s=se,a=s.child;if(se.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(se=c;se!==null;){var u=se;switch(u.tag){case 0:case 11:case 15:uv(8,u,s)}var d=u.child;if(d!==null)d.return=u,se=d;else for(;se!==null;){u=se;var f=u.sibling,p=u.return;if(gU(u),u===c){se=null;break}if(f!==null){f.return=p,se=f;break}se=p}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}se=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,se=a;else e:for(;se!==null;){if(s=se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:uv(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,se=v;break e}se=s.return}}var S=t.current;for(se=S;se!==null;){a=se;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,se=w;else e:for(a=S;se!==null;){if(o=se,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:$_(9,o)}}catch(P){Wt(o,o.return,P)}if(o===a){se=null;break e}var T=o.sibling;if(T!==null){T.return=o.return,se=T;break e}se=o.return}}if(je=i,zu(),io&&typeof io.onPostCommitFiberRoot=="function")try{io.onPostCommitFiberRoot(M_,t)}catch{}r=!0}return r}finally{qe=n,Ps.transition=e}}return!1}function _j(t,e,n){e=lg(n,e),e=sU(t,e,1),t=Su(t,e,1),e=Ur(),t!==null&&(uw(t,1,e),fi(t,e))}function Wt(t,e,n){if(t.tag===3)_j(t,t,n);else for(;e!==null;){if(e.tag===3){_j(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Au===null||!Au.has(r))){t=lg(n,t),t=aU(e,t,1),e=Su(e,t,1),t=Ur(),e!==null&&(uw(e,1,t),fi(e,t));break}}e=e.return}}function aZ(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ur(),t.pingedLanes|=t.suspendedLanes&n,Bn===t&&(ar&n)===n&&(wn===4||wn===3&&(ar&130023424)===ar&&500>Qt()-rM?zd(t,0):nM|=n),fi(t,e)}function PU(t,e){e===0&&(t.mode&1?(e=vx,vx<<=1,!(vx&130023424)&&(vx=4194304)):e=1);var n=Ur();t=Il(t,e),t!==null&&(uw(t,e,n),fi(t,n))}function oZ(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),PU(t,n)}function lZ(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),PU(t,n)}var TU;TU=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||hi.current)oi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return oi=!1,XJ(t,e,n);oi=!!(t.flags&131072)}else oi=!1,Tt&&e.flags&1048576&&O5(e,IS,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;g1(t,e),t=e.pendingProps;var i=ig(e,_r.current);Sp(e,n),i=YO(null,e,r,t,i,n);var s=JO();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,di(r)?(s=!0,CS(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,WO(e),i.updater=B_,e.stateNode=i,i._reactInternals=e,KC(e,r,t,n),e=YC(null,e,r,!0,s,n)):(e.tag=0,Tt&&s&&FO(e),Lr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(g1(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=uZ(r),t=zs(r,t),i){case 0:e=XC(null,e,r,t,n);break e;case 1:e=pj(null,e,r,t,n);break e;case 11:e=dj(null,e,r,t,n);break e;case 14:e=fj(null,e,r,zs(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zs(r,i),XC(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zs(r,i),pj(t,e,r,i,n);case 3:e:{if(uU(e),t===null)throw Error(Y(387));r=e.pendingProps,s=e.memoizedState,i=s.element,j5(t,e),DS(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=lg(Error(Y(423)),e),e=mj(t,e,r,n,i);break e}else if(r!==i){i=lg(Error(Y(424)),e),e=mj(t,e,r,n,i);break e}else for(Ui=xu(e.stateNode.containerInfo.firstChild),zi=e,Tt=!0,ra=null,n=R5(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sg(),r===i){e=Ol(t,e,n);break e}Lr(t,e,r,n)}e=e.child}return e;case 5:return F5(e),t===null&&HC(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,BC(r,i)?a=null:s!==null&&BC(r,s)&&(e.flags|=32),cU(t,e),Lr(t,e,a,n),e.child;case 6:return t===null&&HC(e),null;case 13:return hU(t,e,n);case 4:return GO(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ag(e,null,r,n):Lr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zs(r,i),dj(t,e,r,i,n);case 7:return Lr(t,e,e.pendingProps,n),e.child;case 8:return Lr(t,e,e.pendingProps.children,n),e.child;case 12:return Lr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,mt(OS,r._currentValue),r._currentValue=a,s!==null)if(ma(s.value,a)){if(s.children===i.children&&!hi.current){e=Ol(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=xl(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),WC(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Y(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),WC(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Lr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Sp(e,n),i=ks(i),r=r(i),e.flags|=1,Lr(t,e,r,n),e.child;case 14:return r=e.type,i=zs(r,e.pendingProps),i=zs(r.type,i),fj(t,e,r,i,n);case 15:return oU(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zs(r,i),g1(t,e),e.tag=1,di(r)?(t=!0,CS(e)):t=!1,Sp(e,n),iU(e,r,i),KC(e,r,i,n),YC(null,e,r,!0,t,n);case 19:return dU(t,e,n);case 22:return lU(t,e,n)}throw Error(Y(156,e.tag))};function CU(t,e){return t5(t,e)}function cZ(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ss(t,e,n,r){return new cZ(t,e,n,r)}function oM(t){return t=t.prototype,!(!t||!t.isReactComponent)}function uZ(t){if(typeof t=="function")return oM(t)?1:0;if(t!=null){if(t=t.$$typeof,t===PO)return 11;if(t===TO)return 14}return 2}function Eu(t,e){var n=t.alternate;return n===null?(n=Ss(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function b1(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")oM(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Kf:return Hd(n.children,i,s,e);case EO:a=8,i|=8;break;case yC:return t=Ss(12,n,e,i|2),t.elementType=yC,t.lanes=s,t;case vC:return t=Ss(13,n,e,i),t.elementType=vC,t.lanes=s,t;case bC:return t=Ss(19,n,e,i),t.elementType=bC,t.lanes=s,t;case F6:return V_(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L6:a=10;break e;case j6:a=9;break e;case PO:a=11;break e;case TO:a=14;break e;case dc:a=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=Ss(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Hd(t,e,n,r){return t=Ss(7,t,r,e),t.lanes=n,t}function V_(t,e,n,r){return t=Ss(22,t,r,e),t.elementType=F6,t.lanes=n,t.stateNode={isHidden:!1},t}function rT(t,e,n){return t=Ss(6,t,null,e),t.lanes=n,t}function iT(t,e,n){return e=Ss(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hZ(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=FP(0),this.expirationTimes=FP(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=FP(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function lM(t,e,n,r,i,s,a,o,l){return t=new hZ(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ss(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},WO(s),t}function dZ(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gf,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function kU(t){if(!t)return Ou;t=t._reactInternals;e:{if(wf(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(di(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(di(n))return k5(t,n,e)}return e}function IU(t,e,n,r,i,s,a,o,l){return t=lM(n,r,!0,t,i,s,a,o,l),t.context=kU(null),n=t.current,r=Ur(),i=_u(n),s=xl(r,i),s.callback=e??null,Su(n,s,i),t.current.lanes=i,uw(t,i,r),fi(t,r),t}function z_(t,e,n,r){var i=e.current,s=Ur(),a=_u(i);return n=kU(n),e.context===null?e.context=n:e.pendingContext=n,e=xl(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Su(i,e,a),t!==null&&(fa(t,i,a,s),f1(t,i,a)),a}function US(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ej(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function cM(t,e){Ej(t,e),(t=t.alternate)&&Ej(t,e)}function fZ(){return null}var OU=typeof reportError=="function"?reportError:function(t){console.error(t)};function uM(t){this._internalRoot=t}H_.prototype.render=uM.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));z_(t,e,null,null)};H_.prototype.unmount=uM.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rf(function(){z_(null,t,null,null)}),e[kl]=null}};function H_(t){this._internalRoot=t}H_.prototype.unstable_scheduleHydration=function(t){if(t){var e=l5();t={blockedOn:null,target:t,priority:e};for(var n=0;n<gc.length&&e!==0&&e<gc[n].priority;n++);gc.splice(n,0,t),n===0&&u5(t)}};function hM(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function W_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Pj(){}function pZ(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=US(a);s.call(c)}}var a=IU(e,r,t,0,null,!1,!1,"",Pj);return t._reactRootContainer=a,t[kl]=a.current,Dv(t.nodeType===8?t.parentNode:t),rf(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=US(l);o.call(c)}}var l=lM(t,0,!1,null,null,!1,!1,"",Pj);return t._reactRootContainer=l,t[kl]=l.current,Dv(t.nodeType===8?t.parentNode:t),rf(function(){z_(e,l,n,r)}),l}function G_(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=US(a);o.call(l)}}z_(e,a,t,i)}else a=pZ(n,e,t,i,r);return US(a)}a5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ky(e.pendingLanes);n!==0&&(IO(e,n|1),fi(e,Qt()),!(je&6)&&(cg=Qt()+500,zu()))}break;case 13:rf(function(){var r=Il(t,1);if(r!==null){var i=Ur();fa(r,t,1,i)}}),cM(t,1)}};OO=function(t){if(t.tag===13){var e=Il(t,134217728);if(e!==null){var n=Ur();fa(e,t,134217728,n)}cM(t,134217728)}};o5=function(t){if(t.tag===13){var e=_u(t),n=Il(t,e);if(n!==null){var r=Ur();fa(n,t,e,r)}cM(t,e)}};l5=function(){return qe};c5=function(t,e){var n=qe;try{return qe=t,e()}finally{qe=n}};kC=function(t,e,n){switch(e){case"input":if(SC(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=L_(r);if(!i)throw Error(Y(90));$6(r),SC(r,i)}}}break;case"textarea":V6(t,n);break;case"select":e=n.value,e!=null&&vp(t,!!n.multiple,e,!1)}};X6=iM;Y6=rf;var mZ={usingClientEntryPoint:!1,Events:[dw,Jf,L_,K6,q6,iM]},dy={findFiberByHostInstance:bh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gZ={bundleType:dy.bundleType,version:dy.version,rendererPackageName:dy.rendererPackageName,rendererConfig:dy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Q6(t),t===null?null:t.stateNode},findFiberByHostInstance:dy.findFiberByHostInstance||fZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kx.isDisabled&&kx.supportsFiber)try{M_=kx.inject(gZ),io=kx}catch{}}Xi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mZ;Xi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hM(e))throw Error(Y(200));return dZ(t,e,null,n)};Xi.createRoot=function(t,e){if(!hM(t))throw Error(Y(299));var n=!1,r="",i=OU;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=lM(t,1,!1,null,null,n,!1,r,i),t[kl]=e.current,Dv(t.nodeType===8?t.parentNode:t),new uM(e)};Xi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=Q6(e),t=t===null?null:t.stateNode,t};Xi.flushSync=function(t){return rf(t)};Xi.hydrate=function(t,e,n){if(!W_(e))throw Error(Y(200));return G_(null,t,e,!0,n)};Xi.hydrateRoot=function(t,e,n){if(!hM(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=OU;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=IU(e,null,t,1,n??null,i,!1,s,a),t[kl]=e.current,Dv(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new H_(e)};Xi.render=function(t,e,n){if(!W_(e))throw Error(Y(200));return G_(null,t,e,!1,n)};Xi.unmountComponentAtNode=function(t){if(!W_(t))throw Error(Y(40));return t._reactRootContainer?(rf(function(){G_(null,null,t,!1,function(){t._reactRootContainer=null,t[kl]=null})}),!0):!1};Xi.unstable_batchedUpdates=iM;Xi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!W_(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return G_(t,e,n,!1,r)};Xi.version="18.3.1-next-f1338f8080-20240426";function MU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(MU)}catch(t){console.error(t)}}MU(),M6.exports=Xi;var K_=M6.exports,Tj=K_;mC.createRoot=Tj.createRoot,mC.hydrateRoot=Tj.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vv(){return Vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vv.apply(this,arguments)}var yu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(yu||(yu={}));const Cj="popstate";function yZ(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return lk("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:VS(i)}return bZ(e,n,null,t)}function en(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dM(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vZ(){return Math.random().toString(36).substr(2,8)}function kj(t,e){return{usr:t.state,key:t.key,idx:e}}function lk(t,e,n,r){return n===void 0&&(n=null),Vv({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Tg(e):e,{state:n,key:e&&e.key||r||vZ()})}function VS(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Tg(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function bZ(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=yu.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(Vv({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function d(){o=yu.Pop;let b=u(),v=b==null?null:b-c;c=b,l&&l({action:o,location:y.location,delta:v})}function f(b,v){o=yu.Push;let S=lk(y.location,b,v);c=u()+1;let w=kj(S,c),T=y.createHref(S);try{a.pushState(w,"",T)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(T)}s&&l&&l({action:o,location:y.location,delta:1})}function p(b,v){o=yu.Replace;let S=lk(y.location,b,v);c=u();let w=kj(S,c),T=y.createHref(S);a.replaceState(w,"",T),s&&l&&l({action:o,location:y.location,delta:0})}function g(b){let v=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof b=="string"?b:VS(b);return S=S.replace(/ $/,"%20"),en(v,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,v)}let y={get action(){return o},get location(){return t(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Cj,d),l=b,()=>{i.removeEventListener(Cj,d),l=null}},createHref(b){return e(i,b)},createURL:g,encodeLocation(b){let v=g(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(b){return a.go(b)}};return y}var Ij;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ij||(Ij={}));function wZ(t,e,n){return n===void 0&&(n="/"),xZ(t,e,n)}function xZ(t,e,n,r){let i=typeof e=="string"?Tg(e):e,s=fM(i.pathname||"/",n);if(s==null)return null;let a=DU(t);SZ(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=NZ(s);o=OZ(a[l],c)}return o}function DU(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(en(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Pu([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(en(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),DU(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:kZ(c,s.index),routesMeta:u})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of NU(s.path))i(s,a,l)}),e}function NU(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=NU(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function SZ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:IZ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const AZ=/^:[\w-]+$/,_Z=3,EZ=2,PZ=1,TZ=10,CZ=-2,Oj=t=>t==="*";function kZ(t,e){let n=t.split("/"),r=n.length;return n.some(Oj)&&(r+=CZ),e&&(r+=EZ),n.filter(i=>!Oj(i)).reduce((i,s)=>i+(AZ.test(s)?_Z:s===""?PZ:TZ),r)}function IZ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function OZ(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=MZ({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:Pu([s,d.pathname]),pathnameBase:BZ(Pu([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Pu([s,d.pathnameBase]))}return a}function MZ(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=DZ(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let y=o[d]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=o[d];return p&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function DZ(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),dM(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function NZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return dM(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function fM(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const RZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LZ=t=>RZ.test(t);function jZ(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Tg(t):t,s;if(n)if(LZ(n))s=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),dM(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?s=Mj(n.substring(1),"/"):s=Mj(n,e)}else s=e;return{pathname:s,search:$Z(r),hash:UZ(i)}}function Mj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function sT(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function FZ(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function pM(t,e){let n=FZ(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function mM(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Tg(t):(i=Vv({},t),en(!i.pathname||!i.pathname.includes("?"),sT("?","pathname","search",i)),en(!i.pathname||!i.pathname.includes("#"),sT("#","pathname","hash",i)),en(!i.search||!i.search.includes("#"),sT("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let d=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}o=d>=0?e[d]:"/"}let l=jZ(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Pu=t=>t.join("/").replace(/\/\/+/g,"/"),BZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$Z=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function VZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const RU=["post","put","patch","delete"];new Set(RU);const zZ=["get",...RU];new Set(zZ);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zv(){return zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zv.apply(this,arguments)}const gM=A.createContext(null),HZ=A.createContext(null),Hu=A.createContext(null),q_=A.createContext(null),wo=A.createContext({outlet:null,matches:[],isDataRoute:!1}),LU=A.createContext(null);function WZ(t,e){let{relative:n}=e===void 0?{}:e;Cg()||en(!1);let{basename:r,navigator:i}=A.useContext(Hu),{hash:s,pathname:a,search:o}=BU(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Pu([r,a])),i.createHref({pathname:l,search:o,hash:s})}function Cg(){return A.useContext(q_)!=null}function pw(){return Cg()||en(!1),A.useContext(q_).location}function jU(t){A.useContext(Hu).static||A.useLayoutEffect(t)}function xf(){let{isDataRoute:t}=A.useContext(wo);return t?aQ():GZ()}function GZ(){Cg()||en(!1);let t=A.useContext(gM),{basename:e,future:n,navigator:r}=A.useContext(Hu),{matches:i}=A.useContext(wo),{pathname:s}=pw(),a=JSON.stringify(pM(i,n.v7_relativeSplatPath)),o=A.useRef(!1);return jU(()=>{o.current=!0}),A.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=mM(c,JSON.parse(a),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Pu([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,a,s,t])}const KZ=A.createContext(null);function qZ(t){let e=A.useContext(wo).outlet;return e&&A.createElement(KZ.Provider,{value:t},e)}function FU(){let{matches:t}=A.useContext(wo),e=t[t.length-1];return e?e.params:{}}function BU(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=A.useContext(Hu),{matches:i}=A.useContext(wo),{pathname:s}=pw(),a=JSON.stringify(pM(i,r.v7_relativeSplatPath));return A.useMemo(()=>mM(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function XZ(t,e){return YZ(t,e)}function YZ(t,e,n,r){Cg()||en(!1);let{navigator:i}=A.useContext(Hu),{matches:s}=A.useContext(wo),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=pw(),u;if(e){var d;let b=typeof e=="string"?Tg(e):e;l==="/"||(d=b.pathname)!=null&&d.startsWith(l)||en(!1),u=b}else u=c;let f=u.pathname||"/",p=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let g=wZ(t,{pathname:p}),y=tQ(g&&g.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Pu([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Pu([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return e&&y?A.createElement(q_.Provider,{value:{location:zv({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:yu.Pop}},y):y}function JZ(){let t=sQ(),e=VZ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,null)}const ZZ=A.createElement(JZ,null);class QZ extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?A.createElement(wo.Provider,{value:this.props.routeContext},A.createElement(LU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function eQ(t){let{routeContext:e,match:n,children:r}=t,i=A.useContext(gM);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(wo.Provider,{value:e},r)}function tQ(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let u=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||en(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=n,g=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,d,f)=>{let p,g=!1,y=null,b=null;n&&(p=o&&d.route.id?o[d.route.id]:void 0,y=d.route.errorElement||ZZ,l&&(c<0&&f===0?(oQ("route-fallback"),g=!0,b=null):c===f&&(g=!0,b=d.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,f+1)),S=()=>{let w;return p?w=y:g?w=b:d.route.Component?w=A.createElement(d.route.Component,null):d.route.element?w=d.route.element:w=u,A.createElement(eQ,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:w})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?A.createElement(QZ,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:S(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):S()},null)}var $U=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}($U||{}),UU=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(UU||{});function nQ(t){let e=A.useContext(gM);return e||en(!1),e}function rQ(t){let e=A.useContext(HZ);return e||en(!1),e}function iQ(t){let e=A.useContext(wo);return e||en(!1),e}function VU(t){let e=iQ(),n=e.matches[e.matches.length-1];return n.route.id||en(!1),n.route.id}function sQ(){var t;let e=A.useContext(LU),n=rQ(),r=VU();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function aQ(){let{router:t}=nQ($U.UseNavigateStable),e=VU(UU.UseNavigateStable),n=A.useRef(!1);return jU(()=>{n.current=!0}),A.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,zv({fromRouteId:e},s)))},[t,e])}const Dj={};function oQ(t,e,n){Dj[t]||(Dj[t]=!0)}function lQ(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function cQ(t){let{to:e,replace:n,state:r,relative:i}=t;Cg()||en(!1);let{future:s,static:a}=A.useContext(Hu),{matches:o}=A.useContext(wo),{pathname:l}=pw(),c=xf(),u=mM(e,pM(o,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return A.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function uQ(t){return qZ(t.context)}function Wn(t){en(!1)}function hQ(t){let{basename:e="/",children:n=null,location:r,navigationType:i=yu.Pop,navigator:s,static:a=!1,future:o}=t;Cg()&&en(!1);let l=e.replace(/^\/*/,"/"),c=A.useMemo(()=>({basename:l,navigator:s,static:a,future:zv({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=Tg(r));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:g="default"}=r,y=A.useMemo(()=>{let b=fM(u,l);return b==null?null:{location:{pathname:b,search:d,hash:f,state:p,key:g},navigationType:i}},[l,u,d,f,p,g,i]);return y==null?null:A.createElement(Hu.Provider,{value:c},A.createElement(q_.Provider,{children:n,value:y}))}function dQ(t){let{children:e,location:n}=t;return XZ(ck(e),n)}new Promise(()=>{});function ck(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(r,i)=>{if(!A.isValidElement(r))return;let s=[...e,i];if(r.type===A.Fragment){n.push.apply(n,ck(r.props.children,s));return}r.type!==Wn&&en(!1),!r.props.index||!r.props.children||en(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=ck(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uk(){return uk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uk.apply(this,arguments)}function fQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function pQ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mQ(t,e){return t.button===0&&(!e||e==="_self")&&!pQ(t)}const gQ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yQ="6";try{window.__reactRouterVersion=yQ}catch{}const vQ="startTransition",Nj=I6[vQ];function bQ(t){let{basename:e,children:n,future:r,window:i}=t,s=A.useRef();s.current==null&&(s.current=yZ({window:i,v5Compat:!0}));let a=s.current,[o,l]=A.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},u=A.useCallback(d=>{c&&Nj?Nj(()=>l(d)):l(d)},[l,c]);return A.useLayoutEffect(()=>a.listen(u),[a,u]),A.useEffect(()=>lQ(r),[r]),A.createElement(hQ,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const wQ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xQ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lt=A.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=fQ(e,gQ),{basename:p}=A.useContext(Hu),g,y=!1;if(typeof c=="string"&&xQ.test(c)&&(g=c,wQ))try{let w=new URL(window.location.href),T=c.startsWith("//")?new URL(w.protocol+c):new URL(c),P=fM(T.pathname,p);T.origin===w.origin&&P!=null?c=P+T.search+T.hash:y=!0}catch{}let b=WZ(c,{relative:i}),v=SQ(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:d});function S(w){r&&r(w),w.defaultPrevented||v(w)}return A.createElement("a",uk({},f,{href:g||b,onClick:y||s?r:S,ref:n,target:l}))});var Rj;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Rj||(Rj={}));var Lj;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Lj||(Lj={}));function SQ(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=xf(),c=pw(),u=BU(t,{relative:a});return A.useCallback(d=>{if(mQ(d,n)){d.preventDefault();let f=r!==void 0?r:VS(c)===VS(u);l(t,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,u,r,i,n,t,s,a,o])}const zU=A.createContext(),Rs=()=>{const t=A.useContext(zU);if(!t)throw new Error("useTheme must be used within ThemeProvider");return t},AQ=({children:t})=>{const[e,n]=A.useState(()=>{const i=localStorage.getItem("theme");return i?i==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});A.useEffect(()=>{const i=document.documentElement;e?i.classList.add("dark"):i.classList.remove("dark"),localStorage.setItem("theme",e?"dark":"light")},[e]);const r=()=>{n(i=>!i)};return x.jsx(zU.Provider,{value:{isDark:e,toggleTheme:r},children:t})},HU="authToken",WU="user",_Q=()=>localStorage.getItem(HU),EQ=()=>{localStorage.removeItem(HU)},hk=()=>{const t=localStorage.getItem(WU);return t?JSON.parse(t):null},PQ=()=>{localStorage.removeItem(WU)},dk=()=>!!_Q(),TQ=()=>{EQ(),PQ()};function CQ(){const{isDark:t,toggleTheme:e}=Rs(),n=xf(),[r,i]=A.useState(!1),[s,a]=A.useState(!1),[o,l]=A.useState(null),[c,u]=A.useState(!1);A.useEffect(()=>{dk()&&(l(hk()),u(!0));const p=()=>{dk()?(l(hk()),u(!0)):(l(null),u(!1))};return window.addEventListener("auth-change",p),()=>window.removeEventListener("auth-change",p)},[]);const d=()=>{TQ(),localStorage.removeItem("user"),localStorage.removeItem("authToken"),l(null),u(!1),a(!1),i(!1),window.dispatchEvent(new Event("auth-change")),n("/")},f=[{to:"/",label:""},{to:"/concepts",label:""},{to:"/papers",label:" "},{to:"/visualizations",label:""},{to:"/calculator",label:""},{to:"/forum",label:""},{to:"/glossary",label:" "},{to:"/references",label:" "},...c&&o?[{to:"/notes",label:""}]:[]];return x.jsx("header",{className:`sticky top-0 z-40 transition-colors duration-300 ${t?"bg-gray-900 border-gray-800":"bg-white border-gray-200"} border-b backdrop-blur`,children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx(lt,{to:"/",className:"text-xl sm:text-2xl font-bold text-blue-500 dark:text-blue-400 whitespace-nowrap",children:"Astro Hub"}),x.jsxs("nav",{className:"hidden md:flex items-center gap-3 lg:gap-6",children:[f.map(p=>x.jsx(lt,{to:p.to,className:`transition text-sm lg:text-base ${t?"text-gray-300 hover:text-blue-400":"text-gray-600 hover:text-blue-600"}`,children:p.label},p.to)),x.jsx("button",{onClick:e,className:`p-2 rounded-lg border transition text-lg ${t?"border-gray-700 hover:bg-gray-800":"border-gray-300 hover:bg-gray-100"}`,"aria-label":" ",children:t?"":""}),c&&o?x.jsxs("div",{className:"relative",children:[x.jsxs("button",{onClick:()=>a(!s),className:`p-2 rounded-lg border transition ${t?"border-gray-700 hover:bg-gray-800":"border-gray-300 hover:bg-gray-100"}`,children:[" ",o.username]}),s&&x.jsxs("div",{className:`absolute right-0 mt-2 w-48 rounded-lg shadow-lg ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"} border`,children:[x.jsx(lt,{to:"/profile",className:`block px-4 py-2 first:rounded-t-lg ${t?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>a(!1),children:""}),x.jsx(lt,{to:"/bookmarks",className:`block px-4 py-2 ${t?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>a(!1),children:""}),x.jsx(lt,{to:"/notes",className:`block px-4 py-2 ${t?"text-gray-300 hover:bg-gray-700":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>a(!1),children:""}),x.jsx("button",{onClick:d,className:`w-full text-left px-4 py-2 last:rounded-b-lg ${t?"text-red-400 hover:bg-gray-700":"text-red-600 hover:bg-gray-100"}`,children:""})]})]}):x.jsxs("div",{className:"flex gap-2",children:[x.jsx(lt,{to:"/login",className:`px-4 py-2 rounded-lg border transition ${t?"border-blue-400 text-blue-400 hover:bg-blue-400 hover:text-gray-900":"border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white"}`,children:""}),x.jsx(lt,{to:"/signup",className:`px-4 py-2 rounded-lg transition text-white ${t?"bg-blue-600 hover:bg-blue-700":"bg-blue-500 hover:bg-blue-600"}`,children:""})]})]}),x.jsxs("div",{className:"md:hidden flex items-center gap-3",children:[x.jsx("button",{onClick:e,className:`p-2 rounded-lg border transition text-lg ${t?"border-gray-700 hover:bg-gray-800":"border-gray-300 hover:bg-gray-100"}`,"aria-label":" ",children:t?"":""}),x.jsx("button",{onClick:()=>i(!r),className:`p-2 transition ${t?"text-gray-300 hover:text-blue-400":"text-gray-600 hover:text-blue-600"}`,"aria-label":"",children:r?"":""})]})]}),r&&x.jsxs("nav",{className:`md:hidden mt-4 space-y-2 pb-4 border-t transition-colors duration-300 pt-4 ${t?"border-gray-800":"border-gray-200"}`,children:[f.map(p=>x.jsx(lt,{to:p.to,className:`block py-2 transition ${t?"text-gray-300 hover:text-blue-400":"text-gray-600 hover:text-blue-600"}`,onClick:()=>i(!1),children:p.label},p.to)),c&&o?x.jsx(x.Fragment,{children:x.jsxs("div",{className:`py-2 border-t transition-colors duration-300 ${t?"border-gray-800":"border-gray-200"} mt-2 pt-2`,children:[x.jsx("div",{className:`px-2 py-1 text-sm ${t?"text-gray-400":"text-gray-500"}`,children:o.username}),x.jsx(lt,{to:"/profile",className:`block py-2 transition ${t?"text-gray-300 hover:text-blue-400":"text-gray-600 hover:text-blue-600"}`,onClick:()=>i(!1),children:""}),x.jsx(lt,{to:"/bookmarks",className:`block py-2 transition ${t?"text-gray-300 hover:text-blue-400":"text-gray-600 hover:text-blue-600"}`,onClick:()=>i(!1),children:""}),x.jsx(lt,{to:"/notes",className:`block py-2 transition ${t?"text-gray-300 hover:text-blue-400":"text-gray-600 hover:text-blue-600"}`,onClick:()=>i(!1),children:""}),x.jsx("button",{onClick:d,className:`w-full text-left py-2 transition ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:""})]})}):x.jsxs("div",{className:`py-2 border-t transition-colors duration-300 mt-2 pt-2 ${t?"border-gray-800":"border-gray-200"}`,children:[x.jsx(lt,{to:"/login",className:`block py-2 transition ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,onClick:()=>i(!1),children:""}),x.jsx(lt,{to:"/signup",className:`block py-2 transition ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,onClick:()=>i(!1),children:""})]})]})]})})}function kQ(){const[t,e]=A.useState(0);return A.useEffect(()=>{const n=()=>{const r=window.scrollY,i=document.documentElement.scrollHeight-window.innerHeight,s=i>0?r/i*100:0;e(Math.min(100,Math.max(0,s)))};return window.addEventListener("scroll",n,{passive:!0}),()=>window.removeEventListener("scroll",n)},[]),x.jsx("div",{className:"scroll-progress",children:x.jsx("div",{className:"scroll-progress__bar",style:{transform:`scaleX(${t/100})`}})})}function IQ(){const{isDark:t}=Rs();return x.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${t?"bg-gray-950 text-gray-100":"bg-white text-gray-900"}`,children:[x.jsx(kQ,{}),x.jsx(CQ,{}),x.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:x.jsx(uQ,{})}),x.jsx("footer",{className:`border-t py-6 text-center text-sm transition-colors duration-300 ${t?"bg-gray-900 border-gray-800 text-gray-400":"bg-gray-50 border-gray-200 text-gray-600"}`,children:x.jsx("p",{children:" 2025 Astrophysics Hub    "})})]})}const GU=A.createContext({});function OQ(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const yM=typeof window<"u",MQ=yM?A.useLayoutEffect:A.useEffect,vM=A.createContext(null);function bM(t,e){t.indexOf(e)===-1&&t.push(e)}function wM(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ml=(t,e,n)=>n>e?e:n<t?t:n;let xM=()=>{};const Dl={},KU=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function qU(t){return typeof t=="object"&&t!==null}const XU=t=>/^0[^.\s]+$/u.test(t);function SM(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ts=t=>t,DQ=(t,e)=>n=>e(t(n)),mw=(...t)=>t.reduce(DQ),Hv=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class AM{constructor(){this.subscriptions=[]}add(e){return bM(this.subscriptions,e),()=>wM(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ao=t=>t*1e3,As=t=>t/1e3;function YU(t,e){return e?t*(1e3/e):0}const JU=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,NQ=1e-7,RQ=12;function LQ(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=JU(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>NQ&&++o<RQ);return a}function gw(t,e,n,r){if(t===e&&n===r)return Ts;const i=s=>LQ(s,0,1,t,n);return s=>s===0||s===1?s:JU(i(s),e,r)}const ZU=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,QU=t=>e=>1-t(1-e),eV=gw(.33,1.53,.69,.99),_M=QU(eV),tV=ZU(_M),nV=t=>(t*=2)<1?.5*_M(t):.5*(2-Math.pow(2,-10*(t-1))),EM=t=>1-Math.sin(Math.acos(t)),rV=QU(EM),iV=ZU(EM),jQ=gw(.42,0,1,1),FQ=gw(0,0,.58,1),sV=gw(.42,0,.58,1),BQ=t=>Array.isArray(t)&&typeof t[0]!="number",aV=t=>Array.isArray(t)&&typeof t[0]=="number",$Q={linear:Ts,easeIn:jQ,easeInOut:sV,easeOut:FQ,circIn:EM,circInOut:iV,circOut:rV,backIn:_M,backInOut:tV,backOut:eV,anticipate:nV},UQ=t=>typeof t=="string",jj=t=>{if(aV(t)){xM(t.length===4);const[e,n,r,i]=t;return gw(e,n,r,i)}else if(UQ(t))return $Q[t];return t},Ix=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function VQ(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){a.has(u)&&(c.schedule(u),t()),u(o)}const c={schedule:(u,d=!1,f=!1)=>{const g=f&&i?n:r;return d&&a.add(u),g.has(u)||g.add(u),u},cancel:u=>{r.delete(u),a.delete(u)},process:u=>{if(o=u,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,c.process(u))}};return c}const zQ=40;function oV(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=Ix.reduce((w,T)=>(w[T]=VQ(s),w),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:f,render:p,postRender:g}=a,y=()=>{const w=Dl.useManualTiming?i.timestamp:performance.now();n=!1,Dl.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,zQ),1)),i.timestamp=w,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),p.process(i),g.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(y))},b=()=>{n=!0,r=!0,i.isProcessing||t(y)};return{schedule:Ix.reduce((w,T)=>{const P=a[T];return w[T]=(O,C=!1,k=!1)=>(n||b(),P.schedule(O,C,k)),w},{}),cancel:w=>{for(let T=0;T<Ix.length;T++)a[Ix[T]].cancel(w)},state:i,steps:a}}const{schedule:kt,cancel:Mu,state:er,steps:aT}=oV(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ts,!0);let w1;function HQ(){w1=void 0}const li={now:()=>(w1===void 0&&li.set(er.isProcessing||Dl.useManualTiming?er.timestamp:performance.now()),w1),set:t=>{w1=t,queueMicrotask(HQ)}},lV=t=>e=>typeof e=="string"&&e.startsWith(t),PM=lV("--"),WQ=lV("var(--"),TM=t=>WQ(t)?GQ.test(t.split("/*")[0].trim()):!1,GQ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,kg={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Wv={...kg,transform:t=>Ml(0,1,t)},Ox={...kg,default:1},fv=t=>Math.round(t*1e5)/1e5,CM=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function KQ(t){return t==null}const qQ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,kM=(t,e)=>n=>!!(typeof n=="string"&&qQ.test(n)&&n.startsWith(t)||e&&!KQ(n)&&Object.prototype.hasOwnProperty.call(n,e)),cV=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(CM);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},XQ=t=>Ml(0,255,t),oT={...kg,transform:t=>Math.round(XQ(t))},Sh={test:kM("rgb","red"),parse:cV("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+oT.transform(t)+", "+oT.transform(e)+", "+oT.transform(n)+", "+fv(Wv.transform(r))+")"};function YQ(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const fk={test:kM("#"),parse:YQ,transform:Sh.transform},yw=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),oc=yw("deg"),oo=yw("%"),me=yw("px"),JQ=yw("vh"),ZQ=yw("vw"),Fj={...oo,parse:t=>oo.parse(t)/100,transform:t=>oo.transform(t*100)},ip={test:kM("hsl","hue"),parse:cV("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+oo.transform(fv(e))+", "+oo.transform(fv(n))+", "+fv(Wv.transform(r))+")"},sn={test:t=>Sh.test(t)||fk.test(t)||ip.test(t),parse:t=>Sh.test(t)?Sh.parse(t):ip.test(t)?ip.parse(t):fk.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Sh.transform(t):ip.transform(t),getAnimatableNone:t=>{const e=sn.parse(t);return e.alpha=0,sn.transform(e)}},QQ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function eee(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(CM))==null?void 0:e.length)||0)+(((n=t.match(QQ))==null?void 0:n.length)||0)>0}const uV="number",hV="color",tee="var",nee="var(",Bj="${}",ree=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Gv(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(ree,l=>(sn.test(l)?(r.color.push(s),i.push(hV),n.push(sn.parse(l))):l.startsWith(nee)?(r.var.push(s),i.push(tee),n.push(l)):(r.number.push(s),i.push(uV),n.push(parseFloat(l))),++s,Bj)).split(Bj);return{values:n,split:o,indexes:r,types:i}}function dV(t){return Gv(t).values}function fV(t){const{split:e,types:n}=Gv(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=n[a];o===uV?s+=fv(i[a]):o===hV?s+=sn.transform(i[a]):s+=i[a]}return s}}const iee=t=>typeof t=="number"?0:sn.test(t)?sn.getAnimatableNone(t):t;function see(t){const e=dV(t);return fV(t)(e.map(iee))}const Du={test:eee,parse:dV,createTransformer:fV,getAnimatableNone:see};function lT(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function aee({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=lT(l,o,t+1/3),s=lT(l,o,t),a=lT(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function zS(t,e){return n=>n>0?e:t}const Nt=(t,e,n)=>t+(e-t)*n,cT=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},oee=[fk,Sh,ip],lee=t=>oee.find(e=>e.test(t));function $j(t){const e=lee(t);if(!e)return!1;let n=e.parse(t);return e===ip&&(n=aee(n)),n}const Uj=(t,e)=>{const n=$j(t),r=$j(e);if(!n||!r)return zS(t,e);const i={...n};return s=>(i.red=cT(n.red,r.red,s),i.green=cT(n.green,r.green,s),i.blue=cT(n.blue,r.blue,s),i.alpha=Nt(n.alpha,r.alpha,s),Sh.transform(i))},pk=new Set(["none","hidden"]);function cee(t,e){return pk.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function uee(t,e){return n=>Nt(t,e,n)}function IM(t){return typeof t=="number"?uee:typeof t=="string"?TM(t)?zS:sn.test(t)?Uj:fee:Array.isArray(t)?pV:typeof t=="object"?sn.test(t)?Uj:hee:zS}function pV(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>IM(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function hee(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=IM(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function dee(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],o=t.values[a]??0;n[i]=o,r[s]++}return n}const fee=(t,e)=>{const n=Du.createTransformer(e),r=Gv(t),i=Gv(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?pk.has(t)&&!i.values.length||pk.has(e)&&!r.values.length?cee(t,e):mw(pV(dee(r,i),i.values),n):zS(t,e)};function mV(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Nt(t,e,n):IM(t)(t,e)}const pee=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>kt.update(e,n),stop:()=>Mu(e),now:()=>er.isProcessing?er.timestamp:li.now()}},gV=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},HS=2e4;function OM(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<HS;)e+=n,r=t.next(e);return e>=HS?1/0:e}function mee(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(OM(r),HS);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:As(i)}}const gee=5;function yV(t,e,n){const r=Math.max(e-gee,0);return YU(n-t(r),e-r)}const zt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},uT=.001;function yee({duration:t=zt.duration,bounce:e=zt.bounce,velocity:n=zt.velocity,mass:r=zt.mass}){let i,s,a=1-e;a=Ml(zt.minDamping,zt.maxDamping,a),t=Ml(zt.minDuration,zt.maxDuration,As(t)),a<1?(i=c=>{const u=c*a,d=u*t,f=u-n,p=mk(c,a),g=Math.exp(-d);return uT-f/p*g},s=c=>{const d=c*a*t,f=d*n+n,p=Math.pow(a,2)*Math.pow(c,2)*t,g=Math.exp(-d),y=mk(Math.pow(c,2),a);return(-i(c)+uT>0?-1:1)*((f-p)*g)/y}):(i=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-uT+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const o=5/t,l=bee(i,s,o);if(t=ao(t),isNaN(l))return{stiffness:zt.stiffness,damping:zt.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:a*2*Math.sqrt(r*c),duration:t}}}const vee=12;function bee(t,e,n){let r=n;for(let i=1;i<vee;i++)r=r-t(r)/e(r);return r}function mk(t,e){return t*Math.sqrt(1-e*e)}const wee=["duration","bounce"],xee=["stiffness","damping","mass"];function Vj(t,e){return e.some(n=>t[n]!==void 0)}function See(t){let e={velocity:zt.velocity,stiffness:zt.stiffness,damping:zt.damping,mass:zt.mass,isResolvedFromDuration:!1,...t};if(!Vj(t,xee)&&Vj(t,wee))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Ml(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:zt.mass,stiffness:i,damping:s}}else{const n=yee(t);e={...e,...n,mass:zt.mass},e.isResolvedFromDuration=!0}return e}function WS(t=zt.visualDuration,e=zt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=See({...n,velocity:-As(n.velocity||0)}),g=f||0,y=c/(2*Math.sqrt(l*u)),b=a-s,v=As(Math.sqrt(l/u)),S=Math.abs(b)<5;r||(r=S?zt.restSpeed.granular:zt.restSpeed.default),i||(i=S?zt.restDelta.granular:zt.restDelta.default);let w;if(y<1){const P=mk(v,y);w=O=>{const C=Math.exp(-y*v*O);return a-C*((g+y*v*b)/P*Math.sin(P*O)+b*Math.cos(P*O))}}else if(y===1)w=P=>a-Math.exp(-v*P)*(b+(g+v*b)*P);else{const P=v*Math.sqrt(y*y-1);w=O=>{const C=Math.exp(-y*v*O),k=Math.min(P*O,300);return a-C*((g+y*v*b)*Math.sinh(k)+P*b*Math.cosh(k))/P}}const T={calculatedDuration:p&&d||null,next:P=>{const O=w(P);if(p)o.done=P>=d;else{let C=P===0?g:0;y<1&&(C=P===0?ao(g):yV(w,P,O));const k=Math.abs(C)<=r,N=Math.abs(a-O)<=i;o.done=k&&N}return o.value=o.done?a:O,o},toString:()=>{const P=Math.min(OM(T),HS),O=gV(C=>T.next(P*C).value,P,30);return P+"ms "+O},toTransition:()=>{}};return T}WS.applyToOptions=t=>{const e=mee(t,100,WS);return t.ease=e.ease,t.duration=ao(e.duration),t.type="keyframes",t};function gk({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],f={done:!1,value:d},p=k=>o!==void 0&&k<o||l!==void 0&&k>l,g=k=>o===void 0?l:l===void 0||Math.abs(o-k)<Math.abs(l-k)?o:l;let y=n*e;const b=d+y,v=a===void 0?b:a(b);v!==b&&(y=v-d);const S=k=>-y*Math.exp(-k/r),w=k=>v+S(k),T=k=>{const N=S(k),L=w(k);f.done=Math.abs(N)<=c,f.value=f.done?v:L};let P,O;const C=k=>{p(f.value)&&(P=k,O=WS({keyframes:[f.value,g(f.value)],velocity:yV(w,k,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return C(0),{calculatedDuration:null,next:k=>{let N=!1;return!O&&P===void 0&&(N=!0,T(k),C(k)),P!==void 0&&k>=P?O.next(k-P):(!N&&T(k),f)}}}function Aee(t,e,n){const r=[],i=n||Dl.mix||mV,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||Ts:e;o=mw(l,o)}r.push(o)}return r}function _ee(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(xM(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Aee(e,r,i),l=o.length,c=u=>{if(a&&u<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const f=Hv(t[d],t[d+1],u);return o[d](f)};return n?u=>c(Ml(t[0],t[s-1],u)):c}function Eee(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Hv(0,e,r);t.push(Nt(n,1,i))}}function Pee(t){const e=[0];return Eee(e,t.length-1),e}function Tee(t,e){return t.map(n=>n*e)}function Cee(t,e){return t.map(()=>e||sV).splice(0,t.length-1)}function pv({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=BQ(r)?r.map(jj):jj(r),s={done:!1,value:e[0]},a=Tee(n&&n.length===e.length?n:Pee(e),t),o=_ee(a,e,{ease:Array.isArray(i)?i:Cee(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const kee=t=>t!==null;function MM(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(kee),o=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const Iee={decay:gk,inertia:gk,tween:pv,keyframes:pv,spring:WS};function vV(t){typeof t.type=="string"&&(t.type=Iee[t.type])}class DM{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Oee=t=>t/100;class NM extends DM{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==li.now()&&this.tick(li.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;vV(e);const{type:n=pv,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const l=n||pv;l!==pv&&typeof o[0]!="number"&&(this.mixKeyframes=mw(Oee,mV(o[0],o[1])),o=[0,100]);const c=l({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=OM(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:d,repeatType:f,repeatDelay:p,type:g,onUpdate:y,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const v=this.currentTime-c*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let w=this.currentTime,T=r;if(d){const k=Math.min(this.currentTime,i)/o;let N=Math.floor(k),L=k%1;!L&&k>=1&&(L=1),L===1&&N--,N=Math.min(N,d+1),!!(N%2)&&(f==="reverse"?(L=1-L,p&&(L-=p/o)):f==="mirror"&&(T=a)),w=Ml(0,1,L)*o}const P=S?{done:!1,value:u[0]}:T.next(w);s&&(P.value=s(P.value));let{done:O}=P;!S&&l!==null&&(O=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return C&&g!==gk&&(P.value=MM(u,this.options,b,this.speed)),y&&y(P.value),C&&this.finish(),P}then(e,n){return this.finished.then(e,n)}get duration(){return As(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+As(e)}get time(){return As(this.currentTime)}set time(e){var n;e=ao(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(li.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=As(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=pee,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(li.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function Mee(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ah=t=>t*180/Math.PI,yk=t=>{const e=Ah(Math.atan2(t[1],t[0]));return vk(e)},Dee={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:yk,rotateZ:yk,skewX:t=>Ah(Math.atan(t[1])),skewY:t=>Ah(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},vk=t=>(t=t%360,t<0&&(t+=360),t),zj=yk,Hj=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Wj=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Nee={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Hj,scaleY:Wj,scale:t=>(Hj(t)+Wj(t))/2,rotateX:t=>vk(Ah(Math.atan2(t[6],t[5]))),rotateY:t=>vk(Ah(Math.atan2(-t[2],t[0]))),rotateZ:zj,rotate:zj,skewX:t=>Ah(Math.atan(t[4])),skewY:t=>Ah(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function bk(t){return t.includes("scale")?1:0}function wk(t,e){if(!t||t==="none")return bk(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=Nee,i=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Dee,i=o}if(!i)return bk(e);const s=r[e],a=i[1].split(",").map(Lee);return typeof s=="function"?s(a):a[s]}const Ree=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return wk(n,e)};function Lee(t){return parseFloat(t.trim())}const Ig=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Og=new Set(Ig),Gj=t=>t===kg||t===me,jee=new Set(["x","y","z"]),Fee=Ig.filter(t=>!jee.has(t));function Bee(t){const e=[];return Fee.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Wd={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>wk(e,"x"),y:(t,{transform:e})=>wk(e,"y")};Wd.translateX=Wd.x;Wd.translateY=Wd.y;const Gd=new Set;let xk=!1,Sk=!1,Ak=!1;function bV(){if(Sk){const t=Array.from(Gd).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Bee(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{var o;(o=r.getValue(s))==null||o.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Sk=!1,xk=!1,Gd.forEach(t=>t.complete(Ak)),Gd.clear()}function wV(){Gd.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Sk=!0)})}function $ee(){Ak=!0,wV(),bV(),Ak=!1}class RM{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Gd.add(this),xk||(xk=!0,kt.read(wV),kt.resolveKeyframes(bV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}Mee(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Gd.delete(this)}cancel(){this.state==="scheduled"&&(Gd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Uee=t=>t.startsWith("--");function Vee(t,e,n){Uee(e)?t.style.setProperty(e,n):t.style[e]=n}const zee=SM(()=>window.ScrollTimeline!==void 0),Hee={};function Wee(t,e){const n=SM(t);return()=>Hee[e]??n()}const xV=Wee(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Oy=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Kj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Oy([0,.65,.55,1]),circOut:Oy([.55,0,1,.45]),backIn:Oy([.31,.01,.66,-.59]),backOut:Oy([.33,1.53,.69,.99])};function SV(t,e){if(t)return typeof t=="function"?xV()?gV(t,e):"ease-out":aV(t)?Oy(t):Array.isArray(t)?t.map(n=>SV(n,e)||Kj.easeOut):Kj[t]}function Gee(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[e]:n};l&&(u.offset=l);const d=SV(o,i);Array.isArray(d)&&(u.easing=d);const f={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),t.animate(u,f)}function AV(t){return typeof t=="function"&&"applyToOptions"in t}function Kee({type:t,...e}){return AV(t)&&xV()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class qee extends DM{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,xM(typeof e.type!="string");const c=Kee(e);this.animation=Gee(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const u=MM(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):Vee(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return As(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+As(e)}get time(){return As(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ao(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&zee()?(this.animation.timeline=e,Ts):n(this)}}const _V={anticipate:nV,backInOut:tV,circInOut:iV};function Xee(t){return t in _V}function Yee(t){typeof t.ease=="string"&&Xee(t.ease)&&(t.ease=_V[t.ease])}const qj=10;class Jee extends qee{constructor(e){Yee(e),vV(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new NM({...a,autoplay:!1}),l=ao(this.finishedTime??this.time);n.setWithVelocity(o.sample(l-qj).value,o.sample(l).value,qj),o.stop()}}const Xj=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Du.test(t)||t==="0")&&!t.startsWith("url("));function Zee(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Qee(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=Xj(i,e),o=Xj(s,e);return!a||!o?!1:Zee(t)||(n==="spring"||AV(n))&&r}function _k(t){t.duration=0,t.type="keyframes"}const ete=new Set(["opacity","clipPath","filter","transform"]),tte=SM(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function nte(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return tte()&&n&&ete.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const rte=40;class ite extends DM{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:c,element:u,...d}){var g;super(),this.stop=()=>{var y,b;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=li.now();const f={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:l,motionValue:c,element:u,...d},p=(u==null?void 0:u.KeyframeResolver)||RM;this.keyframeResolver=new p(o,(y,b,v)=>this.onKeyframesResolved(y,b,f,!v),l,c,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=li.now(),Qee(e,s,a,o)||((Dl.instantAnimations||!l)&&(u==null||u(MM(e,r,n))),e[0]=e[e.length-1],_k(r),r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>rte?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},p=!c&&nte(f)?new Jee({...f,element:f.motionValue.owner.current}):new NM(f);p.finished.then(()=>this.notifyFinished()).catch(Ts),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),$ee()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const ste=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ate(t){const e=ste.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function EV(t,e,n=1){const[r,i]=ate(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return KU(a)?parseFloat(a):a}return TM(i)?EV(i,e,n+1):i}function LM(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const PV=new Set(["width","height","top","left","right","bottom",...Ig]),ote={test:t=>t==="auto",parse:t=>t},TV=t=>e=>e.test(t),CV=[kg,me,oo,oc,ZQ,JQ,ote],Yj=t=>CV.find(TV(t));function lte(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||XU(t):!0}const cte=new Set(["brightness","contrast","saturate","opacity"]);function ute(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(CM)||[];if(!r)return t;const i=n.replace(r,"");let s=cte.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const hte=/\b([a-z-]*)\(.*?\)/gu,Ek={...Du,getAnimatableNone:t=>{const e=t.match(hte);return e?e.map(ute).join(" "):t}},Jj={...kg,transform:Math.round},dte={rotate:oc,rotateX:oc,rotateY:oc,rotateZ:oc,scale:Ox,scaleX:Ox,scaleY:Ox,scaleZ:Ox,skew:oc,skewX:oc,skewY:oc,distance:me,translateX:me,translateY:me,translateZ:me,x:me,y:me,z:me,perspective:me,transformPerspective:me,opacity:Wv,originX:Fj,originY:Fj,originZ:me},jM={borderWidth:me,borderTopWidth:me,borderRightWidth:me,borderBottomWidth:me,borderLeftWidth:me,borderRadius:me,radius:me,borderTopLeftRadius:me,borderTopRightRadius:me,borderBottomRightRadius:me,borderBottomLeftRadius:me,width:me,maxWidth:me,height:me,maxHeight:me,top:me,right:me,bottom:me,left:me,padding:me,paddingTop:me,paddingRight:me,paddingBottom:me,paddingLeft:me,margin:me,marginTop:me,marginRight:me,marginBottom:me,marginLeft:me,backgroundPositionX:me,backgroundPositionY:me,...dte,zIndex:Jj,fillOpacity:Wv,strokeOpacity:Wv,numOctaves:Jj},fte={...jM,color:sn,backgroundColor:sn,outlineColor:sn,fill:sn,stroke:sn,borderColor:sn,borderTopColor:sn,borderRightColor:sn,borderBottomColor:sn,borderLeftColor:sn,filter:Ek,WebkitFilter:Ek},kV=t=>fte[t];function IV(t,e){let n=kV(t);return n!==Ek&&(n=Du),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const pte=new Set(["auto","none","0"]);function mte(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!pte.has(s)&&Gv(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=IV(n,i)}class gte extends RM{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),TM(c))){const u=EV(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!PV.has(r)||e.length!==2)return;const[i,s]=e,a=Yj(i),o=Yj(s);if(a!==o)if(Gj(a)&&Gj(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else Wd[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||lte(e[i]))&&r.push(i);r.length&&mte(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wd[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var o;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=Wd[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function yte(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const OV=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function vte(t){return qU(t)&&"offsetHeight"in t}const Zj=30,bte=t=>!isNaN(parseFloat(t));class wte{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=li.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=li.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=bte(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new AM);const r=this.events[e].add(n);return e==="change"?()=>{r(),kt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=li.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Zj)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Zj);return YU(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ug(t,e){return new wte(t,e)}const{schedule:FM}=oV(queueMicrotask,!1),Us={x:!1,y:!1};function MV(){return Us.x||Us.y}function xte(t){return t==="x"||t==="y"?Us[t]?null:(Us[t]=!0,()=>{Us[t]=!1}):Us.x||Us.y?null:(Us.x=Us.y=!0,()=>{Us.x=Us.y=!1})}function DV(t,e){const n=yte(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Qj(t){return!(t.pointerType==="touch"||MV())}function Ste(t,e,n={}){const[r,i,s]=DV(t,n),a=o=>{if(!Qj(o))return;const{target:l}=o,c=e(l,o);if(typeof c!="function"||!l)return;const u=d=>{Qj(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return r.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const NV=(t,e)=>e?t===e?!0:NV(t,e.parentElement):!1,BM=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Ate=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _te(t){return Ate.has(t.tagName)||t.tabIndex!==-1}const x1=new WeakSet;function eF(t){return e=>{e.key==="Enter"&&t(e)}}function hT(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Ete=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=eF(()=>{if(x1.has(n))return;hT(n,"down");const i=eF(()=>{hT(n,"up")}),s=()=>hT(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function tF(t){return BM(t)&&!MV()}function Pte(t,e,n={}){const[r,i,s]=DV(t,n),a=o=>{const l=o.currentTarget;if(!tF(o))return;x1.add(l);const c=e(l,o),u=(p,g)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),x1.has(l)&&x1.delete(l),tF(p)&&typeof c=="function"&&c(p,{success:g})},d=p=>{u(p,l===window||l===document||n.useGlobalTarget||NV(l,p.target))},f=p=>{u(p,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),vte(o)&&(o.addEventListener("focus",c=>Ete(c,i)),!_te(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function RV(t){return qU(t)&&"ownerSVGElement"in t}function Tte(t){return RV(t)&&t.tagName==="svg"}const Ar=t=>!!(t&&t.getVelocity),Cte=[...CV,sn,Du],kte=t=>Cte.find(TV(t)),LV=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Ite(t=!0){const e=A.useContext(vM);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=A.useId();A.useEffect(()=>{if(t)return i(s)},[t]);const a=A.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const jV=A.createContext({strict:!1}),nF={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hg={};for(const t in nF)hg[t]={isEnabled:e=>nF[t].some(n=>!!e[n])};function Ote(t){for(const e in t)hg[e]={...hg[e],...t[e]}}const Mte=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function GS(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Mte.has(t)}let FV=t=>!GS(t);function Dte(t){typeof t=="function"&&(FV=e=>e.startsWith("on")?!GS(e):t(e))}try{Dte(require("@emotion/is-prop-valid").default)}catch{}function Nte(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(FV(i)||n===!0&&GS(i)||!e&&!GS(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const X_=A.createContext({});function Y_(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Kv(t){return typeof t=="string"||Array.isArray(t)}const $M=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],UM=["initial",...$M];function J_(t){return Y_(t.animate)||UM.some(e=>Kv(t[e]))}function BV(t){return!!(J_(t)||t.variants)}function Rte(t,e){if(J_(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Kv(n)?n:void 0,animate:Kv(r)?r:void 0}}return t.inherit!==!1?e:{}}function Lte(t){const{initial:e,animate:n}=Rte(t,A.useContext(X_));return A.useMemo(()=>({initial:e,animate:n}),[rF(e),rF(n)])}function rF(t){return Array.isArray(t)?t.join(" "):t}const qv={};function jte(t){for(const e in t)qv[e]=t[e],PM(e)&&(qv[e].isCSSVariable=!0)}function $V(t,{layout:e,layoutId:n}){return Og.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!qv[t]||t==="opacity")}const Fte={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Bte=Ig.length;function $te(t,e,n){let r="",i=!0;for(let s=0;s<Bte;s++){const a=Ig[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const c=OV(o,jM[a]);if(!l){i=!1;const u=Fte[a]||a;r+=`${u}(${c}) `}n&&(e[a]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function VM(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const c=e[l];if(Og.has(l)){a=!0;continue}else if(PM(l)){i[l]=c;continue}else{const u=OV(c,jM[l]);l.startsWith("origin")?(o=!0,s[l]=u):r[l]=u}}if(e.transform||(a||n?r.transform=$te(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}const zM=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function UV(t,e,n){for(const r in e)!Ar(e[r])&&!$V(r,n)&&(t[r]=e[r])}function Ute({transformTemplate:t},e){return A.useMemo(()=>{const n=zM();return VM(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Vte(t,e){const n=t.style||{},r={};return UV(r,n,t),Object.assign(r,Ute(t,e)),r}function zte(t,e){const n={},r=Vte(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Hte={offset:"stroke-dashoffset",array:"stroke-dasharray"},Wte={offset:"strokeDashoffset",array:"strokeDasharray"};function Gte(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Hte:Wte;t[s.offset]=me.transform(-r);const a=me.transform(e),o=me.transform(n);t[s.array]=`${a} ${o}`}function VV(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},l,c,u){if(VM(t,o,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:f}=t;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&Gte(d,i,s,a,!1)}const zV=()=>({...zM(),attrs:{}}),HV=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Kte(t,e,n,r){const i=A.useMemo(()=>{const s=zV();return VV(s,e,HV(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};UV(s,t.style,t),i.style={...s,...i.style}}return i}const qte=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function HM(t){return typeof t!="string"||t.includes("-")?!1:!!(qte.indexOf(t)>-1||/[A-Z]/u.test(t))}function Xte(t,e,n,{latestValues:r},i,s=!1){const o=(HM(t)?Kte:zte)(e,r,i,t),l=Nte(e,typeof t=="string",s),c=t!==A.Fragment?{...l,...o,ref:n}:{},{children:u}=e,d=A.useMemo(()=>Ar(u)?u.get():u,[u]);return A.createElement(t,{...c,children:d})}function iF(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function WM(t,e,n,r){if(typeof e=="function"){const[i,s]=iF(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=iF(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function S1(t){return Ar(t)?t.get():t}function Yte({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:Jte(n,r,i,t),renderState:e()}}function Jte(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=S1(s[f]);let{initial:a,animate:o}=t;const l=J_(t),c=BV(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let u=n?n.initial===!1:!1;u=u||a===!1;const d=u?o:a;if(d&&typeof d!="boolean"&&!Y_(d)){const f=Array.isArray(d)?d:[d];for(let p=0;p<f.length;p++){const g=WM(t,f[p]);if(g){const{transitionEnd:y,transition:b,...v}=g;for(const S in v){let w=v[S];if(Array.isArray(w)){const T=u?w.length-1:0;w=w[T]}w!==null&&(i[S]=w)}for(const S in y)i[S]=y[S]}}}return i}const WV=t=>(e,n)=>{const r=A.useContext(X_),i=A.useContext(vM),s=()=>Yte(t,e,r,i);return n?s():OQ(s)};function GM(t,e,n){var s;const{style:r}=t,i={};for(const a in r)(Ar(r[a])||e.style&&Ar(e.style[a])||$V(a,t)||((s=n==null?void 0:n.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(i[a]=r[a]);return i}const Zte=WV({scrapeMotionValuesFromProps:GM,createRenderState:zM});function GV(t,e,n){const r=GM(t,e,n);for(const i in t)if(Ar(t[i])||Ar(e[i])){const s=Ig.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const Qte=WV({scrapeMotionValuesFromProps:GV,createRenderState:zV}),ene=Symbol.for("motionComponentSymbol");function sp(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function tne(t,e,n){return A.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):sp(n)&&(n.current=r))},[e])}const KM=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),nne="framerAppearId",KV="data-"+KM(nne),qV=A.createContext({});function rne(t,e,n,r,i){var y,b;const{visualElement:s}=A.useContext(X_),a=A.useContext(jV),o=A.useContext(vM),l=A.useContext(LV).reducedMotion,c=A.useRef(null);r=r||a.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,d=A.useContext(qV);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&ine(c.current,n,i,d);const f=A.useRef(!1);A.useInsertionEffect(()=>{u&&f.current&&u.update(n,o)});const p=n[KV],g=A.useRef(!!p&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,p))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,p)));return MQ(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),g.current&&u.animationState&&u.animationState.animateChanges())}),A.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,p)}),g.current=!1),u.enteringChildren=void 0)}),u}function ine(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:XV(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&sp(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function XV(t){if(t)return t.options.allowProjection!==!1?t.projection:XV(t.parent)}function dT(t,{forwardMotionProps:e=!1}={},n,r){n&&Ote(n);const i=HM(t)?Qte:Zte;function s(o,l){let c;const u={...A.useContext(LV),...o,layoutId:sne(o)},{isStatic:d}=u,f=Lte(o),p=i(o,d);if(!d&&yM){ane();const g=one(u);c=g.MeasureLayout,f.visualElement=rne(t,p,u,r,g.ProjectionNode)}return x.jsxs(X_.Provider,{value:f,children:[c&&f.visualElement?x.jsx(c,{visualElement:f.visualElement,...u}):null,Xte(t,o,tne(p,f.visualElement,l),p,d,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=A.forwardRef(s);return a[ene]=t,a}function sne({layoutId:t}){const e=A.useContext(GU).id;return e&&t!==void 0?e+"-"+t:t}function ane(t,e){A.useContext(jV).strict}function one(t){const{drag:e,layout:n}=hg;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function lne(t,e){if(typeof Proxy>"u")return dT;const n=new Map,r=(s,a)=>dT(s,a,t,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(n.has(a)||n.set(a,dT(a,void 0,t,e)),n.get(a))})}function YV({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function cne({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function une(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function fT(t){return t===void 0||t===1}function Pk({scale:t,scaleX:e,scaleY:n}){return!fT(t)||!fT(e)||!fT(n)}function oh(t){return Pk(t)||JV(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function JV(t){return sF(t.x)||sF(t.y)}function sF(t){return t&&t!=="0%"}function KS(t,e,n){const r=t-n,i=e*r;return n+i}function aF(t,e,n,r,i){return i!==void 0&&(t=KS(t,i,r)),KS(t,n,r)+e}function Tk(t,e=0,n=1,r,i){t.min=aF(t.min,e,n,r,i),t.max=aF(t.max,e,n,r,i)}function ZV(t,{x:e,y:n}){Tk(t.x,e.translate,e.scale,e.originPoint),Tk(t.y,n.translate,n.scale,n.originPoint)}const oF=.999999999999,lF=1.0000000000001;function hne(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&op(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,ZV(t,a)),r&&oh(s.latestValues)&&op(t,s.latestValues))}e.x<lF&&e.x>oF&&(e.x=1),e.y<lF&&e.y>oF&&(e.y=1)}function ap(t,e){t.min=t.min+e,t.max=t.max+e}function cF(t,e,n,r,i=.5){const s=Nt(t.min,t.max,i);Tk(t,e,n,s,r)}function op(t,e){cF(t.x,e.x,e.scaleX,e.scale,e.originX),cF(t.y,e.y,e.scaleY,e.scale,e.originY)}function QV(t,e){return YV(une(t.getBoundingClientRect(),e))}function dne(t,e,n){const r=QV(t,n),{scroll:i}=e;return i&&(ap(r.x,i.offset.x),ap(r.y,i.offset.y)),r}const uF=()=>({translate:0,scale:1,origin:0,originPoint:0}),lp=()=>({x:uF(),y:uF()}),hF=()=>({min:0,max:0}),Zt=()=>({x:hF(),y:hF()}),Ck={current:null},ez={current:!1};function fne(){if(ez.current=!0,!!yM)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ck.current=t.matches;t.addEventListener("change",e),e()}else Ck.current=!1}const pne=new WeakMap;function mne(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Ar(i))t.addValue(r,i);else if(Ar(s))t.addValue(r,ug(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,ug(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const dF=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class gne{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=RM,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=li.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,kt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=J_(n),this.isVariantNode=BV(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const p=d[f];l[f]!==void 0&&Ar(p)&&p.set(l[f])}}mount(e){var n;this.current=e,pne.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),ez.current||fne(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ck.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Mu(this.notifyUpdate),Mu(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Og.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&kt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in hg){const n=hg[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Zt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<dF.length;r++){const i=dF[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=mne(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ug(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(KU(r)||XU(r))?r=parseFloat(r):!kte(r)&&Du.test(n)&&(r=IV(e,n)),this.setBaseTarget(e,Ar(r)?r.get():r)),Ar(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=WM(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ar(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new AM),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){FM.render(this.render)}}class tz extends gne{constructor(){super(...arguments),this.KeyframeResolver=gte}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ar(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function nz(t,{style:e,vars:n},r,i){const s=t.style;let a;for(a in e)s[a]=e[a];i==null||i.applyProjectionStyles(s,r);for(a in n)s.setProperty(a,n[a])}function yne(t){return window.getComputedStyle(t)}class vne extends tz{constructor(){super(...arguments),this.type="html",this.renderInstance=nz}readValueFromInstance(e,n){var r;if(Og.has(n))return(r=this.projection)!=null&&r.isProjecting?bk(n):Ree(e,n);{const i=yne(e),s=(PM(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return QV(e,n)}build(e,n,r){VM(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return GM(e,n,r)}}const rz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function bne(t,e,n,r){nz(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(rz.has(i)?i:KM(i),e.attrs[i])}class wne extends tz{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Zt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Og.has(n)){const r=kV(n);return r&&r.default||0}return n=rz.has(n)?n:KM(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return GV(e,n,r)}build(e,n,r){VV(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){bne(e,n,r,i)}mount(e){this.isSVGTag=HV(e.tagName),super.mount(e)}}const xne=(t,e)=>HM(t)?new wne(e):new vne(e,{allowProjection:t!==A.Fragment});function _p(t,e,n){const r=t.getProps();return WM(r,e,n!==void 0?n:r.custom,t)}const kk=t=>Array.isArray(t);function Sne(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ug(n))}function Ane(t){return kk(t)?t[t.length-1]||0:t}function _ne(t,e){const n=_p(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=Ane(s[a]);Sne(t,a,o)}}function Ene(t){return!!(Ar(t)&&t.add)}function Ik(t,e){const n=t.getValue("willChange");if(Ene(n))return n.add(e);if(!n&&Dl.WillChange){const r=new Dl.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function iz(t){return t.props[KV]}const Pne=t=>t!==null;function Tne(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Pne),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const Cne={type:"spring",stiffness:500,damping:25,restSpeed:10},kne=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Ine={type:"keyframes",duration:.8},One={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Mne=(t,{keyframes:e})=>e.length>2?Ine:Og.has(t)?t.startsWith("scale")?kne(e[1]):Cne:One;function Dne({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const qM=(t,e,n,r={},i,s)=>a=>{const o=LM(r,t)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-ao(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:f=>{e.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};Dne(o)||Object.assign(u,Mne(t,u)),u.duration&&(u.duration=ao(u.duration)),u.repeatDelay&&(u.repeatDelay=ao(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(_k(u),u.delay===0&&(d=!0)),(Dl.instantAnimations||Dl.skipAnimations)&&(d=!0,_k(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,d&&!s&&e.get()!==void 0){const f=Tne(u.keyframes,o);if(f!==void 0){kt.update(()=>{u.onUpdate(f),u.onComplete()});return}}return o.isSync?new NM(u):new ite(u)};function Nne({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function sz(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(s=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const u in o){const d=t.getValue(u,t.latestValues[u]??null),f=o[u];if(f===void 0||c&&Nne(c,u))continue;const p={delay:n,...LM(s||{},u)},g=d.get();if(g!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===g&&!p.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const v=iz(t);if(v){const S=window.MotionHandoffAnimation(v,u,kt);S!==null&&(p.startTime=S,y=!0)}}Ik(t,u),d.start(qM(u,d,f,t.shouldReduceMotion&&PV.has(u)?{type:!1}:p,t,y));const b=d.animation;b&&l.push(b)}return a&&Promise.all(l).then(()=>{kt.update(()=>{a&&_ne(t,a)})}),l}function az(t,e,n,r=0,i=1){const s=Array.from(t).sort((c,u)=>c.sortNodePosition(u)).indexOf(e),a=t.size,o=(a-1)*r;return typeof n=="function"?n(s,a):i===1?s*r:o-s*r}function Ok(t,e,n={}){var l;const r=_p(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(sz(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=i;return Rne(t,e,c,u,d,f,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[c,u]=o==="beforeChildren"?[s,a]:[a,s];return c().then(()=>u())}else return Promise.all([s(),a(n.delay)])}function Rne(t,e,n=0,r=0,i=0,s=1,a){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(Ok(l,e,{...a,delay:n+(typeof r=="function"?0:r)+az(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function Lne(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Ok(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Ok(t,e,n);else{const i=typeof e=="function"?_p(t,e,n.custom):e;r=Promise.all(sz(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function oz(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const jne=UM.length;function lz(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?lz(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<jne;n++){const r=UM[n],i=t.props[r];(Kv(i)||i===!1)&&(e[r]=i)}return e}const Fne=[...$M].reverse(),Bne=$M.length;function $ne(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Lne(t,n,r)))}function Une(t){let e=$ne(t),n=fF(),r=!0;const i=l=>(c,u)=>{var f;const d=_p(t,u,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:p,transitionEnd:g,...y}=d;c={...c,...y,...g}}return c};function s(l){e=l(t)}function a(l){const{props:c}=t,u=lz(t.parent)||{},d=[],f=new Set;let p={},g=1/0;for(let b=0;b<Bne;b++){const v=Fne[b],S=n[v],w=c[v]!==void 0?c[v]:u[v],T=Kv(w),P=v===l?S.isActive:null;P===!1&&(g=b);let O=w===u[v]&&w!==c[v]&&T;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),S.protectedKeys={...p},!S.isActive&&P===null||!w&&!S.prevProp||Y_(w)||typeof w=="boolean")continue;const C=Vne(S.prevProp,w);let k=C||v===l&&S.isActive&&!O&&T||b>g&&T,N=!1;const L=Array.isArray(w)?w:[w];let R=L.reduce(i(v),{});P===!1&&(R={});const{prevResolvedValues:B={}}=S,j={...B,...R},G=W=>{k=!0,f.has(W)&&(N=!0,f.delete(W)),S.needsAnimating[W]=!0;const V=t.getValue(W);V&&(V.liveStyle=!1)};for(const W in j){const V=R[W],H=B[W];if(p.hasOwnProperty(W))continue;let ne=!1;kk(V)&&kk(H)?ne=!oz(V,H):ne=V!==H,ne?V!=null?G(W):f.add(W):V!==void 0&&f.has(W)?G(W):S.protectedKeys[W]=!0}S.prevProp=w,S.prevResolvedValues=R,S.isActive&&(p={...p,...R}),r&&t.blockInitialAnimation&&(k=!1);const Z=O&&C;k&&(!Z||N)&&d.push(...L.map(W=>{const V={type:v};if(typeof W=="string"&&r&&!Z&&t.manuallyAnimateOnMount&&t.parent){const{parent:H}=t,ne=_p(H,W);if(H.enteringChildren&&ne){const{delayChildren:fe}=ne.transition||{};V.delay=az(H.enteringChildren,t,fe)}}return{animation:W,options:V}}))}if(f.size){const b={};if(typeof c.initial!="boolean"){const v=_p(t,Array.isArray(c.initial)?c.initial[0]:c.initial);v&&v.transition&&(b.transition=v.transition)}f.forEach(v=>{const S=t.getBaseTarget(v),w=t.getValue(v);w&&(w.liveStyle=!0),b[v]=S??null}),d.push({animation:b})}let y=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(d):Promise.resolve()}function o(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(f=>{var p;return(p=f.animationState)==null?void 0:p.setActive(l,c)}),n[l].isActive=c;const u=a(l);for(const f in n)n[f].protectedKeys={};return u}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=fF()}}}function Vne(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!oz(e,t):!1}function nh(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fF(){return{animate:nh(!0),whileInView:nh(),whileHover:nh(),whileTap:nh(),whileDrag:nh(),whileFocus:nh(),exit:nh()}}class Wu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class zne extends Wu{constructor(e){super(e),e.animationState||(e.animationState=Une(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Y_(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Hne=0;class Wne extends Wu{constructor(){super(...arguments),this.id=Hne++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Gne={animation:{Feature:zne},exit:{Feature:Wne}};function Xv(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function vw(t){return{point:{x:t.pageX,y:t.pageY}}}const Kne=t=>e=>BM(e)&&t(e,vw(e));function mv(t,e,n,r){return Xv(t,e,Kne(n),r)}const cz=1e-4,qne=1-cz,Xne=1+cz,uz=.01,Yne=0-uz,Jne=0+uz;function Fr(t){return t.max-t.min}function Zne(t,e,n){return Math.abs(t-e)<=n}function pF(t,e,n,r=.5){t.origin=r,t.originPoint=Nt(e.min,e.max,t.origin),t.scale=Fr(n)/Fr(e),t.translate=Nt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=qne&&t.scale<=Xne||isNaN(t.scale))&&(t.scale=1),(t.translate>=Yne&&t.translate<=Jne||isNaN(t.translate))&&(t.translate=0)}function gv(t,e,n,r){pF(t.x,e.x,n.x,r?r.originX:void 0),pF(t.y,e.y,n.y,r?r.originY:void 0)}function mF(t,e,n){t.min=n.min+e.min,t.max=t.min+Fr(e)}function Qne(t,e,n){mF(t.x,e.x,n.x),mF(t.y,e.y,n.y)}function gF(t,e,n){t.min=e.min-n.min,t.max=t.min+Fr(e)}function yv(t,e,n){gF(t.x,e.x,n.x),gF(t.y,e.y,n.y)}function ss(t){return[t("x"),t("y")]}const hz=({current:t})=>t?t.ownerDocument.defaultView:null,yF=(t,e)=>Math.abs(t-e);function ere(t,e){const n=yF(t.x,e.x),r=yF(t.y,e.y);return Math.sqrt(n**2+r**2)}class dz{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=mT(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,g=ere(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!g)return;const{point:y}=f,{timestamp:b}=er;this.history.push({...y,timestamp:b});const{onStart:v,onMove:S}=this.handlers;p||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=pT(p,this.transformPagePoint),kt.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:g,onSessionEnd:y,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=mT(f.type==="pointercancel"?this.lastMoveEventInfo:pT(p,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,v),y&&y(f,v)},!BM(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const o=vw(e),l=pT(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=er;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,mT(l,this.history)),this.removeListeners=mw(mv(this.contextWindow,"pointermove",this.handlePointerMove),mv(this.contextWindow,"pointerup",this.handlePointerUp),mv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Mu(this.updatePoint)}}function pT(t,e){return e?{point:e(t.point)}:t}function vF(t,e){return{x:t.x-e.x,y:t.y-e.y}}function mT({point:t},e){return{point:t,delta:vF(t,fz(e)),offset:vF(t,tre(e)),velocity:nre(e,.1)}}function tre(t){return t[0]}function fz(t){return t[t.length-1]}function nre(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=fz(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ao(e)));)n--;if(!r)return{x:0,y:0};const s=As(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function rre(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Nt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Nt(n,t,r.max):Math.min(t,n)),t}function bF(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ire(t,{top:e,left:n,bottom:r,right:i}){return{x:bF(t.x,n,i),y:bF(t.y,e,r)}}function wF(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function sre(t,e){return{x:wF(t.x,e.x),y:wF(t.y,e.y)}}function are(t,e){let n=.5;const r=Fr(t),i=Fr(e);return i>r?n=Hv(e.min,e.max-r,t.min):r>i&&(n=Hv(t.min,t.max-i,e.min)),Ml(0,1,n)}function ore(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Mk=.35;function lre(t=Mk){return t===!1?t=0:t===!0&&(t=Mk),{x:xF(t,"left","right"),y:xF(t,"top","bottom")}}function xF(t,e,n){return{min:SF(t,e),max:SF(t,n)}}function SF(t,e){return typeof t=="number"?t:t[e]||0}const cre=new WeakMap;class ure{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vw(d).point)},a=(d,f)=>{const{drag:p,dragPropagation:g,onDragStart:y}=this.getProps();if(p&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xte(p),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ss(v=>{let S=this.getAxisMotionValue(v).get()||0;if(oo.test(S)){const{projection:w}=this.visualElement;if(w&&w.layout){const T=w.layout.layoutBox[v];T&&(S=Fr(T)*(parseFloat(S)/100))}}this.originPoint[v]=S}),y&&kt.postRender(()=>y(d,f)),Ik(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:p,dragDirectionLock:g,onDirectionLock:y,onDrag:b}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:v}=f;if(g&&this.currentDirection===null){this.currentDirection=hre(v),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),b&&b(d,f)},l=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>ss(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new dz(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:hz(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&kt.postRender(()=>o(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Mx(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=rre(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&sp(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=ire(r.layoutBox,e):this.constraints=!1,this.elastic=lre(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ss(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=ore(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!sp(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=dne(r,i.root,this.visualElement.getTransformPagePoint());let a=sre(i.layout.layoutBox,s);if(n){const o=n(cne(a));this.hasMutatedConstraints=!!o,o&&(a=YV(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=ss(u=>{if(!Mx(u,n,this.currentDirection))return;let d=l&&l[u]||{};a&&(d={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Ik(this.visualElement,e),r.start(qM(e,r,0,n,this.visualElement,!1))}stopAnimation(){ss(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ss(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ss(n=>{const{drag:r}=this.getProps();if(!Mx(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(e[n]-Nt(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!sp(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ss(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=are({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ss(a=>{if(!Mx(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(Nt(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;cre.set(this.visualElement,this);const e=this.visualElement.current,n=mv(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();sp(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),kt.read(r);const a=Xv(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ss(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=Mk,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function Mx(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function hre(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class dre extends Wu{constructor(e){super(e),this.removeGroupControls=Ts,this.removeListeners=Ts,this.controls=new ure(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ts}unmount(){this.removeGroupControls(),this.removeListeners()}}const AF=t=>(e,n)=>{t&&kt.postRender(()=>t(e,n))};class fre extends Wu{constructor(){super(...arguments),this.removePointerDownListener=Ts}onPointerDown(e){this.session=new dz(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hz(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:AF(e),onStart:AF(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&kt.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=mv(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const A1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function _F(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const fy={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(me.test(t))t=parseFloat(t);else return t;const n=_F(t,e.target.x),r=_F(t,e.target.y);return`${n}% ${r}%`}},pre={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Du.parse(t);if(i.length>5)return r;const s=Du.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=Nt(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),s(i)}};let gT=!1;class mre extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;jte(gre),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),gT&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),A1.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,gT=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||kt.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),FM.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;gT=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function pz(t){const[e,n]=Ite(),r=A.useContext(GU);return x.jsx(mre,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(qV),isPresent:e,safeToRemove:n})}const gre={borderRadius:{...fy,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fy,borderTopRightRadius:fy,borderBottomLeftRadius:fy,borderBottomRightRadius:fy,boxShadow:pre};function yre(t,e,n){const r=Ar(t)?t:ug(t);return r.start(qM("",r,e,n)),r.animation}const vre=(t,e)=>t.depth-e.depth;class bre{constructor(){this.children=[],this.isDirty=!1}add(e){bM(this.children,e),this.isDirty=!0}remove(e){wM(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(vre),this.isDirty=!1,this.children.forEach(e)}}function wre(t,e){const n=li.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Mu(r),t(s-e))};return kt.setup(r,!0),()=>Mu(r)}const mz=["TopLeft","TopRight","BottomLeft","BottomRight"],xre=mz.length,EF=t=>typeof t=="string"?parseFloat(t):t,PF=t=>typeof t=="number"||me.test(t);function Sre(t,e,n,r,i,s){i?(t.opacity=Nt(0,n.opacity??1,Are(r)),t.opacityExit=Nt(e.opacity??1,0,_re(r))):s&&(t.opacity=Nt(e.opacity??1,n.opacity??1,r));for(let a=0;a<xre;a++){const o=`border${mz[a]}Radius`;let l=TF(e,o),c=TF(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||PF(l)===PF(c)?(t[o]=Math.max(Nt(EF(l),EF(c),r),0),(oo.test(c)||oo.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=Nt(e.rotate||0,n.rotate||0,r))}function TF(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Are=gz(0,.5,rV),_re=gz(.5,.95,Ts);function gz(t,e,n){return r=>r<t?0:r>e?1:n(Hv(t,e,r))}function CF(t,e){t.min=e.min,t.max=e.max}function Qi(t,e){CF(t.x,e.x),CF(t.y,e.y)}function kF(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function IF(t,e,n,r,i){return t-=e,t=KS(t,1/n,r),i!==void 0&&(t=KS(t,1/i,r)),t}function Ere(t,e=0,n=1,r=.5,i,s=t,a=t){if(oo.test(e)&&(e=parseFloat(e),e=Nt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Nt(s.min,s.max,r);t===s&&(o-=e),t.min=IF(t.min,e,n,o,i),t.max=IF(t.max,e,n,o,i)}function OF(t,e,[n,r,i],s,a){Ere(t,e[n],e[r],e[i],e.scale,s,a)}const Pre=["x","scaleX","originX"],Tre=["y","scaleY","originY"];function MF(t,e,n,r){OF(t.x,e,Pre,n?n.x:void 0,r?r.x:void 0),OF(t.y,e,Tre,n?n.y:void 0,r?r.y:void 0)}function DF(t){return t.translate===0&&t.scale===1}function yz(t){return DF(t.x)&&DF(t.y)}function NF(t,e){return t.min===e.min&&t.max===e.max}function Cre(t,e){return NF(t.x,e.x)&&NF(t.y,e.y)}function RF(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function vz(t,e){return RF(t.x,e.x)&&RF(t.y,e.y)}function LF(t){return Fr(t.x)/Fr(t.y)}function jF(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class kre{constructor(){this.members=[]}add(e){bM(this.members,e),e.scheduleRender()}remove(e){if(wM(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ire(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:f,skewX:p,skewY:g}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),p&&(r+=`skewX(${p}deg) `),g&&(r+=`skewY(${g}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const yT=["","X","Y","Z"],Ore=1e3;let Mre=0;function vT(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function bz(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=iz(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",kt,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&bz(r)}function wz({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=Mre++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Rre),this.nodes.forEach(Bre),this.nodes.forEach($re),this.nodes.forEach(Lre)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new bre)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new AM),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=RV(a)&&!Tte(a),this.instance=a;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let u,d=0;const f=()=>this.root.updateBlockedByResize=!1;kt.read(()=>{d=window.innerWidth}),t(a,()=>{const p=window.innerWidth;p!==d&&(d=p,this.root.updateBlockedByResize=!0,u&&u(),u=wre(f,250),A1.hasAnimatedSinceResize&&(A1.hasAnimatedSinceResize=!1,this.nodes.forEach($F)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||Wre,{onLayoutAnimationStart:y,onLayoutAnimationComplete:b}=c.getProps(),v=!this.targetLayout||!vz(this.targetLayout,p),S=!d&&f;if(this.options.layoutRoot||this.resumeFrom||S||d&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...LM(g,"layout"),onPlay:y,onComplete:b};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(u,S)}else d||$F(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Mu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ure),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bz(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(FF);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(BF);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Fre),this.nodes.forEach(Dre),this.nodes.forEach(Nre)):this.nodes.forEach(BF),this.clearAllSnapshots();const o=li.now();er.delta=Ml(0,1e3/60,o-er.timestamp),er.timestamp=o,er.isProcessing=!0,aT.update.process(er),aT.preRender.process(er),aT.render.process(er),er.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,FM.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(jre),this.sharedNodes.forEach(Vre)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,kt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){kt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Fr(this.snapshot.measuredBox.x)&&!Fr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!yz(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;a&&this.instance&&(o||oh(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),Gre(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:a}=this.options;if(!a)return Zt();const o=a.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Kre))){const{scroll:u}=this.root;u&&(ap(o.x,u.offset.x),ap(o.y,u.offset.y))}return o}removeElementScroll(a){var l;const o=Zt();if(Qi(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Qi(o,a),ap(o.x,d.offset.x),ap(o.y,d.offset.y))}return o}applyTransform(a,o=!1){const l=Zt();Qi(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&op(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),oh(u.latestValues)&&op(l,u.latestValues)}return oh(this.latestValues)&&op(l,this.latestValues),l}removeTransform(a){const o=Zt();Qi(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!oh(c.latestValues))continue;Pk(c.latestValues)&&c.updateSnapshot();const u=Zt(),d=c.measurePageBox();Qi(u,d),MF(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return oh(this.latestValues)&&MF(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==er.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var f;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=er.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),yv(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Qi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Zt(),this.targetWithTransforms=Zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Qne(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qi(this.target,this.layout.layoutBox),ZV(this.target,this.targetDelta)):Qi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zt(),this.relativeTargetOrigin=Zt(),yv(this.relativeTargetOrigin,this.target,p.target),Qi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Pk(this.parent.latestValues)||JV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===er.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Qi(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;hne(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Zt());const{target:p}=a;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kF(this.prevProjectionDelta.x,this.projectionDelta.x),kF(this.prevProjectionDelta.y,this.projectionDelta.y)),gv(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!jF(this.projectionDelta.x,this.prevProjectionDelta.x)||!jF(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lp(),this.projectionDelta=lp(),this.projectionDeltaWithTransform=lp()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=lp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Zt(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,y=p!==g,b=this.getStack(),v=!b||b.members.length<=1,S=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(Hre));this.animationProgress=0;let w;this.mixTargetDelta=T=>{const P=T/1e3;UF(d.x,a.x,P),UF(d.y,a.y,P),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yv(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zre(this.relativeTarget,this.relativeTargetOrigin,f,P),w&&Cre(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Zt()),Qi(w,this.relativeTarget)),y&&(this.animationValues=u,Sre(u,c,this.latestValues,P,S,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Mu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kt.update(()=>{A1.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ug(0)),this.currentAnimation=yre(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),a.onUpdate&&a.onUpdate(u)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ore),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&xz(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Zt();const d=Fr(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+d;const f=Fr(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+f}Qi(o,l),op(o,u),gv(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new kre),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&vT("z",a,c,this.animationValues);for(let u=0;u<yT.length;u++)vT(`rotate${yT[u]}`,a,c,this.animationValues),vT(`skew${yT[u]}`,a,c,this.animationValues);a.render();for(const u in c)a.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=S1(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=S1(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!oh(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=Ire(this.projectionDeltaWithTransform,this.treeScale,u);l&&(d=l(u,d)),a.transform=d;const{x:f,y:p}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,c.animationValues?a.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:a.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const g in qv){if(u[g]===void 0)continue;const{correct:y,applyTo:b,isCSSVariable:v}=qv[g],S=d==="none"?u[g]:y(u[g],c);if(b){const w=b.length;for(let T=0;T<w;T++)a[b[T]]=S}else v?this.options.visualElement.renderState.vars[g]=S:a[g]=S}this.options.layoutId&&(a.pointerEvents=c===this?S1(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(FF),this.root.sharedNodes.clear()}}}function Dre(t){t.updateLayout()}function Nre(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?ss(d=>{const f=a?e.measuredBox[d]:e.layoutBox[d],p=Fr(f);f.min=r[d].min,f.max=f.min+p}):xz(s,e.layoutBox,r)&&ss(d=>{const f=a?e.measuredBox[d]:e.layoutBox[d],p=Fr(r[d]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+p)});const o=lp();gv(o,r,e.layoutBox);const l=lp();a?gv(l,t.applyTransform(i,!0),e.measuredBox):gv(l,r,e.layoutBox);const c=!yz(o);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const g=Zt();yv(g,e.layoutBox,f.layoutBox);const y=Zt();yv(y,r,p.layoutBox),vz(g,y)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Rre(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Lre(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function jre(t){t.clearSnapshot()}function FF(t){t.clearMeasurements()}function BF(t){t.isLayoutDirty=!1}function Fre(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function $F(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Bre(t){t.resolveTargetDelta()}function $re(t){t.calcProjection()}function Ure(t){t.resetSkewAndRotation()}function Vre(t){t.removeLeadSnapshot()}function UF(t,e,n){t.translate=Nt(e.translate,0,n),t.scale=Nt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function VF(t,e,n,r){t.min=Nt(e.min,n.min,r),t.max=Nt(e.max,n.max,r)}function zre(t,e,n,r){VF(t.x,e.x,n.x,r),VF(t.y,e.y,n.y,r)}function Hre(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Wre={duration:.45,ease:[.4,0,.1,1]},zF=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),HF=zF("applewebkit/")&&!zF("chrome/")?Math.round:Ts;function WF(t){t.min=HF(t.min),t.max=HF(t.max)}function Gre(t){WF(t.x),WF(t.y)}function xz(t,e,n){return t==="position"||t==="preserve-aspect"&&!Zne(LF(e),LF(n),.2)}function Kre(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const qre=wz({attachResizeListener:(t,e)=>Xv(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bT={current:void 0},Sz=wz({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!bT.current){const t=new qre({});t.mount(window),t.setOptions({layoutScroll:!0}),bT.current=t}return bT.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Xre={pan:{Feature:fre},drag:{Feature:dre,ProjectionNode:Sz,MeasureLayout:pz}};function GF(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&kt.postRender(()=>s(e,vw(e)))}class Yre extends Wu{mount(){const{current:e}=this.node;e&&(this.unmount=Ste(e,(n,r)=>(GF(this.node,r,"Start"),i=>GF(this.node,i,"End"))))}unmount(){}}class Jre extends Wu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mw(Xv(this.node.current,"focus",()=>this.onFocus()),Xv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function KF(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&kt.postRender(()=>s(e,vw(e)))}class Zre extends Wu{mount(){const{current:e}=this.node;e&&(this.unmount=Pte(e,(n,r)=>(KF(this.node,r,"Start"),(i,{success:s})=>KF(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Dk=new WeakMap,wT=new WeakMap,Qre=t=>{const e=Dk.get(t.target);e&&e(t)},eie=t=>{t.forEach(Qre)};function tie({root:t,...e}){const n=t||document;wT.has(n)||wT.set(n,{});const r=wT.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(eie,{root:t,...e})),r[i]}function nie(t,e,n){const r=tie(e);return Dk.set(t,n),r.observe(t),()=>{Dk.delete(t),r.unobserve(t)}}const rie={some:0,all:1};class iie extends Wu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:rie[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return nie(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(sie(e,n))&&this.startObserver()}unmount(){}}function sie({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const aie={inView:{Feature:iie},tap:{Feature:Zre},focus:{Feature:Jre},hover:{Feature:Yre}},oie={layout:{ProjectionNode:Sz,MeasureLayout:pz}},lie={...Gne,...aie,...Xre,...oie},ee=lne(lie,xne),XM=[{slug:"general-relativity",title:"   ",category:"relativity",description:"Einstein Field Equation, Schwarzschild/Kerr ,  ",content:{overview:"    . Schwarzschild Kerr        (vacuum solution).",keyPoints:["Einstein Field Equation: G = 8GT","Schwarzschild :  ,   ","Kerr :  , ergosphere "," :  / ","Shapiro delay:    ",": f = f0(1-2GM/rc)"],keyFormulas:[{tex:"G_{\\mu\\nu} = R_{\\mu\\nu} - \\frac{1}{2}g_{\\mu\\nu}R = \\frac{8\\pi G}{c^4}T_{\\mu\\nu}",desc:"Einstein Field Equation"},{tex:"ds^2 = -\\left(1 - \\frac{2GM}{c^2r}\\right)c^2dt^2 + \\left(1 - \\frac{2GM}{c^2r}\\right)^{-1}dr^2 + r^2(d\\theta^2 + \\sin^2\\theta\\,d\\phi^2)",desc:"Schwarzschild "},{tex:"r_s = \\frac{2GM}{c^2}",desc:"Schwarzschild "},{tex:"\\frac{d^2x^\\lambda}{d\\tau^2} + \\Gamma^\\lambda_{\\mu\\nu}\\frac{dx^\\mu}{d\\tau}\\frac{dx^\\nu}{d\\tau} = 0",desc:" "}],observations:'   (42.98"/century),  ,  ',relatedPapers:["The Mathematical Theory of Black Holes (Chandrasekhar, 1983)","General Relativity (Carroll, 2004)","Gravitational Waves from Coalescing Compact Binaries (Abbott et al. LIGO, 2016)"]}},{slug:"stellar-structure",title:"   ",category:"stars",description:"  , Lane-Emden ,   ",content:{overview:"         .         .",keyPoints:[" : dP/dr = -GM/r","  : radiative flux  opacity ","Lane-Emden  :   "," : PP chain (), CNO cycle ()"," : convection instability criterion (adiabatic gradient vs. radiative gradient)",": photosphere  "],keyFormulas:[{tex:"\\frac{dP}{dr} = -\\rho \\frac{GM(<r)}{r^2}",desc:"  "},{tex:"F_\\mathrm{rad} = -\\frac{c}{3\\kappa\\rho}\\frac{dT^4}{dr}",desc:" "},{tex:"\\frac{d^2u}{d\\xi^2} + \\frac{2}{\\xi}\\frac{du}{d\\xi} + u^n = 0",desc:"Lane-Emden "},{tex:"PP\\,\\mathrm{chain}: {}^1H + {}^1H \\to {}^2H + e^+ + \\nu",desc:"-  "}],observations:"  L=3.82810W,  R=6.9610m,   T_c~1.5710K,  _c~150 g/cm",relatedPapers:["Stellar Interiors: Physical Principles, Structure and Evolution (Hansen, Kawaler & Trimble, 2004)","The Theory of Stellar Structure and Evolution (Kippenhahn, Weigert & Weiss, 2012)"]}},{slug:"black-hole-astrophysics",title:" : Kerr  ",category:"relativity",description:"Kerr ergosphere, ISCO , Hawking ,  ",content:{overview:" (Kerr )   .  (Hawking )   ,       .",keyPoints:["Kerr :   a = J/M ","Ergosphere:   g_tt=0 ","ISCO (Innermost Stable Circular Orbit): a=0  r_ISCO = 6GM/c","Hawking :  T_H = c/(8kGM)","Penrose process:    ","Accretion disk: viscosity   "],keyFormulas:[{tex:"ds^2 = -\\frac{\\Delta}{\\rho^2}(c\\,dt - a\\sin^2\\theta\\,d\\phi)^2 + \\frac{\\rho^2}{\\Delta}dr^2 + \\rho^2 d\\theta^2 + \\frac{\\sin^2\\theta}{\\rho^2}(a c\\,dt - (r^2+a^2)d\\phi)^2",desc:"Kerr  (Boyer-Lindquist )"},{tex:"r_{\\mathrm{ISCO}} = \\frac{GM}{c^2}\\left(3 + Z_2 - \\sqrt{(3-Z_1)(3+Z_1+2Z_2)}\\right)",desc:"ISCO  (Kerr )"},{tex:"T_H = \\frac{\\hbar c^3}{8\\pi k_B G M}",desc:"Hawking "},{tex:"\\eta = 1 - \\sqrt{1 - \\frac{2GM}{c^2 r_{\\mathrm{ISCO}}}}",desc:" "}],observations:"M87   M=(6.50.7)10M (EHT 2019), Sagittarius A*  M=(4.2970.013)10M",relatedPapers:["Black Hole Accretion in Supermassive and Stellar Mass Regimes (Done et al. 2007)","The Event Horizon Telescope Collaboration (2019, ApJ Letters)","Information and the Nature of Reality (Wheeler & Ford, 1998)"]}},{slug:"galaxy-dynamics",title:"  ",category:"galaxies",description:"Jeans ,   , CDM,  ",content:{overview:"  , ,    . Jeans        .",keyPoints:["Jeans :    "," :   NFW  ","Virial theorem: 2K + U = 0 ( )"," :   ~85%","CDM : M0.3, 0.7"," : N-body + hydrodynamics"],keyFormulas:[{tex:"\\frac{d\\sigma_r^2}{dr} + 2\\frac{\\beta}{r}\\sigma_r^2 = -\\frac{GM(<r)}{r^2}",desc:"Jeans "},{tex:"v_{\\mathrm{c}}(r) = \\sqrt{\\frac{GM(<r)}{r}}",desc:"  "},{tex:"\\rho_{\\mathrm{NFW}}(r) = \\frac{\\rho_s}{(r/r_s)(1+r/r_s)^2}",desc:"Navarro-Frenk-White  "},{tex:"2\\langle K \\rangle + \\langle U \\rangle = 0",desc:" Virial "}],observations:"    (220 km/s at 8 kpc),    ( )",relatedPapers:["Galactic Dynamics (Binney & Tremaine, 2008)","The Concentration of Dark Matter Halos (Navarro, Frenk & White, 1997)","Simulations of the formation, evolution and clustering of galaxies and quasars (Springel et al. 2005)"]}},{slug:"cosmology",title:"  ",category:"cosmology",description:"Friedmann , CMB  ,  ",content:{overview:"      . Friedmann     , CMB    CDM  .",keyPoints:["Friedmann : a(t)  "," : t = 13.7870.020 Gyr (Planck 2018)"," : _   120 ","CMB :   T/T ~ 10","  : C_     "," : w(z) = p/(c)"],keyFormulas:[{tex:"\\left(\\frac{\\dot{a}}{a}\\right)^2 + \\frac{k}{a^2} = \\frac{8\\pi G}{3}\\rho",desc:"1 Friedmann "},{tex:"\\frac{\\ddot{a}}{a} = -\\frac{4\\pi G}{3}(\\rho + 3p) + \\frac{\\Lambda}{3}",desc:"2 Friedmann "},{tex:"T(z) = T_0 (1+z)",desc:"  "},{tex:"w = \\frac{p}{\\rho c^2}",desc:"  "}],observations:"CMB: b=0.049, cdm=0.264, =0.684, H0=67.4 km/s/Mpc (Planck 2018)",relatedPapers:["Planck 2018 results (Planck Collaboration, 2018)","A High-Resolution Cosmic Microwave Background Map (WMAP, 2003-2013)","Observational Evidence from Supernovae for an Accelerating Universe (Perlmutter et al. 1999)"]}},{slug:"observational-astronomy",title:" : , , ",category:"observations",description:"Equivalent Width, Voigt profile, CCD photometry,  ",content:{overview:"    .   (Equivalent Width, Doppler shift), CCD ,      .",keyPoints:["Equivalent Width (EW):    ","Voigt profile:  +   ","CCD : -(S/N), (dynamic range)",'X-ray : Chandra  0.5",   100 eV',"IR  (JWST): NIRCam  0.6-5m,  /~1600"," (VLBI): baseline ~10000 km,  ~as"],keyFormulas:[{tex:"EW = \\int_{\\lambda_1}^{\\lambda_2} \\left(1 - \\frac{F_\\lambda}{F_c}\\right)d\\lambda",desc:""},{tex:"f(\\nu) = \\frac{I(\\nu_0)}{\\sqrt{\\pi}}\\int_{-\\infty}^{\\infty}\\frac{e^{-t^2}}{1+(a(\\nu-\\nu_0+t\\Delta\\nu_D)/\\Delta\\nu_D)^2}dt",desc:"Voigt "},{tex:"(S/N)_{\\mathrm{CCD}} = \\frac{Ne}{\\sqrt{Ne + n_r^2 + n_d^2}}",desc:"CCD -"},{tex:"\\theta_{\\mathrm{res}} \\approx 1.22\\frac{\\lambda}{D}",desc:"  (Rayleigh criterion)"}],observations:"JWST NIRCam z~11   (_obs~2m), Chandra    , EHT   (48as)",relatedPapers:["Observational Astrophysics (Birney, Gonzalez & Oesper, 2006)","Modern Observational Astronomy: the Principles, Science and Techniques (Filippenko, 2006)"]}},{slug:"mass-luminosity",title:"- ",category:"stars",description:"    ",content:{overview:"       .       .",keyPoints:[": L  M^3.5 ()","     (2.5~4.5)","     "],keyFormulas:[{tex:"L \\approx M^{3.5}",desc:"-  ()"},{tex:"t_{\\mathrm{lifetime}} \\approx \\frac{M}{L} \\propto M^{-2.5}",desc:"  "}],observations:"  1   1, 10   ~3000",relatedPapers:["Mass-Luminosity Relations (1970)","Stellar Evolution Theory (1995)"]}},{slug:"dark-matter-rotation",title:"  ",category:"galaxies",description:"      ",content:{overview:"            ,    .",keyPoints:["   :    "," :  v  1/r ( )",": v   (100~300 km/s)"," :   ~85%"],keyFormulas:[{tex:"v(r) = \\sqrt{\\frac{GM(<r)}{r}}",desc:"   "},{tex:"M(<r) \\propto r",desc:" r  "}],observations:"M31 ,     ",relatedPapers:["The Rotation of Spiral Nebulae (1975)","Dark Matter and Galaxy Formation (2010)"]}},{slug:"cosmic-microwave-background",title:"  (CMB)",category:"cosmology",description:"    , ,  ",content:{overview:"CMB   38       .      .",keyPoints:[": 1965 Penzias & Wilson",": 2.725 K ( )",":   T/T ~ 10",":   "],keyFormulas:[{tex:"T(z) = T_0 (1 + z)",desc:"  CMB "},{tex:"T_0 = 2.725 \\, \\mathrm{K}",desc:"CMB  "}],observations:"WMAP, Planck   m=0.315, =0.685, H0=67 km/s/Mpc ",relatedPapers:["A Measurement of the Fluctuations in the Cosmic Microwave Background (1992)","Planck 2018 results (2018)"]}},{slug:"gravitational-waves",title:"   ",category:"observations",description:"LIGO/Virgo ,  ,  ,   ",content:{overview:"     . 2015  (GW150914) ,   (BBH),  (BNS),  (NSBH)    . /          .",keyPoints:["LIGO/Virgo :    h ~ 10  "," :  (inspection)  (merger)  (ringdown) 3"," :  , , ,   Bayesian "," : r-process     ",": GW + GRB() + kilonova()  "," :   H0  ,   "],keyFormulas:[{tex:"h_+(t) = \\frac{2G}{c^4}\\frac{M_c^{5/3}}{D_L}\\left(\\pi f(t)\\right)^{2/3}\\cos(\\Phi(t))",desc:"  +  ( )"},{tex:"\\frac{df}{dt} = \\frac{96}{5}\\pi^{8/3}\\frac{G^{5/3}}{c^5}M_c^{5/3}f^{11/3}",desc:"   (chirp)"},{tex:"M_c = \\frac{(m_1 m_2)^{3/5}}{(m_1 + m_2)^{1/5}}",desc:" (chirp mass)"},{tex:"T_{\\mathrm{merge}} = \\frac{5}{256}\\frac{c^5}{G^3}\\frac{1}{M_c^{5/3}\\pi^{8/3}f_0^{8/3}}",desc:"   (f)"},{tex:"Q = \\frac{M \\omega}{c} \\quad (\\text{ISCO})\\, Q_{\\text{Kerr}} \\sim \\frac{c^3}{G M} \\left(1 + \\sqrt{1-a^*/a}\\right)",desc:"  "}],observations:"GW150914:  36+29 M, GW170817:  1.36-1.60 M, GW190814: -  (  9:1)",relatedPapers:["Observation of Gravitational Waves from a Binary Black Hole Merger (Abbott et al., PRL 2016)","GW170817: Observation of Gravitational Waves from a Binary Neutron Star Inspiral (Abbott et al., PRL 2017)","Tests of General Relativity with GW150914 (Abbott et al., PRL 2016)"]}},{slug:"high-energy-astrophysics",title:"  X ",category:"observations",description:"X-ray binary, AGN  , Compton , Synchrotron ",content:{overview:"  X(0.1~100 keV), (>100 keV)   . X , (AGN),      .      Compton  Synchrotron     .",keyPoints:["X-ray binary: / +   ( )","Low-mass X-ray binary (LMXB):   < 1 M,  X ","High-mass X-ray binary (HMXB):   > 10 M,  ","Compton :   +    ,  ","Inverse Compton:   +     X/","Synchrotron :     ","AGN  :   Seyfert 1/2  (  )"],keyFormulas:[{tex:"E_\\gamma \\approx 4\\gamma k_B T_e",desc:"Compton   (Thomson regime)"},{tex:"\\nu_{\\mathrm{sync}} = \\frac{e B}{2\\pi m_e c} \\gamma^2",desc:"Synchrotron  "},{tex:"L_\\mathrm{Edd} = \\frac{4\\pi G M m_p c}{\\sigma_T} \\approx 1.3 \\times 10^{38} \\left(\\frac{M}{M_\\odot}\\right) \\, \\mathrm{erg~s^{-1}}",desc:"Eddington  "},{tex:"\\tau_T = n_e \\sigma_T L",desc:"Thomson "}],observations:"Cygnus X-1 ( HMXB), Sco X-1 ( LMXB), M87  AGN ( ), NGC 4151 ()",relatedPapers:["Physics of Compact Objects (Wheeler et al., 1996)","X-ray Binaries (Lewin & van der Klis, 2006)","AGN Unification Model (Antonucci, 1993)"]}},{slug:"cosmic-ray-physics",title:"   ",category:"observations",description:"Fermi ,  ,   , - ",content:{overview:"    ( ).  ,  ,    . Fermi          .   ,  ,     .",keyPoints:["Fermi 1 :  / ,   (E/E  %)","Fermi 2 :  (magnetic mirror)    ","  : SNe Ia  SNe II  "," : E^(-2.7) power law (  10~10 eV)"," : CR      (  )"," : ~90% , ~10% , ~1%  "," (UHECR): E > 10 eV,  (GZK cutoff)"],keyFormulas:[{tex:"\\frac{dE}{dt} \\propto E",desc:"Fermi 1  (  )"},{tex:"N(E) \\propto E^{-\\alpha}",desc:"  power law (  2.7)"},{tex:"E_c = \\frac{3eB\\,r_L^2}{2\\Delta t}",desc:"Fermi    (  r_L,   t)"},{tex:"E_{\\mathrm{GZK}} \\approx 5 \\times 10^{19} \\, \\mathrm{eV}",desc:"GZK cutoff  (CMB )"}],observations:"  :    , IceCube   ( CR  )",relatedPapers:["The Origin of Cosmic Rays (Jokipii, 1987)","Cosmic Ray Propagation and Solar Modulation (Potgieter, 2013)","Supernova Remnants as Cosmic Ray Accelerators (Berezhko & Vlk, 2007)"]}},{slug:"adaptive-optics-interferometry",title:"  ",category:"observations",description:"  , VLBI,  ,  ",content:{overview:"    . (AO)          . VLBI( )         .",keyPoints:[" seeing:      (typical ~0.5~2 arcsec)"," :  = /(2D), D  ",": (wavefront sensor) +  (deformable mirror)  ","Strehl ratio: AO  . Strehl  1 (), 0 (  )","VLBI (Very Long Baseline Interferometry):   ,   "," : Keck I&II, VLTI (  ~ 1 )"," (phase closure):     "],keyFormulas:[{tex:"\\theta_{\\mathrm{diff}} = 1.22 \\frac{\\lambda}{D}",desc:"Rayleigh  "},{tex:"B_{\\mathrm{eff}} = \\lambda D / d",desc:"   ( , D baseline, d  )"},{tex:"S = \\exp\\left(-\\frac{\\pi^2}{2\\ln 2} \\sigma_\\phi^2\\right)",desc:"Strehl ratio (_: RMS  )"}],observations:"Event Horizon Telescope (EHT): 10  VLBI M87, Sgr A*   (2019, 2022)",relatedPapers:["Adaptive Optics for Astronomy (Roddier, 1999)","VLBI Astrometry (Porcas et al., 2003)","First M87 Event Horizon Telescope Results (EHT Collaboration, 2019)"]}},{slug:"modified-gravity",title:" : MOND TeVeS",category:"relativity",description:"  ,   , CDM ",content:{overview:"           . MOND (  )      , TeVeS  .",keyPoints:["MOND : a < a  F = m(a/a)  (a ~ 1.210 m/s)","  :   MOND   ( )","Deep MOND (Deep Modified Newtonian Dynamics): a << a F  (GMm/r)","TeVeS (Tensor-Vector-Scalar):  MOND,    ","Bullet Cluster :     , MOND  ","  (UV completion): MOND   "],keyFormulas:[{tex:"F = m \\frac{a^2}{a_0}\\,\\, (a << a_0)",desc:"Deep MOND "},{tex:"a_0 = \\frac{cH_0}{6}\\approx 1.2 \\times 10^{-10}\\,\\mathrm{m/s^2}",desc:"MOND "},{tex:"v_\\mathrm{rot} \\approx \\sqrt[4]{GMa_0}\\,\\, (a << a_0)",desc:"MOND   ( )"}],observations:"  ,   , CMB , BBN  ",relatedPapers:["MOND and the Dark Matter Problem (Milgrom, 2015)","Relativistic MOND via TeVeS (Bekenstein, 2004)","The Bullet Cluster Evidence against Dark Matter (Clowe et al., 2006)"]}},{slug:"dark-matter-detection",title:" : WIMPs, Axions,  ",category:"galaxies",description:" ,  ,  ,  ",content:{overview:"    85%   . WIMPs (   ) axions  ,     .",keyPoints:["WIMPs (Weakly Interacting Massive Particles):  10~1000 GeV/c,   ","Axions:    (eV ), QCD  "," : XENON, LUX, SuperCDMS       "," :      ,  "," : LHC      "," :    "],keyFormulas:[{tex:"\\sigma_{\\mathrm{WIMP-nucleon}} \\sim 10^{-45}\\,\\mathrm{cm}^2\\,\\, (\\mathrm{spin\\text{-}independent})",desc:"WIMP-  "},{tex:"m_a \\sim 10^{-6}\\,\\mathrm{eV} \\sim 10^{-2}\\,\\mathrm{eV}",desc:"  "},{tex:"F_a = \\frac{m_e v^2}{g_{a\\gamma\\gamma} m_a}",desc:"  "}],observations:"Planck 2018: _cdm h = 0.1200.001, LHC Run 2: WIMP   , AMS:   ",relatedPapers:["Dark Matter Candidates: From Theory to Direct Detection (Hooper & Kolb, 2010)","Axion Dark Matter Searches (Irastorza & Redondo, 2018)","XENON1T Results on Light Dark Matter Particles (XENON Collaboration, 2019)"]}},{slug:"exoplanet-systems",title:": , ,  ",category:"stars",description:"  ,  ,   , TRAPPIST-1 ",content:{overview:"5500   (2024).   (protoplanetary disk)    , /     .",keyPoints:[" :          (  )"," :        (m sin i)"," (transit photometry):        ( 0.01%)"," :      (HO, CO, CH)","  :         ","TESS/JWST:   ,    "],keyFormulas:[{tex:"\\frac{\\Delta F}{F} = \\frac{R_p^2}{R_*^2}",desc:"   (R_p: , R_*:  )"},{tex:"a_\\mathrm{HZ} = \\sqrt{\\frac{L_*}{L_\\odot}}",desc:"   "},{tex:"K = \\frac{(m \\sin i)}{\\sqrt{1-e^2}} \\sqrt{\\frac{GM_*}{a^3}}",desc:"RV  ( )"}],observations:"Kepler  2662, TESS  600+ (), TRAPPIST-1: 7   (3   )",relatedPapers:["Exoplanet Atmospheres (Seager, 2010)","Planet Formation in Protoplanetary Disks (Nakano et al., 2015)","JWST Transiting Exoplanet Community Early Release Science Program (Louie et al., 2023)"]}},{slug:"supernova-cosmology",title:" :  Ia  ",category:"cosmology",description:"  Ia ,   ,  , w ",content:{overview:'1998,   Type Ia  "  "   (Nobel 2011). SNe Ia      .',keyPoints:["Type Ia SN:       ",":    M_V  -19.3 (0.3)","Phillips :       (  )","Dust extinction:     (E(B-V) )","Hubble diagram:   vs  _ _m  "," :  ()  , w = -1 "],keyFormulas:[{tex:"m = M + 5\\log_{10}(d_L) + 25",desc:"  (m:  , M:  )"},{tex:"d_L = \\frac{1+z}{H_0} \\int_0^z \\frac{dz^\\prime}{E(z^\\prime)}",desc:"  (CDM)"},{tex:"M_V^\\mathrm{corr} = M_V - 2.5\\alpha(s-1)",desc:"Phillips  (s:  )"}],observations:"Riess et al. 1998 42 SNe Ia, Perlmutter et al. 1999 52 SNe Ia,  1000+  , H = 73.041.04 km/s/Mpc (SH0ES 2022)",relatedPapers:["Observational Evidence from Supernovae for an Accelerating Universe (Riess et al., 1998)","Measurements of  and  from 42 High-Redshift Supernovae (Perlmutter et al., 1999)","Local Void is Consistent with CDM (Kenworthy et al., 2021)"]}},{slug:"agn-unified-model",title:"   : , ,  ",category:"galaxies",description:" ,  , Fanaroff-Riley , Eddington ",content:{overview:"AGN (Active Galactic Nuclei)  (SMBH)  .  ( ,  )    ,   .",keyPoints:["SMBH:    10~10 M",":   (inner disk) +   (outer disk)","(Torus):    ,    >> 1","(Jet):   ,    ~ 0.99","Fanaroff-Riley : FR I (,  ) vs FR II (,  )","Eddington : L_Edd = 4GMm_p c/_T  1.410(M/M) W"," (BLR/NLR):    "],keyFormulas:[{tex:"L_\\mathrm{Edd} = \\frac{4\\pi GMm_p c}{\\sigma_T} = 1.4 \\times 10^{31}\\left(\\frac{M}{M_\\odot}\\right)\\,\\mathrm{W}",desc:"Eddington "},{tex:"\\lambda_\\mathrm{Edd} = \\frac{L_\\mathrm{bol}}{L_\\mathrm{Edd}}",desc:"Eddington "},{tex:"\\dot{M} = \\frac{L}{\\eta c^2}",desc:" (: radiative efficiency)"}],observations:"M87 SMBH M=(6.50.7)10M, Centaurus A   >4 Mpc, NGC 1068   (ALMA)",relatedPapers:["AGN Unification: The Quest Continues (Krolik, 2007)","Accretion in Supermassive Black Holes (Narayan & Quataert, 2005)","First M87 Event Horizon Telescope Results (EHT Collaboration, 2019)"]}}],qF=[{term:"Absolute Magnitude ()",definition:"  10 pc    .    ."},{term:"Accretion Disk ( )",definition:",        .  40%   ."},{term:"Adiabatic Gradient ( )",definition:"        . dT/dP = T/(P)."},{term:"Blackbody Radiation ()",definition:"   ,      . Planck  ."},{term:"Blue Shift ()",definition:"      .  < 0."},{term:"CCD Photometry (CCD )",definition:"Charge-Coupled Device    . -  100  ."},{term:"CMB Power Spectrum (CMB )",definition:"CMB      C_ .  ,    ."},{term:"CNO Cycle (CNO )",definition:"   : C  N  C  N  O  N  C + He."},{term:"Doppler Shift ( )",definition:"    . v << c  / = v/c."},{term:"Dynamical Mass ( )",definition:"Jeans     .      ."},{term:"EOS Parameter ( )",definition:" w = p/(c). CDM w = -1.  ."},{term:"Equivalent Width (, EW)",definition:"     .  column density  ."},{term:"Ergosphere ()",definition:"Kerr   g_tt > 0 .       ."},{term:"Friedmann Equation ( )",definition:"    . (/a) + k/a = 8G/3."},{term:"Geodesic ()",definition:'    . Riemannian  "" .'},{term:"Gravitational Redshift ()",definition:"     . / = -GM/cr."},{term:"Gravitational Waves ()",definition:"   .  h ~ 10 (LIGO).  ,   ."},{term:"Gravitational Wave Strain ( )",definition:"LIGO     : h = L/L ~ 10.   ."},{term:"Gravitational Wave Detector ( )",definition:"LIGO, Virgo, KAGRA    .      ."},{term:"MOND (Modified Newtonian Dynamics)",definition:"      . a < a ~ 10 m/s   ."},{term:"TeVeS (Tensor-Vector-Scalar Gravity)",definition:"MOND  .   = ."},{term:"Bullet Cluster ( )",definition:"    . X-        ."},{term:"WIMPs (Weakly Interacting Massive Particles)",definition:" .  10~1000 GeV/c,     ."},{term:"Axion ()",definition:"     (eV~meV ). QCD  Peccei-Quinn  ."},{term:"Exoplanet ()",definition:"    . 5500+  (2024).  ,   ."},{term:"Habitable Zone (  )",definition:"          .    ."},{term:"Type Ia Supernova (Ia )",definition:"      .      ."},{term:"Phillips Relation (Phillips )",definition:"Type Ia SN     .      ."},{term:"AGN (Active Galactic Nuclei)",definition:" .       ."},{term:"SMBH (Supermassive Black Hole)",definition:"   .  10~10 M.     ."},{term:"AGN Torus (AGN )",definition:"AGN     .    >> 1.     ."},{term:"Eddington Luminosity (Eddington )",definition:"    . L_Edd = 4GMm_p c/_T  1.410(M/M) W."},{term:"Fanaroff-Riley Classification",definition:"Radio galaxy  . FR I:    . FR II:    ."},{term:"Hawking Radiation ( )",definition:"   .  T_H = c/(8kGM)."},{term:"Hubble Constant ( )",definition:"   . H  67-73 km/s/Mpc (   )."},{term:"Hubble Distance ( )",definition:"     . d_H = c/H  4400 Mpc."},{term:"ISCO (  )",definition:"Innermost Stable Circular Orbit.     . r_ISCO = 6GM/c (Schwarzschild)."},{term:"Jeans Equation ( )",definition:"   . d_r/dr + 2_r/r = -GM/r."},{term:"Jeans Mass ( )",definition:"    . M_J = (kT/G)^(3/2)(5T/G)^(1/2)."},{term:"Kerr Metric ( )",definition:"   .   a = J/Mc .    ."},{term:"Lane-Emden Equation (- )",definition:"     . du/d + 2/du/d + u^n = 0."},{term:"Luminosity Distance ( )",definition:"      . d_L = (1+z)d_c (CDM)."},{term:"LIGO (Laser Interferometer Gravitational-Wave Observatory)",definition:"  . Hanford & Livingston   .   4 km,   125 W."},{term:"Mass-Luminosity Relation (- )",definition:"L  M^,    3.5.    ."},{term:"MHD Simulations ( )",definition:"     .  , ,   ."},{term:"Matched Filtering ( )",definition:"   .   (cross-correlation) S/N ."},{term:"Merger ()",definition:"   . /     ."},{term:"NFW Profile (NFW  )",definition:"Navarro-Frenk-White   :   1/(r/r_s(1+r/r_s))."},{term:"Neutron Star ()",definition:"     .  ~10 km,  ~10^17 kg/cm,  ."},{term:"Opacity ()",definition:"    .  = /().     ."},{term:"Photometric Redshift ( )",definition:"     .     ."},{term:"Planck Function ( )",definition:"   . B_ = 2h/c1/(e^(h/kT)-1)."},{term:"QFT in Curved Spacetime (  )",definition:" . Hawking   ."},{term:"Radiative Transfer ( )",definition:"    . F_rad = -c/(3)dT/dr."},{term:"Redshift ()",definition:"    . z = (_obs - _emit)/_emit."},{term:"Rotation Curve ()",definition:"   vs  .     ."},{term:"Schwarzschild Metric ( )",definition:"   .   . r_s = 2GM/c ."},{term:"Shapiro Delay ( )",definition:"   . t = (2GM/c)ln(4rr/b)."},{term:"Spectral Classification ( )",definition:"   : O B A F G K M.   100 K ."},{term:"Starburst Galaxy ( )",definition:"     . SFR > 1 M/yr.    ."},{term:"Stefan-Boltzmann Law (- )",definition:"  : L = 4RT,  = 5.6710 W m K."},{term:"Tully-Fisher Relation (- )",definition:"     .    ."},{term:"Tidal Deformability ( )",definition:"    .  .    ."},{term:"Time Delay ( )",definition:"     .  (sky localization) ."},{term:"Virial Theorem ( )",definition:"  : 2K + U = 0 ( )."},{term:"Virgo (  )",definition:" Cascina  .   3 km,   200 W. LIGO 3  ."},{term:"Voigt Profile ( )",definition:" ( + )   .    ."},{term:"White Dwarf ()",definition:"   .    .   (Hubble time > age)."},{term:"X-ray Spectroscopy (X )",definition:"Chandra, XMM-Newton     .  K (6.4 keV)    ."},{term:"Zero-Age Main Sequence (ZAMS)",definition:"      . Hertzsprung-Russell  ."}],cie=[{id:1,title:"Observation of Gravitational Waves from a Binary Black Hole Merger",authors:"Abbott, B. P. et al. (LIGO/Virgo Collaboration)",year:2016,arxivId:"1602.03837",journal:"Physical Review Letters 116, 061102",doi:"10.1103/PhysRevLett.116.061102",abstract:"On 14 September 2015 at 09:50:45 UTC the two detectors of the Laser Interferometer Gravitational-Wave Observatory observed a transient gravitational-wave signal. The signal sweeps upward in frequency from 35 to 250 Hz, with peak gravitational-wave strain of 1.0  10.",summary:{background:"  100     .        .",methodology:"Matched filtering :     . S/N > 24 . Bayesian parameter estimation , , ,  .",theory:"   : dE/dt = -32/5G/(c)(mm)(m+m)/(a).    Kerr  .",data_analysis:"Advanced LIGO (2 ): N = 510/Hz @ 100Hz. 4 km arm interferometer, Fabry-Prot cavity resonator .  :   , /  subtraction.",results:"  () q = 1.20.1,   M = 65 M,    M_f = 62 M,  E = 3.0 Mc (   ).",limiting_factors:" shot noise  thermal noise ,   0.2  parameter inference  ."}},{id:2,title:"First M87 Event Horizon Telescope Results. I. The Shadow of the Supermassive Black Hole",authors:"Event Horizon Telescope Collaboration",year:2019,arxivId:"1906.11238",journal:"The Astrophysical Journal Letters 875, L1",doi:"10.3847/2041-8213/ab0ec7",abstract:"We present the first Event Horizon Telescope (EHT) observations at 1.3 mm wavelength of the supermassive black hole candidate in the galactic center of the radio galaxy M87. We have resolved the central compact radio source on angular scales of ~5 microarcseconds.",summary:{background:"         . VLBI    10,000 km .",methodology:"Very Long Baseline Interferometry (VLBI): 8    .    . Phase calibration, self-calibration  . Imaging: CLEAN ,   .",theory:"General relativistic magnetohydrodynamics (GRMHD)    . Kerr     (null geodesics).   : r_shadow  5.2 GM/c (M87  r_shadow  42 as).",data_analysis:"Visibility :   . u-v plane   .     . Uncertainty quantification:    .",results:"  M = (6.50.7)10 M.     d = 42.03.0 as.   10%  .    .",limiting_factors:"  ,    ,  (intraday variability) ,    ."}},{id:3,title:"A Universe of Black Holes and Bulges Revealed by JWST",authors:"Labb, I. et al.",year:2023,arxivId:"2306.02465",journal:"Nature ( )",doi:"10.1038/nature25755",abstract:"The James Webb Space Telescope (JWST) has revealed a population of surprisingly massive galaxies at z > 10, indicating accelerated galaxy assembly in the early universe.",summary:{background:"JWST     (z > 6)    .        .",methodology:"NIRCam : 0.6-5 m ,   SED fitting.  : NIRSpec   (R ~ 1000). (PSF) ,  .",theory:"SED modeling: Stellar population synthesis (FSPS, BAGPIPES). Dust attenuation curve . Photometric redshift vs spectroscopic redshift . Virial mass : M_vir = r/G ( ).",data_analysis:": P(z, params | data)  L(data | z, params)  Prior(z, params). Bayesian inference , , SFR .     (confidence interval) .",results:" z = 13.2  JADES-GS-z13-0:  M* = (3.21.9)10 M.  ~500 Myr.    330 Myr   (   a = 0.07).",limiting_factors:"  ,      degeneracy,  -    ,   ."}},{id:4,title:"The Weak Gravitational Lensing Signal and the Clustering of GAMA Galaxies",authors:"Leauthaud, A. et al.",year:2017,arxivId:"1511.06428",journal:"Monthly Notices of the Royal Astronomical Society",doi:"10.1093/mnras/stw2897",abstract:"We present joint measurements of the weak gravitational lensing signal around GAMA galaxies and their clustering. These measurements allow direct constraints on galaxy assembly bias and the dark matter halo profiles.",summary:{background:"          .     .",methodology:"Weak lensing shear : background     (typical  ~ 0.01).  :  = _cr  _tan. 2-point correlation   clustering .",theory:"NFW : (r) = _s / [(r/r_s)(1+r/r_s)].  c  r    M = (4/3)_crit200r. Halo mass function  .",data_analysis:"Forward modeling:   shear     .  galaxy-halo  (P(halo mass | galaxy properties)). Likelihood: L = _i P(data_i | model, params).",results:"  M* = 10 M     M_DM ~ 10 M.   c = 5.01.5.      .",limiting_factors:"    S/N,    (shape noise), systematic lensing , photometric redshift ."}},{id:5,title:"GW170817: Observation of Gravitational Waves from a Binary Neutron Star Inspiral",authors:"Abbott, B. P. et al. (LIGO/Virgo Collaboration)",year:2017,arxivId:"1710.05832",journal:"Physical Review Letters 119, 161101",doi:"10.1103/PhysRevLett.119.161101",abstract:"On August 17, 2017 at 12:41:04 UTC the Advanced LIGO and Advanced Virgo gravitational-wave detectors made their first observation of a binary neutron star inspiral. A loud gravitational-wave signal was detected with a duration of approximately 100 seconds.",summary:{background:"   r-process (  )  .  +  (kilonova)     .",methodology:"Bayesian parameter estimation: 9  ~ , , ,  . Matched filtering  . 3 (LIGO Hanford, LIGO Livingston, Virgo)  source localization (sky position ).",theory:"  :   M_max . Tidal deformability   (compressibility) .    5 (  ).",data_analysis:"  ~100 sec     . Nested sampling    (marginalized probability) . Model comparison: BNS vs NSBH vs BBH.",results:"  : m = 1.36-1.60 M, m = 1.17-1.36 M. Tidal deformability  = 560. r-process    0.03-0.05 M.  kilonova AT2017gfo   .",limiting_factors:"Virgo    source localization  (~600 sq deg),   (gap),  merger   ."}}],_1=[{id:1,name:"  ",description:", ,    "},{id:2,name:" ",description:" , , CCD, , VLBI  "},{id:3,name:" ",description:"LIGO, EHT, JWST     "},{id:4,name:" ",description:"N-body, MHD, hydrodynamics   "},{id:5,name:" ",description:", Bayesian ,   "},{id:6,name:" ",description:", ,  ,   "}],Az=[{id:1,category:1,title:"Schwarzschild  :   vs  ",author:"physicistKim",date:"2025-01-20",replies:8,content:"Schwarzschild  r=r_s     r=0  ? (Kerr)   ergosphere ?"},{id:2,category:2,title:"JWST NIRSpec    ",author:"observerAstro",date:"2025-01-18",replies:12,content:"JWST NIRSpec  (R~1000 vs 2700) S/N   ? z>10    ?"},{id:3,category:3,title:"GW170817 r-process:     ?",author:"cosmologyNerd",date:"2025-01-19",replies:15,content:"  r-process    Au, Pt  90%     ?"},{id:4,category:4,title:"Athena MHD     ",author:"codeGuru",date:"2025-01-17",replies:6,content:"GRMHD  Kerr  Boyer-Lindquist      ? CFL   ?"},{id:5,category:5,title:" : Matched filter vs   ",author:"ML_astronomer",date:"2025-01-20",replies:11,content:"LIGO      matched filtering deep learning (CNN, RNN)  ?"},{id:6,category:6,title:"      ",author:"devAstro",date:"2025-01-16",replies:9,content:"Python  SED fitting (FSPS, BAGPIPES),  (emcee, dynesty), (GIZMO)      ?"},{id:7,category:1,title:"Hawking   :  ",author:"qftPhysicist",date:"2025-01-15",replies:14,content:" Bekenstein-Hawking  S = kA/4l_p   T_H  ?    ?"},{id:8,category:3,title:"EHT M87 : asymmetry  ",author:"ehtFan",date:"2025-01-14",replies:7,content:"M87  (N/S asymmetry ~10%)  beaming,     ?"},{id:9,category:2,title:"CCD   : (PSF) ",author:"observerationalist",date:"2025-01-13",replies:5,content:"CCD  PSF      ? Moffat vs Gaussian vs  PSF  ?"},{id:10,category:4,title:"N-body :   (SPH) vs AMR ",author:"simluator",date:"2025-01-12",replies:10,content:"   SPH(GADGET) AMR(ENZO, GIZMO)  ?       ?"}],xT={textbooks:[{title:"Gravitational Waves Volume 1: Theory and Experiments",authors:"Maggiore, M.",year:2007},{title:"The Theory of Stellar Structure and Evolution",authors:"Kippenhahn, R., Weigert, A. & Weiss, A.",year:2012},{title:"Galactic Dynamics",authors:"Binney, J. & Tremaine, S.",year:2008},{title:"General Relativity",authors:"Carroll, S. M.",year:2004},{title:"Black Hole Thermodynamics",authors:"Wald, R. M.",year:2001},{title:"Observational Astrophysics",authors:"Birney, D. S., Gonzalez, G. & Oesper, D. A.",year:2006},{title:"The Early Universe",authors:"Kolb, E. W. & Turner, M. S.",year:1990},{title:"Modern Astrophysics",authors:"Carroll, B. W., Ostlie, D. A. & et al.",year:2007}],databases:[{name:"NASA ADS (Astrophysics Data System)",url:"https://ui.adsabs.harvard.edu/",desc:"    . 240+  ."},{name:"arXiv Astro-ph",url:"https://arxiv.org/archive/astro-ph",desc:" .  ~50  .   ."},{name:"Simbad",url:"https://simbad.u-strasbg.fr/",desc:", ,      , ."},{name:"NED (NASA Extragalactic Database)",url:"https://ned.ipac.caltech.edu/",desc:"   . , ,    ."},{name:"VizieR",url:"https://vizier.cds.unistra.fr/",desc:"700+      ."},{name:"Gravitational Wave Open Science Center (GWOSC)",url:"https://gwosc.readthedocs.io/",desc:"LIGO/Virgo  ,  , ."}],tools:[{name:"GIZMO",url:"https://www.tapir.caltech.edu/~phopkins/Site/GIZMO.html",desc:"N-body +  +  +    ."},{name:"ATHENA++",url:"https://www.athena-code.org/",desc:"  (GRMHD) .    ."},{name:"Planck 2018 Legacy Release",url:"https://irsa.ipac.caltech.edu/data/Planck/",desc:"CMB  ,  ,   ."},{name:"FSPS (Flexible Stellar Population Synthesis)",url:"https://github.com/bd-j/fsps",desc:"   . SED ."},{name:"dynesty (Dynamic Nested Sampling)",url:"https://github.com/joshspeagle/dynesty",desc:"   Bayesian .   ."},{name:"SIMBAD Sky Map",url:"http://simbad.u-strasbg.fr/simbad/sim-fcoo",desc:"      ."},{name:"JWST Exposure Time Calculator",url:"https://jwst.etc.stsci.edu/",desc:"JWST     S/N ."}]},E1={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},P1={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4}}};function uie(){const{isDark:t}=Rs(),e=XM.slice(0,3);return A.useEffect(()=>{if(!localStorage.getItem("registeredUsers")){const r={[btoa("test@example.com")]:{email:"test@example.com",password:btoa("Test1234"),username:"",affiliation:" ",createdAt:new Date().toISOString()}};localStorage.setItem("registeredUsers",JSON.stringify(r)),console.log("   : test@example.com / Test1234")}},[]),x.jsxs("div",{className:"space-y-8 sm:space-y-12",children:[x.jsxs("section",{className:"py-8 sm:py-12 md:py-20 text-center",children:[x.jsx(ee.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},children:x.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold mb-4 bg-gradient-to-r from-blue-500 to-purple-600 dark:from-blue-400 dark:to-purple-500 bg-clip-text text-transparent",children:" "})}),x.jsx(ee.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-base sm:text-lg md:text-xl text-gray-600 dark:text-gray-300 mb-8 px-4",children:" ,  ,   "}),x.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"flex flex-col sm:flex-row gap-4 justify-center px-4",children:[x.jsx(ee.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:x.jsx(lt,{to:"/concepts",className:"block px-8 py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition font-medium shadow-lg hover:shadow-xl",children:" "})}),x.jsx(ee.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:x.jsx(lt,{to:"/papers",className:"block px-8 py-3 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg hover:from-orange-700 hover:to-orange-800 transition font-medium shadow-lg hover:shadow-xl",children:" "})})]})]}),x.jsx(ee.section,{variants:E1,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6",children:[{title:" ",description:", ,        ",icon:""},{title:" ",description:"    .    ",icon:""},{title:"",description:", ,    .    ",icon:""}].map((n,r)=>x.jsxs(ee.div,{variants:P1,whileHover:{y:-8,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},className:`p-6 rounded-lg border transition ${t?"bg-gray-800 border-gray-700 hover:border-blue-500":"bg-white border-gray-200 hover:border-blue-500"}`,children:[x.jsx("div",{className:"text-4xl mb-3",children:n.icon}),x.jsx("h3",{className:`text-lg sm:text-xl font-bold mb-2 ${t?"text-white":"text-gray-900"}`,children:n.title}),x.jsx("p",{className:`text-sm sm:text-base ${t?"text-gray-300":"text-gray-600"}`,children:n.description})]},r))}),x.jsxs(ee.section,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6},viewport:{once:!0,amount:.2},children:[x.jsx(ee.h2,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-6 text-gray-900 dark:text-white",children:" "}),x.jsx(ee.div,{variants:E1,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:e.map(n=>x.jsx(ee.div,{variants:P1,whileHover:{y:-8},className:`p-6 rounded-lg border transition cursor-pointer ${t?"bg-gray-800 border-gray-700 hover:border-blue-500":"bg-white border-gray-200 hover:border-blue-500"}`,children:x.jsxs(lt,{to:`/concepts/${n.slug}`,children:[x.jsx("h3",{className:"text-base sm:text-lg font-bold text-blue-600 dark:text-blue-400 mb-2",children:n.title}),x.jsx("p",{className:`text-sm sm:text-base ${t?"text-gray-300":"text-gray-600"}`,children:n.description})]})},n.slug))})]}),x.jsxs(ee.section,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6},viewport:{once:!0,amount:.2},children:[x.jsx(ee.h2,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"text-2xl sm:text-3xl md:text-4xl font-bold mb-6 text-gray-900 dark:text-white",children:"  "}),x.jsx(ee.div,{variants:E1,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},className:"space-y-4",children:cie.map(n=>x.jsxs(ee.div,{variants:P1,whileHover:{x:8},className:`p-4 sm:p-6 rounded-lg border transition ${t?"bg-gray-800 border-gray-700 hover:border-orange-500":"bg-white border-gray-200 hover:border-orange-500"}`,children:[x.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2",children:[x.jsxs("div",{className:"flex-1",children:[x.jsx("h3",{className:"font-bold text-blue-600 dark:text-blue-400 text-sm sm:text-base",children:n.title}),x.jsxs("p",{className:`text-xs sm:text-sm ${t?"text-gray-400":"text-gray-500"}`,children:[n.authors," (",n.year,")"]})]}),x.jsx("span",{className:`text-xs px-3 py-1 rounded whitespace-nowrap ${t?"bg-gray-700 text-gray-300":"bg-gray-200 text-gray-700"}`,children:n.year})]}),x.jsx("p",{className:`text-xs sm:text-sm mt-3 ${t?"text-gray-300":"text-gray-600"}`,children:n.abstract})]},n.id))}),x.jsx(ee.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"mt-8 text-center",children:x.jsx(ee.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:x.jsx(lt,{to:"/papers",className:"inline-block px-8 py-3 bg-gradient-to-r from-orange-600 to-orange-700 text-white rounded-lg hover:from-orange-700 hover:to-orange-800 transition font-medium shadow-lg hover:shadow-xl",children:"   "})})})]})]})}function hie(){const{isDark:t}=Rs(),e={relativity:"",stars:"",galaxies:"",cosmology:"",observations:""},n={relativity:"from-red-500 to-pink-500",stars:"from-yellow-500 to-orange-500",galaxies:"from-purple-500 to-indigo-500",cosmology:"from-blue-500 to-cyan-500",observations:"from-green-500 to-emerald-500"};return x.jsxs("div",{className:"space-y-12 sm:space-y-16",children:[x.jsxs(ee.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6},children:[x.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4 bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-400 dark:to-purple-400 bg-clip-text text-transparent",children:" "}),x.jsx(ee.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.2},className:`text-sm sm:text-base ${t?"text-gray-300":"text-gray-600"}`,children:"  5  , 14     ."})]}),Object.entries(e).map(([r,i],s)=>{const a=XM.filter(o=>o.category===r);return a.length===0?null:x.jsxs(ee.section,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.6},viewport:{once:!0,amount:.1},children:[x.jsx(ee.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.6},viewport:{once:!0},className:"mb-6",children:x.jsx("div",{className:`inline-block bg-gradient-to-r ${n[r]} p-0.5 rounded-lg`,children:x.jsx("div",{className:`px-4 py-2 rounded-md ${t?"bg-gray-900":"bg-white"}`,children:x.jsx("h2",{className:`text-lg sm:text-xl font-bold bg-gradient-to-r ${n[r]} bg-clip-text text-transparent`,children:i})})})}),x.jsx(ee.div,{variants:E1,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.1},className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:a.map((o,l)=>x.jsxs(ee.div,{variants:P1,whileHover:{y:-12,boxShadow:"0 20px 40px -10px rgba(0, 0, 0, 0.15)"},className:`group relative overflow-hidden rounded-xl border-2 transition cursor-pointer ${t?"bg-gradient-to-br from-gray-800 to-gray-900 border-gray-700 hover:border-blue-500":"bg-gradient-to-br from-white to-gray-50 border-gray-200 hover:border-blue-500"}`,children:[x.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${n[r]} opacity-0 group-hover:opacity-5 transition-opacity duration-300`}),x.jsxs(lt,{to:`/concepts/${o.slug}`,className:"relative block p-6",children:[x.jsx("div",{className:"mb-4",children:x.jsx("span",{className:`inline-block px-3 py-1 text-xs font-semibold rounded-full ${t?"bg-gray-700 text-blue-300":"bg-blue-100 text-blue-700"}`,children:i})}),x.jsx("h3",{className:"text-base sm:text-lg font-bold mb-2 text-blue-600 dark:text-blue-400 group-hover:translate-x-1 transition-transform",children:o.title}),x.jsx("p",{className:`text-sm sm:text-base line-clamp-2 mb-4 ${t?"text-gray-300":"text-gray-600"}`,children:o.description}),x.jsxs("div",{className:`text-xs space-y-1 ${t?"text-gray-400":"text-gray-500"}`,children:[o.content.keyPoints.slice(0,2).map((c,u)=>x.jsxs("div",{className:"flex items-start gap-2",children:[x.jsx("span",{className:"text-blue-400",children:""}),x.jsx("span",{className:"line-clamp-1",children:c})]},u)),o.content.keyPoints.length>2&&x.jsxs("div",{className:"text-blue-500 font-medium",children:["+ ",o.content.keyPoints.length-2," ..."]})]})]})]},o.slug))})]},r)})]})}function die({tex:t,display:e=!1}){return A.useEffect(()=>{if(window.katex)try{window.katex.render(t,document.getElementById(`math-${t}`),{displayMode:e,throwOnError:!1})}catch(n){console.error("KaTeX error:",n)}},[t,e]),x.jsx("div",{id:`math-${t}`,className:"inline-block"})}function fie(){const{slug:t}=FU(),e=XM.find(r=>r.slug===t);if(!e)return x.jsx("div",{className:"text-center py-12 text-gray-600 dark:text-gray-300",children:"   ."});const{content:n}=e;return x.jsxs("div",{className:"max-w-3xl mx-auto space-y-6 sm:space-y-8",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-2 text-gray-900 dark:text-white",children:e.title}),x.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm sm:text-base",children:e.description})]}),x.jsxs("section",{className:"bg-white dark:bg-dark-100 border border-gray-200 dark:border-dark-300 p-4 sm:p-6 rounded-lg",children:[x.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 text-gray-900 dark:text-white",children:""}),x.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed text-sm sm:text-base",children:n.overview})]}),x.jsxs("section",{className:"px-4 sm:px-0",children:[x.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 text-gray-900 dark:text-white",children:" "}),x.jsx("ul",{className:"space-y-2",children:n.keyPoints.map((r,i)=>x.jsxs("li",{className:"flex gap-3 text-sm sm:text-base",children:[x.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-bold flex-shrink-0",children:""}),x.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:r})]},i))})]}),n.keyFormulas&&n.keyFormulas.length>0&&x.jsxs("section",{className:"px-4 sm:px-0",children:[x.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 text-gray-900 dark:text-white",children:" "}),x.jsx("div",{className:"space-y-4",children:n.keyFormulas.map((r,i)=>x.jsxs("div",{className:"bg-white dark:bg-dark-100 border border-gray-200 dark:border-dark-300 p-4 sm:p-6 rounded-lg overflow-x-auto",children:[x.jsx(die,{tex:r.tex}),x.jsx("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 mt-2",children:r.desc})]},i))})]}),x.jsxs("section",{className:"bg-white dark:bg-dark-100 border border-gray-200 dark:border-dark-300 p-4 sm:p-6 rounded-lg",children:[x.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 text-gray-900 dark:text-white",children:" "}),x.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm sm:text-base",children:n.observations})]}),n.relatedPapers&&n.relatedPapers.length>0&&x.jsxs("section",{className:"px-4 sm:px-0",children:[x.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-4 text-gray-900 dark:text-white",children:" "}),x.jsx("ul",{className:"space-y-2",children:n.relatedPapers.map((r,i)=>x.jsx("li",{className:"text-gray-700 dark:text-gray-300 border-l-2 border-blue-600 dark:border-blue-400 pl-4 text-sm sm:text-base",children:r},i))})]})]})}const Nr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Nk=[.001,0,0,.001,0,0],ST=1.35,Ni={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},vc={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Yv="pdfjs_internal_editor_",Se={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Me={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},pie={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Rk={TRIANGLES:1,LATTICE:2},Gn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},T1={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},nn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},jf={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Z_={ERRORS:0,WARNINGS:1,INFOS:5},Jv={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},py={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},mie={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Q_=Z_.WARNINGS;function gie(t){Number.isInteger(t)&&(Q_=t)}function yie(){return Q_}function eE(t){Q_>=Z_.INFOS&&console.info(`Info: ${t}`)}function be(t){Q_>=Z_.WARNINGS&&console.warn(`Warning: ${t}`)}function ut(t){throw new Error(t)}function De(t,e){t||ut(e)}function vie(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function _z(t,e=null,n=null){if(!t)return null;if(n&&typeof t=="string"){if(n.addDefaultProtocol&&t.startsWith("www.")){const i=t.match(/\./g);(i==null?void 0:i.length)>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=Aie(t)}catch{}}const r=e?URL.parse(t,e):URL.parse(t);return vie(r)?r:null}function Ez(t,e,n=!1){const r=URL.parse(t);return r?(r.hash=e,r.href):n&&_z(t,"http://example.com")?t.split("#",1)[0]+`${e?`#${e}`:""}`:""}function we(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const Sf=function(){function e(n,r){this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e}();class XF extends Sf{constructor(e,n){super(e,"PasswordException"),this.code=n}}class AT extends Sf{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class Lk extends Sf{constructor(e){super(e,"InvalidPDFException")}}class qS extends Sf{constructor(e,n,r){super(e,"ResponseException"),this.status=n,this.missing=r}}class bie extends Sf{constructor(e){super(e,"FormatError")}}class Nu extends Sf{constructor(e){super(e,"AbortException")}}function Pz(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&ut("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const s=Math.min(i+n,e),a=t.subarray(i,s);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function bw(t){typeof t!="string"&&ut("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function wie(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function xie(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function Sie(){try{return new Function(""),!0}catch{return!1}}class or{static get isLittleEndian(){return we(this,"isLittleEndian",xie())}static get isEvalSupported(){return we(this,"isEvalSupported",Sie())}static get isOffscreenCanvasSupported(){return we(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return we(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return we(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return we(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:n}=navigator;return we(this,"platform",{isAndroid:n.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:n.includes("Firefox")})}static get isCSSRoundSupported(){var e,n;return we(this,"isCSSRoundSupported",(n=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:n.call(e,"width: round(1.5px, 1px)"))}}const _T=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var El,C1,jk;class ae{static makeHexColor(e,n,r){return`#${_T[e]}${_T[n]}${_T[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static multiplyByDOMMatrix(e,n){return[e[0]*n.a+e[2]*n.b,e[1]*n.a+e[3]*n.b,e[0]*n.c+e[2]*n.d,e[1]*n.c+e[3]*n.d,e[0]*n.e+e[2]*n.f+e[4],e[1]*n.e+e[3]*n.f+e[5]]}static applyTransform(e,n,r=0){const i=e[r],s=e[r+1];e[r]=i*n[0]+s*n[2]+n[4],e[r+1]=i*n[1]+s*n[3]+n[5]}static applyTransformToBezier(e,n,r=0){const i=n[0],s=n[1],a=n[2],o=n[3],l=n[4],c=n[5];for(let u=0;u<6;u+=2){const d=e[r+u],f=e[r+u+1];e[r+u]=d*i+f*a+l,e[r+u+1]=d*s+f*o+c}}static applyInverseTransform(e,n){const r=e[0],i=e[1],s=n[0]*n[3]-n[1]*n[2];e[0]=(r*n[3]-i*n[2]+n[2]*n[5]-n[4]*n[3])/s,e[1]=(-r*n[1]+i*n[0]+n[4]*n[1]-n[5]*n[0])/s}static axialAlignedBoundingBox(e,n,r){const i=n[0],s=n[1],a=n[2],o=n[3],l=n[4],c=n[5],u=e[0],d=e[1],f=e[2],p=e[3];let g=i*u+l,y=g,b=i*f+l,v=b,S=o*d+c,w=S,T=o*p+c,P=T;if(s!==0||a!==0){const O=s*u,C=s*f,k=a*d,N=a*p;g+=k,v+=k,b+=N,y+=N,S+=O,P+=O,T+=C,w+=C}r[0]=Math.min(r[0],g,b,y,v),r[1]=Math.min(r[1],S,T,w,P),r[2]=Math.max(r[2],g,b,y,v),r[3]=Math.max(r[3],S,T,w,P)}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e,n){const r=e[0],i=e[1],s=e[2],a=e[3],o=r**2+i**2,l=r*s+i*a,c=s**2+a**2,u=(o+c)/2,d=Math.sqrt(u**2-(o*c-l**2));n[0]=Math.sqrt(u+d||1),n[1]=Math.sqrt(u-d||1)}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return s>a?null:[r,s,i,a]}static pointBoundingBox(e,n,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],n),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],n)}static rectBoundingBox(e,n,r,i,s){s[0]=Math.min(s[0],e,r),s[1]=Math.min(s[1],n,i),s[2]=Math.max(s[2],e,r),s[3]=Math.max(s[3],n,i)}static bezierBoundingBox(e,n,r,i,s,a,o,l,c){c[0]=Math.min(c[0],e,o),c[1]=Math.min(c[1],n,l),c[2]=Math.max(c[2],e,o),c[3]=Math.max(c[3],n,l),D(this,El,jk).call(this,e,r,s,o,n,i,a,l,3*(-e+3*(r-s)+o),6*(e-2*r+s),3*(r-e),c),D(this,El,jk).call(this,e,r,s,o,n,i,a,l,3*(-n+3*(i-a)+l),6*(n-2*i+a),3*(i-n),c)}}El=new WeakSet,C1=function(e,n,r,i,s,a,o,l,c,u){if(c<=0||c>=1)return;const d=1-c,f=c*c,p=f*c,g=d*(d*(d*e+3*c*n)+3*f*r)+p*i,y=d*(d*(d*s+3*c*a)+3*f*o)+p*l;u[0]=Math.min(u[0],g),u[1]=Math.min(u[1],y),u[2]=Math.max(u[2],g),u[3]=Math.max(u[3],y)},jk=function(e,n,r,i,s,a,o,l,c,u,d,f){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&D(this,El,C1).call(this,e,n,r,i,s,a,o,l,-d/u,f);return}const p=u**2-4*d*c;if(p<0)return;const g=Math.sqrt(p),y=2*c;D(this,El,C1).call(this,e,n,r,i,s,a,o,l,(-u+g)/y,f),D(this,El,C1).call(this,e,n,r,i,s,a,o,l,(-u-g)/y,f)},I(ae,El);function Aie(t){return decodeURIComponent(escape(t))}let ET=null,YF=null;function _ie(t){return ET||(ET=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,YF=new Map([["","t"]])),t.replaceAll(ET,(e,n,r)=>n?n.normalize("NFKC"):YF.get(r))}function Tz(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),Pz(t)}const cp="pdfjs_internal_id_";function Eie(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[r,i,...s]=n;if(!t(r)&&!Number.isInteger(r)||!e(i))return!1;const a=s.length;let o=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function Rr(t,e,n){return Math.min(Math.max(t,e),n)}function Cz(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(Pz(t))}function Pie(t){return Uint8Array.fromBase64?Uint8Array.fromBase64(t):bw(atob(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(n=>{n(t(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,n)=>e+n,0)});class Zv{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(Zv.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&n.push({str:a}),!!s.children)for(const c of s.children)i(c)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class kz{static setupStorage(e,n,r,i,s){const a=i.getValue(n,{value:null});switch(r.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(n,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of r.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(n,{value:c})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:s}){const{attributes:a}=n,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,c]of Object.entries(a))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}o&&s.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,n,r)}static render(e){var d,f;const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:r});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);a.append(p),o&&Zv.shouldBuildText(i.name)&&c.push(p)}return{textDivs:c}}const u=[[i,-1,a]];for(;u.length>0;){const[p,g,y]=u.at(-1);if(g+1===p.children.length){u.pop();continue}const b=p.children[++u.at(-1)[1]];if(b===null)continue;const{name:v}=b;if(v==="#text"){const w=document.createTextNode(b.value);c.push(w),y.append(w);continue}const S=(d=b==null?void 0:b.attributes)!=null&&d.xmlns?document.createElementNS(b.attributes.xmlns,v):document.createElement(v);if(y.append(S),b.attributes&&this.setAttributes({html:S,element:b,storage:n,intent:s,linkService:r}),((f=b.children)==null?void 0:f.length)>0)u.push([b,-1,S]);else if(b.value){const w=document.createTextNode(b.value);o&&Zv.shouldBuildText(v)&&c.push(w),S.append(w)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const Ao="http://www.w3.org/2000/svg",gh=class gh{};q(gh,"CSS",96),q(gh,"PDF",72),q(gh,"PDF_TO_CSS_UNITS",gh.CSS/gh.PDF);let Ru=gh;async function ww(t,e="text"){if(My(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class xw{constructor({viewBox:e,userUnit:n,scale:r,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=n,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=a,r*=n;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let u,d,f,p;switch(i%=360,i<0&&(i+=360),i){case 180:u=-1,d=0,f=0,p=1;break;case 90:u=0,d=1,f=1,p=0;break;case 270:u=0,d=-1,f=-1,p=0;break;case 0:u=1,d=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(f=-f,p=-p);let g,y,b,v;u===0?(g=Math.abs(c-e[1])*r+s,y=Math.abs(l-e[0])*r+a,b=(e[3]-e[1])*r,v=(e[2]-e[0])*r):(g=Math.abs(l-e[0])*r+s,y=Math.abs(c-e[1])*r+a,b=(e[2]-e[0])*r,v=(e[3]-e[1])*r),this.transform=[u*r,d*r,f*r,p*r,g-u*r*l-f*r*c,y-d*r*l-p*r*c],this.width=b,this.height=v}get rawDims(){const e=this.viewBox;return we(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new xw({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,n){const r=[e,n];return ae.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const n=[e[0],e[1]];ae.applyTransform(n,this.transform);const r=[e[2],e[3]];return ae.applyTransform(r,this.transform),[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){const r=[e,n];return ae.applyInverseTransform(r,this.transform),r}}class YM extends Sf{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function tE(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function JM(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function Tie(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function Cie(t,e="document.pdf"){if(typeof t!="string")return e;if(tE(t))return be('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(t);if(!r)return e;const i=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},s=/\.pdf$/i,a=r.pathname.split("/").at(-1);if(s.test(a))return i(a);if(r.searchParams.size>0){const o=Array.from(r.searchParams.values()).reverse();for(const c of o)if(s.test(c))return i(c);const l=Array.from(r.searchParams.keys()).reverse();for(const c of l)if(s.test(c))return i(c)}if(r.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(l)return i(l[0])}return e}class JF{constructor(){q(this,"started",Object.create(null));q(this,"times",[])}time(e){e in this.started&&be(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||be(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(n)} ${s-i}ms
`);return e.join("")}}function My(t,e){const n=e?URL.parse(t,e):URL.parse(t);return(n==null?void 0:n.protocol)==="http:"||(n==null?void 0:n.protocol)==="https:"}function Os(t){t.preventDefault()}function Gt(t){t.preventDefault(),t.stopPropagation()}function kie(t){console.log("Deprecated API usage: "+t)}var w0;class XS{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;h(this,w0)||_(this,w0,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=h(this,w0).exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(n[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(n[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(n[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(n[6],10);l=l>=0&&l<=59?l:0;const c=n[7]||"Z";let u=parseInt(n[8],10);u=u>=0&&u<=23?u:0;let d=parseInt(n[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(a+=u,o+=d):c==="+"&&(a-=u,o-=d),new Date(Date.UTC(r,i,s,a,o,l))}}w0=new WeakMap,I(XS,w0);function Iie(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new xw({viewBox:s,userUnit:1,scale:e,rotation:n})}function Sw(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(be(`Not a valid color format: "${t}"`),[0,0,0])}function Oie(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,Sw(r))}e.remove()}function Mt(t){const{a:e,b:n,c:r,d:i,e:s,f:a}=t.getTransform();return[e,n,r,i,s,a]}function _a(t){const{a:e,b:n,c:r,d:i,e:s,f:a}=t.getTransform().invertSelf();return[e,n,r,i,s,a]}function sf(t,e,n=!1,r=!0){if(e instanceof xw){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=t,o=or.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${s}px`,u=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,d=o?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!n||e.rotation%180===0?(a.width=u,a.height=d):(a.width=d,a.height=u)}r&&t.setAttribute("data-main-rotation",e.rotation)}class fo{constructor(){const{pixelRatio:e}=fo;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,n,r,i,s=-1){let a=1/0,o=1/0,l=1/0;r=fo.capPixels(r,s),r>0&&(a=Math.sqrt(r/(e*n))),i!==-1&&(o=i/e,l=i/n);const c=Math.min(a,o,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,n){if(n>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+n/100));return e>0?Math.min(e,r):r}return e}}const Fk=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Mie{static get isDarkMode(){var e;return we(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class Die{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:n}=e;n.width=n.height="0",n.display="none",n.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),we(this,"commentForegroundColor",Sw(r))}}function Nie(t,e,n,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return t=Math.round(t*r+i),e=Math.round(e*r+i),n=Math.round(n*r+i),[t,e,n]}function ZF(t,e){const n=t[0]/255,r=t[1]/255,i=t[2]/255,s=Math.max(n,r,i),a=Math.min(n,r,i),o=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const l=s-a;switch(e[1]=o<.5?l/(s+a):l/(2-s-a),s){case n:e[0]=((r-i)/l+(r<i?6:0))*60;break;case r:e[0]=((i-n)/l+2)*60;break;case i:e[0]=((n-r)/l+4)*60;break}}e[2]=o}function Bk(t,e){const n=t[0],r=t[1],i=t[2],s=(1-Math.abs(2*i-1))*r,a=s*(1-Math.abs(n/60%2-1)),o=i-s/2;switch(Math.floor(n/60)){case 0:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 1:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 2:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 3:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 4:e[0]=a+o,e[1]=o,e[2]=s+o;break;case 5:case 6:e[0]=s+o,e[1]=o,e[2]=a+o;break}}function QF(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function e3(t,e,n){Bk(t,n),n.map(QF);const r=.2126*n[0]+.7152*n[1]+.0722*n[2];Bk(e,n),n.map(QF);const i=.2126*n[0]+.7152*n[1]+.0722*n[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const t3=new Map;function Rie(t,e){const n=t[0]+t[1]*256+t[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=t3.get(n);if(r)return r;const i=new Float32Array(9),s=i.subarray(0,3),a=i.subarray(3,6);ZF(t,a);const o=i.subarray(6,9);ZF(e,o);const l=o[2]<.5,c=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),e3(a,o,s)<c){let u,d;l?(u=a[2],d=1):(u=0,d=a[2]);const f=.005;for(;d-u>f;){const p=a[2]=(u+d)/2;l===e3(a,o,s)<c?u=p:d=p}a[2]=l?d:u}return Bk(a,s),r=ae.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),t3.set(n,r),r}function Iz({html:t,dir:e,className:n},r){const i=document.createDocumentFragment();if(typeof t=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=t.split(/(?:\r\n?|\n)/);for(let o=0,l=a.length;o<l;++o){const c=a[o];s.append(document.createTextNode(c)),o<l-1&&s.append(document.createElement("br"))}i.append(s)}else kz.render({xfaHtml:t,div:i,intent:"richText"});i.firstElementChild.classList.add("richText",n),r.append(i)}function Oz(t){const e=new Path2D;if(!t)return e;for(let n=0,r=t.length;n<r;)switch(t[n++]){case py.moveTo:e.moveTo(t[n++],t[n++]);break;case py.lineTo:e.lineTo(t[n++],t[n++]);break;case py.curveTo:e.bezierCurveTo(t[n++],t[n++],t[n++],t[n++],t[n++],t[n++]);break;case py.quadraticCurveTo:e.quadraticCurveTo(t[n++],t[n++],t[n++],t[n++]);break;case py.closePath:e.closePath();break;default:be(`Unrecognized drawing path operator: ${t[n-1]}`);break}return e}var _c,Ec,os,ls,x0,Pc,Mp,Dp,S0,d_,Mz,rr,Dz,Nz,Ff,Dy;const To=class To{constructor(e){I(this,rr);I(this,_c,null);I(this,Ec,null);I(this,os);I(this,ls,null);I(this,x0,null);I(this,Pc,null);I(this,Mp,null);I(this,Dp,null);_(this,os,e),h(To,S0)||_(To,S0,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=_(this,_c,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=h(this,os)._uiManager._signal;n instanceof AbortSignal&&!n.aborted&&(e.addEventListener("contextmenu",Os,{signal:n}),e.addEventListener("pointerdown",D(To,d_,Mz),{signal:n}));const r=_(this,ls,document.createElement("div"));r.className="buttons",e.append(r);const i=h(this,os).toolbarPosition;if(i){const{style:s}=e,a=h(this,os)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return h(this,_c)}hide(){var e;h(this,_c).classList.add("hidden"),(e=h(this,Ec))==null||e.hideDropdown()}show(){var e,n;h(this,_c).classList.remove("hidden"),(e=h(this,x0))==null||e.shown(),(n=h(this,Pc))==null||n.shown()}addDeleteButton(){const{editorType:e,_uiManager:n}=h(this,os),r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",h(To,S0)[e]),D(this,rr,Ff).call(this,r)&&r.addEventListener("click",i=>{n.delete()},{signal:n._signal}),h(this,ls).append(r)}async addAltText(e){const n=await e.render();D(this,rr,Ff).call(this,n),h(this,ls).append(n,h(this,rr,Dy)),_(this,x0,e)}addComment(e,n=null){if(h(this,Pc))return;const r=e.renderForToolbar();if(!r)return;D(this,rr,Ff).call(this,r);const i=_(this,Mp,h(this,rr,Dy));n?(h(this,ls).insertBefore(r,n),h(this,ls).insertBefore(i,n)):h(this,ls).append(r,i),_(this,Pc,e),e.toolbar=this}addColorPicker(e){if(h(this,Ec))return;_(this,Ec,e);const n=e.renderButton();D(this,rr,Ff).call(this,n),h(this,ls).append(n,h(this,rr,Dy))}async addEditSignatureButton(e){const n=_(this,Dp,await e.renderEditButton(h(this,os)));D(this,rr,Ff).call(this,n),h(this,ls).append(n,h(this,rr,Dy))}removeButton(e){var n,r;switch(e){case"comment":(n=h(this,Pc))==null||n.removeToolbarCommentButton(),_(this,Pc,null),(r=h(this,Mp))==null||r.remove(),_(this,Mp,null);break}}async addButton(e,n){switch(e){case"colorPicker":n&&this.addColorPicker(n);break;case"altText":n&&await this.addAltText(n);break;case"editSignature":n&&await this.addEditSignatureButton(n);break;case"delete":this.addDeleteButton();break;case"comment":n&&this.addComment(n);break}}async addButtonBefore(e,n,r){if(!n&&e==="comment")return;const i=h(this,ls).querySelector(r);i&&e==="comment"&&this.addComment(n,i)}updateEditSignatureButton(e){h(this,Dp)&&(h(this,Dp).title=e)}remove(){var e;h(this,_c).remove(),(e=h(this,Ec))==null||e.destroy(),_(this,Ec,null)}};_c=new WeakMap,Ec=new WeakMap,os=new WeakMap,ls=new WeakMap,x0=new WeakMap,Pc=new WeakMap,Mp=new WeakMap,Dp=new WeakMap,S0=new WeakMap,d_=new WeakSet,Mz=function(e){e.stopPropagation()},rr=new WeakSet,Dz=function(e){h(this,os)._focusEventsAllowed=!1,Gt(e)},Nz=function(e){h(this,os)._focusEventsAllowed=!0,Gt(e)},Ff=function(e){const n=h(this,os)._uiManager._signal;return!(n instanceof AbortSignal)||n.aborted?!1:(e.addEventListener("focusin",D(this,rr,Dz).bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",D(this,rr,Nz).bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",Os,{signal:n}),!0)},Dy=function(){const e=document.createElement("div");return e.className="divider",e},I(To,d_),I(To,S0,null);let $k=To;var A0,Ch,Oo,Vl,Rz,Lz,Uk;class Lie{constructor(e){I(this,Vl);I(this,A0,null);I(this,Ch,null);I(this,Oo);_(this,Oo,e)}show(e,n,r){const[i,s]=D(this,Vl,Lz).call(this,n,r),{style:a}=h(this,Ch)||_(this,Ch,D(this,Vl,Rz).call(this));e.append(h(this,Ch)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){h(this,Ch).remove()}}A0=new WeakMap,Ch=new WeakMap,Oo=new WeakMap,Vl=new WeakSet,Rz=function(){const e=_(this,Ch,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const n=h(this,Oo)._signal;n instanceof AbortSignal&&!n.aborted&&e.addEventListener("contextmenu",Os,{signal:n});const r=_(this,A0,document.createElement("div"));return r.className="buttons",e.append(r),h(this,Oo).hasCommentManager()&&D(this,Vl,Uk).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{h(this,Oo).commentSelection("floating_button")}),D(this,Vl,Uk).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{h(this,Oo).highlightSelection("floating_button")}),e},Lz=function(e,n){let r=0,i=0;for(const s of e){const a=s.y+s.height;if(a<r)continue;const o=s.x+(n?s.width:0);if(a>r){i=o,r=a;continue}n?o>i&&(i=o):o<i&&(i=o)}return[n?1-i:i,r]},Uk=function(e,n,r,i){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",n);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",r);const o=h(this,Oo)._signal;o instanceof AbortSignal&&!o.aborted&&(s.addEventListener("contextmenu",Os,{signal:o}),s.addEventListener("click",i,{signal:o})),h(this,A0).append(s)};function jz(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}var kh,Ih,Np,Oh;const Je=class Je{static initializeAndAddPointerId(e){(h(Je,Ih)||_(Je,Ih,new Set)).add(e)}static setPointer(e,n){h(Je,kh)||_(Je,kh,n),h(Je,Oh)??_(Je,Oh,e)}static setTimeStamp(e){_(Je,Np,e)}static isSamePointerId(e){return h(Je,kh)===e}static isSamePointerIdOrRemove(e){var n;return h(Je,kh)===e?!0:((n=h(Je,Ih))==null||n.delete(e),!1)}static isSamePointerType(e){return h(Je,Oh)===e}static isInitializedAndDifferentPointerType(e){return h(Je,Oh)!==null&&!Je.isSamePointerType(e)}static isSameTimeStamp(e){return h(Je,Np)===e}static isUsingMultiplePointers(){var e;return((e=h(Je,Ih))==null?void 0:e.size)>=1}static clearPointerType(){_(Je,Oh,null)}static clearPointerIds(){_(Je,kh,NaN),_(Je,Ih,null)}static clearTimeStamp(){_(Je,Np,NaN)}};kh=new WeakMap,Ih=new WeakMap,Np=new WeakMap,Oh=new WeakMap,I(Je,kh,NaN),I(Je,Ih,null),I(Je,Np,NaN),I(Je,Oh,null);let pr=Je;var f_;class jie{constructor(){I(this,f_,0)}get id(){return`${Yv}${fn(this,f_)._++}`}}f_=new WeakMap;var Rp,_0,mr,Lp,k1;const wR=class wR{constructor(){I(this,Lp);I(this,Rp,Tz());I(this,_0,0);I(this,mr,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return we(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:n,name:r,size:i,type:s}=e;return D(this,Lp,k1).call(this,`${n}_${r}_${i}_${s}`,e)}async getFromUrl(e){return D(this,Lp,k1).call(this,e,e)}async getFromBlob(e,n){const r=await n;return D(this,Lp,k1).call(this,e,r)}async getFromId(e){h(this,mr)||_(this,mr,new Map);const n=h(this,mr).get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:r}=n;return delete n.blobPromise,this.getFromBlob(n.id,r)}return this.getFromUrl(n.url)}getFromCanvas(e,n){h(this,mr)||_(this,mr,new Map);let r=h(this,mr).get(e);if(r!=null&&r.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(n.width,n.height);return i.getContext("2d").drawImage(n,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${h(this,Rp)}_${fn(this,_0)._++}`,refCounter:1,isSvg:!1},h(this,mr).set(e,r),h(this,mr).set(r.id,r),r}getSvgUrl(e){const n=h(this,mr).get(e);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(e){var i;h(this,mr)||_(this,mr,new Map);const n=h(this,mr).get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:r}=n;if(!n.url&&!n.file){const s=new OffscreenCanvas(r.width,r.height);s.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=s.convertToBlob()}(i=r.close)==null||i.call(r),n.bitmap=null}isValidId(e){return e.startsWith(`image_${h(this,Rp)}_`)}};Rp=new WeakMap,_0=new WeakMap,mr=new WeakMap,Lp=new WeakSet,k1=async function(e,n){h(this,mr)||_(this,mr,new Map);let r=h(this,mr).get(e);if(r===null)return null;if(r!=null&&r.bitmap)return r.refCounter+=1,r;try{r||(r={bitmap:null,id:`image_${h(this,Rp)}_${fn(this,_0)._++}`,refCounter:0,isSvg:!1});let i;if(typeof n=="string"?(r.url=n,i=await ww(n,"blob")):n instanceof File?i=r.file=n:n instanceof Blob&&(i=n),i.type==="image/svg+xml"){const s=wR._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((c,u)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,c()},a.onload=async()=>{const d=r.svgUrl=a.result;o.src=await s?`${d}#svgView(preserveAspectRatio(none))`:d},o.onerror=a.onerror=u});a.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){be(i),r=null}return h(this,mr).set(e,r),r&&h(this,mr).set(r.id,r),r};let Vk=wR;var Yt,Tc,E0,Ot;class Fie{constructor(e=128){I(this,Yt,[]);I(this,Tc,!1);I(this,E0);I(this,Ot,-1);_(this,E0,e)}add({cmd:e,undo:n,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),h(this,Tc))return;const l={cmd:e,undo:n,post:r,type:s};if(h(this,Ot)===-1){h(this,Yt).length>0&&(h(this,Yt).length=0),_(this,Ot,0),h(this,Yt).push(l);return}if(a&&h(this,Yt)[h(this,Ot)].type===s){o&&(l.undo=h(this,Yt)[h(this,Ot)].undo),h(this,Yt)[h(this,Ot)]=l;return}const c=h(this,Ot)+1;c===h(this,E0)?h(this,Yt).splice(0,1):(_(this,Ot,c),c<h(this,Yt).length&&h(this,Yt).splice(c)),h(this,Yt).push(l)}undo(){if(h(this,Ot)===-1)return;_(this,Tc,!0);const{undo:e,post:n}=h(this,Yt)[h(this,Ot)];e(),n==null||n(),_(this,Tc,!1),_(this,Ot,h(this,Ot)-1)}redo(){if(h(this,Ot)<h(this,Yt).length-1){_(this,Ot,h(this,Ot)+1),_(this,Tc,!0);const{cmd:e,post:n}=h(this,Yt)[h(this,Ot)];e(),n==null||n(),_(this,Tc,!1)}}hasSomethingToUndo(){return h(this,Ot)!==-1}hasSomethingToRedo(){return h(this,Ot)<h(this,Yt).length-1}cleanType(e){if(h(this,Ot)!==-1){for(let n=h(this,Ot);n>=0;n--)if(h(this,Yt)[n].type!==e){h(this,Yt).splice(n+1,h(this,Ot)-n),_(this,Ot,n);return}h(this,Yt).length=0,_(this,Ot,-1)}}destroy(){_(this,Yt,null)}}Yt=new WeakMap,Tc=new WeakMap,E0=new WeakMap,Ot=new WeakMap;var p_,Fz;class Aw{constructor(e){I(this,p_);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=or.platform;for(const[r,i,s={}]of e)for(const a of r){const o=a.startsWith("mac+");n&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!n&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(D(this,p_,Fz).call(this,n));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=r;o&&!o(e,n)||(i.bind(e,...a,n)(),s||Gt(n))}}p_=new WeakSet,Fz=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const m_=class m_{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Oie(e),we(this,"_colors",e)}convert(e){const n=Sw(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((s,a)=>s===n[a]))return m_._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?ae.makeHexColor(...n):e}};q(m_,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let zk=m_;var jp,gi,Fp,Bt,gn,Bp,cs,$p,us,gr,Cc,kc,Up,Ic,Ia,hs,Mh,P0,T0,Vp,C0,Oa,Oc,zp,Mc,Ma,g_,Dc,Hp,k0,Nc,Dh,Wp,Rc,I0,rn,We,Mo,Lc,jc,O0,Gp,M0,Fc,Da,Do,D0,N0,ds,te,I1,Hk,Bz,$z,Ny,Uz,Vz,zz,Wk,Hz,Wz,Gz,Kz,kr,_o,qz,Xz,Gk,Yz,Ry,Kk;const pp=class pp{constructor(e,n,r,i,s,a,o,l,c,u,d,f,p,g,y,b){I(this,te);I(this,jp,new AbortController);I(this,gi,null);I(this,Fp,null);I(this,Bt,new Map);I(this,gn,new Map);I(this,Bp,null);I(this,cs,null);I(this,$p,null);I(this,us,new Fie);I(this,gr,null);I(this,Cc,null);I(this,kc,null);I(this,Up,0);I(this,Ic,new Set);I(this,Ia,null);I(this,hs,null);I(this,Mh,new Set);q(this,"_editorUndoBar",null);I(this,P0,!1);I(this,T0,!1);I(this,Vp,!1);I(this,C0,null);I(this,Oa,null);I(this,Oc,null);I(this,zp,null);I(this,Mc,!1);I(this,Ma,null);I(this,g_,new jie);I(this,Dc,!1);I(this,Hp,!1);I(this,k0,!1);I(this,Nc,null);I(this,Dh,null);I(this,Wp,null);I(this,Rc,null);I(this,I0,null);I(this,rn,Se.NONE);I(this,We,new Set);I(this,Mo,null);I(this,Lc,null);I(this,jc,null);I(this,O0,null);I(this,Gp,null);I(this,M0,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});I(this,Fc,[0,0]);I(this,Da,null);I(this,Do,null);I(this,D0,null);I(this,N0,null);I(this,ds,null);const v=this._signal=h(this,jp).signal;_(this,Do,e),_(this,D0,n),_(this,N0,r),_(this,Bp,i),_(this,gr,s),_(this,Lc,a),_(this,Gp,l),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:v}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:v}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:v}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:v}),o._on("setpreference",this.onSetPreference.bind(this),{signal:v}),o._on("switchannotationeditorparams",S=>this.updateParams(S.type,S.value),{signal:v}),window.addEventListener("pointerdown",()=>{_(this,Hp,!0)},{capture:!0,signal:v}),window.addEventListener("pointerup",()=>{_(this,Hp,!1)},{capture:!0,signal:v}),D(this,te,Uz).call(this),D(this,te,Kz).call(this),D(this,te,Wk).call(this),_(this,cs,l.annotationStorage),_(this,C0,l.filterFactory),_(this,jc,c),_(this,zp,u||null),_(this,P0,d),_(this,T0,f),_(this,Vp,p),_(this,I0,g||null),this.viewParameters={realScale:Ru.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=y||null,this._supportsPinchToZoom=b!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=pp.prototype,n=a=>h(a,Do).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return we(this,"_keyboardManager",new Aw([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&h(a,Do).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&h(a,Do).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:n}]]))}destroy(){var e,n,r,i,s,a,o,l,c;(e=h(this,ds))==null||e.resolve(),_(this,ds,null),(n=h(this,jp))==null||n.abort(),_(this,jp,null),this._signal=null;for(const u of h(this,gn).values())u.destroy();h(this,gn).clear(),h(this,Bt).clear(),h(this,Mh).clear(),(r=h(this,Rc))==null||r.clear(),_(this,gi,null),h(this,We).clear(),h(this,us).destroy(),(i=h(this,Bp))==null||i.destroy(),(s=h(this,gr))==null||s.destroy(),(a=h(this,Lc))==null||a.destroy(),(o=h(this,Ma))==null||o.hide(),_(this,Ma,null),(l=h(this,Wp))==null||l.destroy(),_(this,Wp,null),_(this,Fp,null),h(this,Oa)&&(clearTimeout(h(this,Oa)),_(this,Oa,null)),h(this,Da)&&(clearTimeout(h(this,Da)),_(this,Da,null)),(c=this._editorUndoBar)==null||c.destroy(),_(this,Gp,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return h(this,I0)}get useNewAltTextFlow(){return h(this,T0)}get useNewAltTextWhenAddingImage(){return h(this,Vp)}get hcmFilter(){return we(this,"hcmFilter",h(this,jc)?h(this,C0).addHCMFilter(h(this,jc).foreground,h(this,jc).background):"none")}get direction(){return we(this,"direction",getComputedStyle(h(this,Do)).direction)}get _highlightColors(){return we(this,"_highlightColors",h(this,zp)?new Map(h(this,zp).split(",").map(e=>(e=e.split("=").map(n=>n.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return we(this,"highlightColors",null);const n=new Map,r=!!h(this,jc);for(const[i,s]of e){const a=i.endsWith("_HCM");if(r&&a){n.set(i.replace("_HCM",""),s);continue}!r&&!a&&n.set(i,s)}return we(this,"highlightColors",n)}get highlightColorNames(){return we(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const n=this.highlightColorNames.get(e);return this._highlightColors.get(n)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),_(this,kc,e)}setMainHighlightColorPicker(e){_(this,Wp,e)}editAltText(e,n=!1){var r;(r=h(this,Bp))==null||r.editAltText(this,e,n)}hasCommentManager(){return!!h(this,gr)}editComment(e,n,r,i){var s;(s=h(this,gr))==null||s.showDialog(this,e,n,r,i)}selectComment(e,n){const r=h(this,gn).get(e),i=r==null?void 0:r.getEditorByUID(n);i==null||i.toggleComment(!0,!0)}updateComment(e){var n;(n=h(this,gr))==null||n.updateComment(e.getData())}updatePopupColor(e){var n;(n=h(this,gr))==null||n.updatePopupColor(e)}removeComment(e){var n;(n=h(this,gr))==null||n.removeComments([e.uid])}toggleComment(e,n,r=void 0){var i;(i=h(this,gr))==null||i.toggleCommentPopup(e,n,r)}makeCommentColor(e,n){var r;return e&&((r=h(this,gr))==null?void 0:r.makeCommentColor(e,n))||null}getCommentDialogElement(){var e;return((e=h(this,gr))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(h(this,gn).has(e-1))return;const{resolve:n,promise:r}=Promise.withResolvers(),i=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",i),n())};this._eventBus.on("editorsrendered",i),await r}getSignature(e){var n;(n=h(this,Lc))==null||n.getSignature({uiManager:this,editor:e})}get signatureManager(){return h(this,Lc)}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){switch(e){case"enableNewAltTextWhenAddingImage":_(this,Vp,n);break}}onPageChanging({pageNumber:e}){_(this,Up,e-1)}focusMainContainer(){h(this,Do).focus()}findParent(e,n){for(const r of h(this,gn).values()){const{x:i,y:s,width:a,height:o}=r.div.getBoundingClientRect();if(e>=i&&e<=i+a&&n>=s&&n<=s+o)return r}return null}disableUserSelect(e=!1){h(this,D0).classList.toggle("noUserSelect",e)}addShouldRescale(e){h(this,Mh).add(e)}removeShouldRescale(e){h(this,Mh).delete(e)}onScaleChanging({scale:e}){var n;this.commitOrRemove(),this.viewParameters.realScale=e*Ru.PDF_TO_CSS_UNITS;for(const r of h(this,Mh))r.onScaleChanging();(n=h(this,kc))==null||n.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",n=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o}=r,l=r.toString(),u=D(this,te,I1).call(this,r).closest(".textLayer"),d=this.getSelectionBoxes(u);if(!d)return;r.empty();const f=D(this,te,Hk).call(this,u),p=h(this,rn)===Se.NONE,g=()=>{const y=f==null?void 0:f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o,text:l});p&&this.showAllEditors("highlight",!0,!0),n&&(y==null||y.editComment())};if(p){this.switchToMode(Se.HIGHLIGHT,g);return}g()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!h(this,cs))return null;const n=`${Yv}${e}`,r=h(this,cs).getRawValue(n);return r&&h(this,cs).remove(n),r}addToAnnotationStorage(e){!e.isEmpty()&&h(this,cs)&&!h(this,cs).has(e.id)&&h(this,cs).setValue(e.id,e)}a11yAlert(e,n=null){const r=h(this,N0);r&&(r.setAttribute("data-l10n-id",e),n?r.setAttribute("data-l10n-args",JSON.stringify(n)):r.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,h(this,Mc)&&(_(this,Mc,!1),D(this,te,Ny).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of h(this,We))if(n.div.contains(e)){_(this,Dh,[n,e]),n._focusEventsAllowed=!1;break}}focus(){if(!h(this,Dh))return;const[e,n]=h(this,Dh);_(this,Dh,null),n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){D(this,te,Wk).call(this),this.setEditingState(!0)}removeEditListeners(){D(this,te,Hz).call(this),this.setEditingState(!1)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of h(this,hs))if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of h(this,hs))if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){var r;if(e.preventDefault(),(r=h(this,gi))==null||r.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of h(this,We)){const s=i.serialize(!0);s&&n.push(s)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const s of n.items)for(const a of h(this,hs))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){be(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const c=await i.deserialize(l);if(!c)return;s.push(c)}const a=()=>{for(const l of s)D(this,te,Gk).call(this,l);D(this,te,Kk).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){be(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),h(this,rn)!==Se.NONE&&!this.isEditorHandlingKeyboard&&pp._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,h(this,Mc)&&(_(this,Mc,!1),D(this,te,Ny).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(D(this,te,Vz).call(this),D(this,te,Wz).call(this),D(this,te,kr).call(this,{isEditing:h(this,rn)!==Se.NONE,isEmpty:D(this,te,Ry).call(this),hasSomethingToUndo:h(this,us).hasSomethingToUndo(),hasSomethingToRedo:h(this,us).hasSomethingToRedo(),hasSelectedEditor:!1})):(D(this,te,zz).call(this),D(this,te,Gz).call(this),D(this,te,kr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!h(this,hs)){_(this,hs,e);for(const n of h(this,hs))D(this,te,_o).call(this,n.defaultPropertiesToUpdate)}}getId(){return h(this,g_).id}get currentLayer(){return h(this,gn).get(h(this,Up))}getLayer(e){return h(this,gn).get(e)}get currentPageIndex(){return h(this,Up)}addLayer(e){h(this,gn).set(e.pageIndex,e),h(this,Dc)?e.enable():e.disable()}removeLayer(e){h(this,gn).delete(e.pageIndex)}async updateMode(e,n=null,r=!1,i=!1,s=!1){var a,o,l,c,u,d;if(h(this,rn)!==e&&!(h(this,ds)&&(await h(this,ds).promise,!h(this,ds)))){if(_(this,ds,Promise.withResolvers()),(a=h(this,kc))==null||a.commitOrRemove(),h(this,rn)===Se.POPUP&&((o=h(this,gr))==null||o.hideSidebar()),(l=h(this,gr))==null||l.destroyPopup(),_(this,rn,e),e===Se.NONE){this.setEditingState(!1),D(this,te,Xz).call(this);for(const f of h(this,Bt).values())f.hideStandaloneCommentButton();(c=this._editorUndoBar)==null||c.hide(),this.toggleComment(null),h(this,ds).resolve();return}for(const f of h(this,Bt).values())f.addStandaloneCommentButton();e===Se.SIGNATURE&&await((u=h(this,Lc))==null?void 0:u.loadSignatures()),this.setEditingState(!0),await D(this,te,qz).call(this),this.unselectAll();for(const f of h(this,gn).values())f.updateMode(e);if(e===Se.POPUP){h(this,Fp)||_(this,Fp,await h(this,Gp).getAnnotationsByType(new Set(h(this,hs).map(g=>g._editorType))));const f=new Set,p=[];for(const g of h(this,Bt).values()){const{annotationElementId:y,hasComment:b,deleted:v}=g;y&&f.add(y),b&&!v&&p.push(g.getData())}for(const g of h(this,Fp)){const{id:y,popupRef:b,contentsObj:v}=g;b&&(v!=null&&v.str)&&!f.has(y)&&!h(this,Ic).has(y)&&p.push(g)}(d=h(this,gr))==null||d.showSidebar(p)}if(!n){r&&this.addNewEditorFromKeyboard(),h(this,ds).resolve();return}for(const f of h(this,Bt).values())f.uid===n?(this.setSelected(f),s?f.editComment():i?f.enterInEditMode():f.focus()):f.unselect();h(this,ds).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==h(this,rn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,n){if(h(this,hs)){switch(e){case Me.CREATE:this.currentLayer.addNewEditor(n);return;case Me.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(h(this,O0)||_(this,O0,new Map)).set(e,n),this.showAllEditors("highlight",n);break}if(this.hasSelection)for(const r of h(this,We))r.updateParams(e,n);else for(const r of h(this,hs))r.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){var s;for(const a of h(this,Bt).values())a.editorType===e&&a.show(n);(((s=h(this,O0))==null?void 0:s.get(Me.HIGHLIGHT_SHOW_ALL))??!0)!==n&&D(this,te,_o).call(this,[[Me.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(h(this,k0)!==e){_(this,k0,e);for(const n of h(this,gn).values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}*getEditors(e){for(const n of h(this,Bt).values())n.pageIndex===e&&(yield n)}getEditor(e){return h(this,Bt).get(e)}addEditor(e){h(this,Bt).set(e.id,e)}removeEditor(e){var n,r;e.div.contains(document.activeElement)&&(h(this,Oa)&&clearTimeout(h(this,Oa)),_(this,Oa,setTimeout(()=>{this.focusMainContainer(),_(this,Oa,null)},0))),h(this,Bt).delete(e.id),e.annotationElementId&&((n=h(this,Rc))==null||n.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!h(this,Ic).has(e.annotationElementId))&&((r=h(this,cs))==null||r.remove(e.id))}addDeletedAnnotationElement(e){h(this,Ic).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return h(this,Ic).has(e)}removeDeletedAnnotationElement(e){h(this,Ic).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){h(this,gi)!==e&&(_(this,gi,e),e&&D(this,te,_o).call(this,e.propertiesToUpdate))}updateUI(e){h(this,te,Yz)===e&&D(this,te,_o).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){D(this,te,_o).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(h(this,We).has(e)){h(this,We).delete(e),e.unselect(),D(this,te,kr).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,We).add(e),e.select(),D(this,te,_o).call(this,e.propertiesToUpdate),D(this,te,kr).call(this,{hasSelectedEditor:!0})}setSelected(e){var n;this.updateToolbar({mode:e.mode,editId:e.uid}),(n=h(this,kc))==null||n.commitOrRemove();for(const r of h(this,We))r!==e&&r.unselect();h(this,We).clear(),h(this,We).add(e),e.select(),D(this,te,_o).call(this,e.propertiesToUpdate),D(this,te,kr).call(this,{hasSelectedEditor:!0})}isSelected(e){return h(this,We).has(e)}get firstSelectedEditor(){return h(this,We).values().next().value}unselect(e){e.unselect(),h(this,We).delete(e),D(this,te,kr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,We).size!==0}get isEnterHandled(){return h(this,We).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;h(this,us).undo(),D(this,te,kr).call(this,{hasSomethingToUndo:h(this,us).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:D(this,te,Ry).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){h(this,us).redo(),D(this,te,kr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,us).hasSomethingToRedo(),isEmpty:D(this,te,Ry).call(this)})}addCommands(e){h(this,us).add(e),D(this,te,kr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:D(this,te,Ry).call(this)})}cleanUndoStack(e){h(this,us).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...h(this,We)],r=()=>{var a;(a=this._editorUndoBar)==null||a.show(i,n.length===1?n[0].editorType:n.length);for(const o of n)o.remove()},i=()=>{for(const a of n)D(this,te,Gk).call(this,a)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=h(this,gi))==null||e.commitOrRemove()}hasSomethingToControl(){return h(this,gi)||this.hasSelection}selectAll(){for(const e of h(this,We))e.commit();D(this,te,Kk).call(this,h(this,Bt).values())}unselectAll(){var e;if(!(h(this,gi)&&(h(this,gi).commitOrRemove(),h(this,rn)!==Se.NONE))&&!((e=h(this,kc))!=null&&e.commitOrRemove())&&this.hasSelection){for(const n of h(this,We))n.unselect();h(this,We).clear(),D(this,te,kr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;h(this,Fc)[0]+=e,h(this,Fc)[1]+=n;const[i,s]=h(this,Fc),a=[...h(this,We)],o=1e3;h(this,Da)&&clearTimeout(h(this,Da)),_(this,Da,setTimeout(()=>{_(this,Da,null),h(this,Fc)[0]=h(this,Fc)[1]=0,this.addCommands({cmd:()=>{for(const l of a)h(this,Bt).has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of a)h(this,Bt).has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},o));for(const l of a)l.translateInPage(e,n),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),_(this,Ia,new Map);for(const e of h(this,We))h(this,Ia).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,Ia))return!1;this.disableUserSelect(!1);const e=h(this,Ia);_(this,Ia,null);let n=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,n||(n=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!n)return!1;const r=(i,s,a,o)=>{if(h(this,Bt).has(i.id)){const l=h(this,gn).get(o);l?i._setParentAndPosition(l,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)r(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)r(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(h(this,Ia))for(const r of h(this,Ia).keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||h(this,We).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return h(this,gi)===e}getActive(){return h(this,gi)}getMode(){return h(this,rn)}isEditingMode(){return h(this,rn)!==Se.NONE}get imageManager(){return we(this,"imageManager",new Vk)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let c=0,u=n.rangeCount;c<u;c++)if(!e.contains(n.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(c,u,d,f)=>({x:(u-i)/a,y:1-(c+d-r)/s,width:f/a,height:d/s});break;case"180":o=(c,u,d,f)=>({x:1-(c+d-r)/s,y:1-(u+f-i)/a,width:d/s,height:f/a});break;case"270":o=(c,u,d,f)=>({x:1-(u+f-i)/a,y:(c-r)/s,width:f/a,height:d/s});break;default:o=(c,u,d,f)=>({x:(c-r)/s,y:(u-i)/a,width:d/s,height:f/a});break}const l=[];for(let c=0,u=n.rangeCount;c<u;c++){const d=n.getRangeAt(c);if(!d.collapsed)for(const{x:f,y:p,width:g,height:y}of d.getClientRects())g===0||y===0||l.push(o(f,p,g,y))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:n}){(h(this,$p)||_(this,$p,new Map)).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){var n;(n=h(this,$p))==null||n.delete(e)}renderAnnotationElement(e){var i;const n=(i=h(this,$p))==null?void 0:i.get(e.data.id);if(!n)return;const r=h(this,cs).getRawValue(n);r&&(h(this,rn)===Se.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,n,r){var s;const i=(s=h(this,Rc))==null?void 0:s.get(e);i&&(i.setCanvas(n,r),h(this,Rc).delete(e))}addMissingCanvas(e,n){(h(this,Rc)||_(this,Rc,new Map)).set(e,n)}};jp=new WeakMap,gi=new WeakMap,Fp=new WeakMap,Bt=new WeakMap,gn=new WeakMap,Bp=new WeakMap,cs=new WeakMap,$p=new WeakMap,us=new WeakMap,gr=new WeakMap,Cc=new WeakMap,kc=new WeakMap,Up=new WeakMap,Ic=new WeakMap,Ia=new WeakMap,hs=new WeakMap,Mh=new WeakMap,P0=new WeakMap,T0=new WeakMap,Vp=new WeakMap,C0=new WeakMap,Oa=new WeakMap,Oc=new WeakMap,zp=new WeakMap,Mc=new WeakMap,Ma=new WeakMap,g_=new WeakMap,Dc=new WeakMap,Hp=new WeakMap,k0=new WeakMap,Nc=new WeakMap,Dh=new WeakMap,Wp=new WeakMap,Rc=new WeakMap,I0=new WeakMap,rn=new WeakMap,We=new WeakMap,Mo=new WeakMap,Lc=new WeakMap,jc=new WeakMap,O0=new WeakMap,Gp=new WeakMap,M0=new WeakMap,Fc=new WeakMap,Da=new WeakMap,Do=new WeakMap,D0=new WeakMap,N0=new WeakMap,ds=new WeakMap,te=new WeakSet,I1=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Hk=function(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const r of h(this,gn).values())if(r.hasTextLayer(e))return r;return null},Bz=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=D(this,te,I1).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(h(this,Ma)||_(this,Ma,new Lie(this)),h(this,Ma).show(r,i,this.direction==="ltr"))},$z=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){h(this,Mo)&&((s=h(this,Ma))==null||s.hide(),_(this,Mo,null),D(this,te,kr).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===h(this,Mo))return;const i=D(this,te,I1).call(this,e).closest(".textLayer");if(!i){h(this,Mo)&&((a=h(this,Ma))==null||a.hide(),_(this,Mo,null),D(this,te,kr).call(this,{hasSelectedText:!1}));return}if((o=h(this,Ma))==null||o.hide(),_(this,Mo,n),D(this,te,kr).call(this,{hasSelectedText:!0}),!(h(this,rn)!==Se.HIGHLIGHT&&h(this,rn)!==Se.NONE)&&(h(this,rn)===Se.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),_(this,Mc,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=h(this,rn)===Se.HIGHLIGHT?D(this,te,Hk).call(this,i):null;if(l==null||l.toggleDrawing(),h(this,Hp)){const c=new AbortController,u=this.combinedSignal(c),d=f=>{f.type==="pointerup"&&f.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),f.type==="pointerup"&&D(this,te,Ny).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}else l==null||l.toggleDrawing(!0),D(this,te,Ny).call(this,"main_toolbar")}},Ny=function(e=""){h(this,rn)===Se.HIGHLIGHT?this.highlightSelection(e):h(this,P0)&&D(this,te,Bz).call(this)},Uz=function(){document.addEventListener("selectionchange",D(this,te,$z).bind(this),{signal:this._signal})},Vz=function(){if(h(this,Oc))return;_(this,Oc,new AbortController);const e=this.combinedSignal(h(this,Oc));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},zz=function(){var e;(e=h(this,Oc))==null||e.abort(),_(this,Oc,null)},Wk=function(){if(h(this,Nc))return;_(this,Nc,new AbortController);const e=this.combinedSignal(h(this,Nc));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},Hz=function(){var e;(e=h(this,Nc))==null||e.abort(),_(this,Nc,null)},Wz=function(){if(h(this,Cc))return;_(this,Cc,new AbortController);const e=this.combinedSignal(h(this,Cc));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Gz=function(){var e;(e=h(this,Cc))==null||e.abort(),_(this,Cc,null)},Kz=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},kr=function(e){Object.entries(e).some(([r,i])=>h(this,M0)[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,M0),e)}),h(this,rn)===Se.HIGHLIGHT&&e.hasSelectedEditor===!1&&D(this,te,_o).call(this,[[Me.HIGHLIGHT_FREE,!0]]))},_o=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},qz=async function(){if(!h(this,Dc)){_(this,Dc,!0);const e=[];for(const n of h(this,gn).values())e.push(n.enable());await Promise.all(e);for(const n of h(this,Bt).values())n.enable()}},Xz=function(){if(this.unselectAll(),h(this,Dc)){_(this,Dc,!1);for(const e of h(this,gn).values())e.disable();for(const e of h(this,Bt).values())e.disable()}},Gk=function(e){const n=h(this,gn).get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},Yz=function(){let e=null;for(e of h(this,We));return e},Ry=function(){if(h(this,Bt).size===0)return!0;if(h(this,Bt).size===1)for(const e of h(this,Bt).values())return e.isEmpty();return!1},Kk=function(e){for(const n of h(this,We))n.unselect();h(this,We).clear();for(const n of e)n.isEmpty()||(h(this,We).add(n),n.select());D(this,te,kr).call(this,{hasSelectedEditor:this.hasSelection})},q(pp,"TRANSLATE_SMALL",1),q(pp,"TRANSLATE_BIG",10);let af=pp;var kn,Na,Hs,Kp,Ra,yi,qp,La,Jr,No,Nh,ja,Bc,ha,Ly,O1;const Ir=class Ir{constructor(e){I(this,ha);I(this,kn,null);I(this,Na,!1);I(this,Hs,null);I(this,Kp,null);I(this,Ra,null);I(this,yi,null);I(this,qp,!1);I(this,La,null);I(this,Jr,null);I(this,No,null);I(this,Nh,null);I(this,ja,!1);_(this,Jr,e),_(this,ja,e._uiManager.useNewAltTextFlow),h(Ir,Bc)||_(Ir,Bc,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Ir._l10n??(Ir._l10n=e)}async render(){const e=_(this,Hs,document.createElement("button"));e.className="altText",e.tabIndex="0";const n=_(this,Kp,document.createElement("span"));e.append(n),h(this,ja)?(e.classList.add("new"),e.setAttribute("data-l10n-id",h(Ir,Bc).missing),n.setAttribute("data-l10n-id",h(Ir,Bc)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=h(this,Jr)._uiManager._signal;e.addEventListener("contextmenu",Os,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),h(this,Jr)._uiManager.editAltText(h(this,Jr)),h(this,ja)&&h(this,Jr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:h(this,ha,Ly)}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(_(this,qp,!0),i(s))},{signal:r}),await D(this,ha,O1).call(this),e}finish(){h(this,Hs)&&(h(this,Hs).focus({focusVisible:h(this,qp)}),_(this,qp,!1))}isEmpty(){return h(this,ja)?h(this,kn)===null:!h(this,kn)&&!h(this,Na)}hasData(){return h(this,ja)?h(this,kn)!==null||!!h(this,No):this.isEmpty()}get guessedText(){return h(this,No)}async setGuessedText(e){h(this,kn)===null&&(_(this,No,e),_(this,Nh,await Ir._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),D(this,ha,O1).call(this))}toggleAltTextBadge(e=!1){var n;if(!h(this,ja)||h(this,kn)){(n=h(this,La))==null||n.remove(),_(this,La,null);return}if(!h(this,La)){const r=_(this,La,document.createElement("div"));r.className="noAltTextBadge",h(this,Jr).div.append(r)}h(this,La).classList.toggle("hidden",!e)}serialize(e){let n=h(this,kn);return!e&&h(this,No)===n&&(n=h(this,Nh)),{altText:n,decorative:h(this,Na),guessedText:h(this,No),textWithDisclaimer:h(this,Nh)}}get data(){return{altText:h(this,kn),decorative:h(this,Na)}}set data({altText:e,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(_(this,No,r),_(this,Nh,i)),!(h(this,kn)===e&&h(this,Na)===n)&&(s||(_(this,kn,e),_(this,Na,n)),D(this,ha,O1).call(this))}toggle(e=!1){h(this,Hs)&&(!e&&h(this,yi)&&(clearTimeout(h(this,yi)),_(this,yi,null)),h(this,Hs).disabled=!e)}shown(){h(this,Jr)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:h(this,ha,Ly)}})}destroy(){var e,n;(e=h(this,Hs))==null||e.remove(),_(this,Hs,null),_(this,Kp,null),_(this,Ra,null),(n=h(this,La))==null||n.remove(),_(this,La,null)}};kn=new WeakMap,Na=new WeakMap,Hs=new WeakMap,Kp=new WeakMap,Ra=new WeakMap,yi=new WeakMap,qp=new WeakMap,La=new WeakMap,Jr=new WeakMap,No=new WeakMap,Nh=new WeakMap,ja=new WeakMap,Bc=new WeakMap,ha=new WeakSet,Ly=function(){return h(this,kn)&&"added"||h(this,kn)===null&&this.guessedText&&"review"||"missing"},O1=async function(){var i,s,a;const e=h(this,Hs);if(!e)return;if(h(this,ja)){if(e.classList.toggle("done",!!h(this,kn)),e.setAttribute("data-l10n-id",h(Ir,Bc)[h(this,ha,Ly)]),(i=h(this,Kp))==null||i.setAttribute("data-l10n-id",h(Ir,Bc)[`${h(this,ha,Ly)}-label`]),!h(this,kn)){(s=h(this,Ra))==null||s.remove();return}}else{if(!h(this,kn)&&!h(this,Na)){e.classList.remove("done"),(a=h(this,Ra))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=h(this,Ra);if(!n){_(this,Ra,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${h(this,Jr).id}`;const o=100,l=h(this,Jr)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(h(this,yi)),_(this,yi,null)},{once:!0}),e.addEventListener("mouseenter",()=>{_(this,yi,setTimeout(()=>{_(this,yi,null),h(this,Ra).classList.add("show"),h(this,Jr)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var c;h(this,yi)&&(clearTimeout(h(this,yi)),_(this,yi,null)),(c=h(this,Ra))==null||c.classList.remove("show")},{signal:l})}h(this,Na)?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=h(this,kn)),n.parentNode||e.append(n);const r=h(this,Jr).getElementForAltText();r==null||r.setAttribute("aria-describedby",n.id)},I(Ir,Bc,null),q(Ir,"_l10n",null);let YS=Ir;var Kn,fs,Rh,ft,R0,Lh,Ws,jh,Fh,Bh,L0,qk;class Dx{constructor(e){I(this,L0);I(this,Kn,null);I(this,fs,null);I(this,Rh,!1);I(this,ft,null);I(this,R0,null);I(this,Lh,null);I(this,Ws,null);I(this,jh,null);I(this,Fh,!1);I(this,Bh,null);_(this,ft,e)}renderForToolbar(){const e=_(this,fs,document.createElement("button"));return e.className="comment",D(this,L0,qk).call(this,e,!1)}renderForStandalone(){const e=_(this,Kn,document.createElement("button"));e.className="annotationCommentButton";const n=h(this,ft).commentButtonPosition;if(n){const{style:r}=e;r.insetInlineEnd=`calc(${100*(h(this,ft)._uiManager.direction==="ltr"?1-n[0]:n[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*n[1]}% - var(--comment-button-dim))`;const i=h(this,ft).commentButtonColor;i&&(r.backgroundColor=i)}return D(this,L0,qk).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=h(this,Kn)??h(this,fs))==null||e.focus()},0)}onUpdatedColor(){if(!h(this,Kn))return;const e=h(this,ft).commentButtonColor;e&&(h(this,Kn).style.backgroundColor=e),h(this,ft)._uiManager.updatePopupColor(h(this,ft))}get commentButtonWidth(){var e;return(((e=h(this,Kn))==null?void 0:e.getBoundingClientRect().width)??0)/h(this,ft).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(h(this,Bh))return h(this,Bh);if(!h(this,Kn))return null;const{x:e,y:n,height:r}=h(this,Kn).getBoundingClientRect(),{x:i,y:s,width:a,height:o}=h(this,ft).parent.boundingClientRect;return[(e-i)/a,(n+r-s)/o]}set commentPopupPositionInLayer(e){_(this,Bh,e)}hasDefaultPopupPosition(){return h(this,Bh)===null}removeStandaloneCommentButton(){var e;(e=h(this,Kn))==null||e.remove(),_(this,Kn,null)}removeToolbarCommentButton(){var e;(e=h(this,fs))==null||e.remove(),_(this,fs,null)}setCommentButtonStates({selected:e,hasPopup:n}){h(this,Kn)&&(h(this,Kn).classList.toggle("selected",e),h(this,Kn).ariaExpanded=n)}edit(e){const n=this.commentPopupPositionInLayer;let r,i;if(n)[r,i]=n;else{[r,i]=h(this,ft).commentButtonPosition;const{width:u,height:d,x:f,y:p}=h(this,ft);r=f+r*u,i=p+i*d}const s=h(this,ft).parent.boundingClientRect,{x:a,y:o,width:l,height:c}=s;h(this,ft)._uiManager.editComment(h(this,ft),a+r*l,o+i*c,{...e,parentDimensions:s})}finish(){h(this,fs)&&(h(this,fs).focus({focusVisible:h(this,Rh)}),_(this,Rh,!1))}isDeleted(){return h(this,Fh)||h(this,Ws)===""}isEmpty(){return h(this,Ws)===null}hasBeenEdited(){return this.isDeleted()||h(this,Ws)!==h(this,R0)}serialize(){return this.data}get data(){return{text:h(this,Ws),richText:h(this,Lh),date:h(this,jh),deleted:this.isDeleted()}}set data(e){if(e!==h(this,Ws)&&_(this,Lh,null),e===null){_(this,Ws,""),_(this,Fh,!0);return}_(this,Ws,e),_(this,jh,new Date),_(this,Fh,!1)}setInitialText(e,n=null){_(this,R0,e),this.data=e,_(this,jh,null),_(this,Lh,n)}shown(){}destroy(){var e,n;(e=h(this,fs))==null||e.remove(),_(this,fs,null),(n=h(this,Kn))==null||n.remove(),_(this,Kn,null),_(this,Ws,""),_(this,Lh,null),_(this,jh,null),_(this,ft,null),_(this,Rh,!1),_(this,Fh,!1)}}Kn=new WeakMap,fs=new WeakMap,Rh=new WeakMap,ft=new WeakMap,R0=new WeakMap,Lh=new WeakMap,Ws=new WeakMap,jh=new WeakMap,Fh=new WeakMap,Bh=new WeakMap,L0=new WeakSet,qk=function(e,n){if(!h(this,ft)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",n?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[h(this,ft)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const r=h(this,ft)._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",Os,{signal:r}),n&&(e.addEventListener("focusin",s=>{h(this,ft)._focusEventsAllowed=!1,Gt(s)},{capture:!0,signal:r}),e.addEventListener("focusout",s=>{h(this,ft)._focusEventsAllowed=!0,Gt(s)},{capture:!0,signal:r})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),e===h(this,fs)?this.edit():h(this,ft).toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(_(this,Rh,!0),i(s))},{signal:r}),e.addEventListener("pointerenter",()=>{h(this,ft).toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{h(this,ft).toggleComment(!1,!1)},{signal:r}),e};var Xp,$h,j0,F0,B0,$0,U0,Ro,Uh,Lo,Vh,jo,$u,Jz,Zz,Qz;const xR=class xR{constructor({container:e,isPinchingDisabled:n=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){I(this,$u);I(this,Xp);I(this,$h,!1);I(this,j0,null);I(this,F0);I(this,B0);I(this,$0);I(this,U0);I(this,Ro,null);I(this,Uh);I(this,Lo,null);I(this,Vh);I(this,jo,null);_(this,Xp,e),_(this,j0,r),_(this,F0,n),_(this,B0,i),_(this,$0,s),_(this,U0,a),_(this,Vh,new AbortController),_(this,Uh,AbortSignal.any([o,h(this,Vh).signal])),e.addEventListener("touchstart",D(this,$u,Jz).bind(this),{passive:!1,signal:h(this,Uh)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/fo.pixelRatio}destroy(){var e,n;(e=h(this,Vh))==null||e.abort(),_(this,Vh,null),(n=h(this,Ro))==null||n.abort(),_(this,Ro,null)}};Xp=new WeakMap,$h=new WeakMap,j0=new WeakMap,F0=new WeakMap,B0=new WeakMap,$0=new WeakMap,U0=new WeakMap,Ro=new WeakMap,Uh=new WeakMap,Lo=new WeakMap,Vh=new WeakMap,jo=new WeakMap,$u=new WeakSet,Jz=function(e){var i,s,a;if((i=h(this,F0))!=null&&i.call(this))return;if(e.touches.length===1){if(h(this,Ro))return;const o=_(this,Ro,new AbortController),l=AbortSignal.any([h(this,Uh),o.signal]),c=h(this,Xp),u={capture:!0,signal:l,passive:!1},d=f=>{var p;f.pointerType==="touch"&&((p=h(this,Ro))==null||p.abort(),_(this,Ro,null))};c.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(Gt(f),d(f))},u),c.addEventListener("pointerup",d,u),c.addEventListener("pointercancel",d,u);return}if(!h(this,jo)){_(this,jo,new AbortController);const o=AbortSignal.any([h(this,Uh),h(this,jo).signal]),l=h(this,Xp),c={signal:o,capture:!1,passive:!1};l.addEventListener("touchmove",D(this,$u,Zz).bind(this),c);const u=D(this,$u,Qz).bind(this);l.addEventListener("touchend",u,c),l.addEventListener("touchcancel",u,c),c.capture=!0,l.addEventListener("pointerdown",Gt,c),l.addEventListener("pointermove",Gt,c),l.addEventListener("pointercancel",Gt,c),l.addEventListener("pointerup",Gt,c),(s=h(this,B0))==null||s.call(this)}if(Gt(e),e.touches.length!==2||(a=h(this,j0))!=null&&a.call(this)){_(this,Lo,null);return}let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]),_(this,Lo,{touch0X:n.screenX,touch0Y:n.screenY,touch1X:r.screenX,touch1Y:r.screenY})},Zz=function(e){var T;if(!h(this,Lo)||e.touches.length!==2)return;Gt(e);let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]);const{screenX:i,screenY:s}=n,{screenX:a,screenY:o}=r,l=h(this,Lo),{touch0X:c,touch0Y:u,touch1X:d,touch1Y:f}=l,p=d-c,g=f-u,y=a-i,b=o-s,v=Math.hypot(y,b)||1,S=Math.hypot(p,g)||1;if(!h(this,$h)&&Math.abs(S-v)<=xR.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!h(this,$h)){_(this,$h,!0);return}const w=[(i+a)/2,(s+o)/2];(T=h(this,$0))==null||T.call(this,w,S,v)},Qz=function(e){var n;e.touches.length>=2||(h(this,jo)&&(h(this,jo).abort(),_(this,jo,null),(n=h(this,U0))==null||n.call(this)),h(this,Lo)&&(Gt(e),_(this,Lo,null),_(this,$h,!1)))};let JS=xR;var zh,Gs,_t,at,Fo,Yp,$c,V0,qn,Hh,Bo,ps,Uc,z0,Wh,vi,H0,Gh,$o,Fa,Jp,Zp,ms,Kh,W0,y_,de,Xk,G0,Yk,M1,eH,tH,Jk,D1,Zk,nH,rH,iH,Qk,sH,eI,aH,oH,lH,tI,jy;const xe=class xe{constructor(e){I(this,de);I(this,zh,null);I(this,Gs,null);I(this,_t,null);I(this,at,null);I(this,Fo,null);I(this,Yp,!1);I(this,$c,null);I(this,V0,"");I(this,qn,null);I(this,Hh,null);I(this,Bo,null);I(this,ps,null);I(this,Uc,null);I(this,z0,"");I(this,Wh,!1);I(this,vi,null);I(this,H0,!1);I(this,Gh,!1);I(this,$o,!1);I(this,Fa,null);I(this,Jp,0);I(this,Zp,0);I(this,ms,null);I(this,Kh,null);q(this,"isSelected",!1);q(this,"_isCopy",!1);q(this,"_editToolbar",null);q(this,"_initialOptions",Object.create(null));q(this,"_initialData",null);q(this,"_isVisible",!0);q(this,"_uiManager",null);q(this,"_focusEventsAllowed",!0);I(this,W0,!1);I(this,y_,xe._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=xe.prototype._resizeWithKeyboard,n=af.TRANSLATE_SMALL,r=af.TRANSLATE_BIG;return we(this,"_resizerKeyboardManager",new Aw([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],xe.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return we(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new Bie({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if(xe._l10n??(xe._l10n=e),xe._l10nResizer||(xe._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),xe._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);xe._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){ut("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,W0)}set _isDraggable(e){var n;_(this,W0,e),(n=this.div)==null||n.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,y_)}setParent(e){var n;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(D(this,de,jy).call(this),(n=h(this,ps))==null||n.remove(),_(this,ps,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(h(this,Wh)?_(this,Wh,!1):this.parent.setSelected(this))}focusout(e){var r;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=e.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(e.preventDefault(),(r=this.parent)!=null&&r.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[s,a]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(n+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,n){const[r,i]=this.parentDimensions;this.setAt(e*r,n*i,this.width*r,this.height*i),this._onTranslated()}translate(e,n){D(this,de,Xk).call(this,this.parentDimensions,e,n)}translateInPage(e,n){h(this,vi)||_(this,vi,[this.x,this.y,this.width,this.height]),D(this,de,Xk).call(this,this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,n){h(this,vi)||_(this,vi,[this.x,this.y,this.width,this.height]);const{div:r,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=n/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,c]=this.getBaseTranslation();a+=l,o+=c;const{style:u}=r;u.left=`${(100*a).toFixed(2)}%`,u.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),r.scrollIntoView({block:"nearest"})}_onTranslating(e,n){}_onTranslated(e,n){}get _hasBeenMoved(){return!!h(this,vi)&&(h(this,vi)[0]!==this.x||h(this,vi)[1]!==this.y)}get _hasBeenResized(){return!!h(this,vi)&&(h(this,vi)[2]!==this.width||h(this,vi)[3]!==this.height)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=xe,i=r/e,s=r/n;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:n},pageDimensions:[r,i]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=r,l*=i,s*=r,a*=i,this._mustFixPosition)switch(e){case 0:s=Rr(s,0,r-o),a=Rr(a,0,i-l);break;case 90:s=Rr(s,0,r-l),a=Rr(a,o,i);break;case 180:s=Rr(s,o,r),a=Rr(a,l,i);break;case 270:s=Rr(s,l,r),a=Rr(a,0,i-o);break}this.x=s/=r,this.y=a/=i;const[c,u]=this.getBaseTranslation();s+=c,a+=u,n.left=`${(100*s).toFixed(2)}%`,n.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,n){var r;return D(r=xe,G0,Yk).call(r,e,n,this.parentRotation)}pageTranslationToScreen(e,n){var r;return D(r=xe,G0,Yk).call(r,e,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this;return[n*e,r*e]}setDims(){const{div:{style:e},width:n,height:r}=this;e.width=`${(100*n).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=h(this,_t))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||h(this,Gh))return this._editToolbar;this._editToolbar=new $k(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[n,r]of e)await this._editToolbar.addButton(n,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,n;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(n=h(this,_t))==null||n.destroy()}addContainer(e){var r;const n=(r=this._editToolbar)==null?void 0:r.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return h(this,_t)||(YS.initialize(xe._l10n),_(this,_t,new YS(this)),h(this,zh)&&(h(this,_t).data=h(this,zh),_(this,zh,null))),h(this,_t)}get altTextData(){var e;return(e=h(this,_t))==null?void 0:e.data}set altTextData(e){h(this,_t)&&(h(this,_t).data=e)}get guessedAltText(){var e;return(e=h(this,_t))==null?void 0:e.guessedText}async setGuessedAltText(e){var n;await((n=h(this,_t))==null?void 0:n.setGuessedText(e))}serializeAltText(e){var n;return(n=h(this,_t))==null?void 0:n.serialize(e)}hasAltText(){return!!h(this,_t)&&!h(this,_t).isEmpty()}hasAltTextData(){var e;return((e=h(this,_t))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=h(this,at))==null||e.focusButton()}addCommentButton(){return this.canAddComment?h(this,at)||_(this,at,new Dx(this)):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(h(this,Fo)){this._uiManager.isEditingMode()&&h(this,Fo).classList.remove("hidden");return}this.hasComment&&(_(this,Fo,h(this,at).renderForStandalone()),this.div.append(h(this,Fo)))}}removeStandaloneCommentButton(){h(this,at).removeStandaloneCommentButton(),_(this,Fo,null)}hideStandaloneCommentButton(){var e;(e=h(this,Fo))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:n,date:r,deleted:i}}=h(this,at);return{text:n,richText:e,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){h(this,at)||_(this,at,new Dx(this)),h(this,at).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:n,richText:r}){if(!n||(h(this,at)||_(this,at,new Dx(this)),h(this,at).setInitialText(e,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){var e;return(e=h(this,at))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=h(this,at))==null?void 0:e.isDeleted()}get hasComment(){return!!h(this,at)&&!h(this,at).isEmpty()&&!h(this,at).isDeleted()}async editComment(e){h(this,at)||_(this,at,new Dx(this)),h(this,at).edit(e)}toggleComment(e,n=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,n)}setSelectedCommentButton(e){h(this,at).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,o=a+s+1,l=i-100,c=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,c,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:n}}){h(this,at).data=n?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=h(this,Yp)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),D(this,de,eI).call(this);const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/n).toFixed(2)}%`,e.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),jz(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(h(this,Kh)||_(this,Kh,new JS({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:D(this,de,nH).bind(this),onPinching:D(this,de,rH).bind(this),onPinchEnd:D(this,de,iH).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:n}=or.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(_(this,Wh,!0),this._isDraggable){D(this,de,sH).call(this,e);return}D(this,de,Qk).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){h(this,Fa)&&clearTimeout(h(this,Fa)),_(this,Fa,setTimeout(()=>{var e;_(this,Fa,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,n,r=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,c=e/i,u=n/i,d=this.x*s,f=this.y*a,p=this.width*s,g=this.height*a;switch(r){case 0:return[d+c+o,a-f-u-g+l,d+c+p+o,a-f-u+l];case 90:return[d+u+o,a-f+c+l,d+u+g+o,a-f+c+p+l];case 180:return[d-c-p+o,a-f+u+l,d-c+o,a-f+u+g+l];case 270:return[d-u-g+o,a-f-c-p+l,d-u+o,a-f-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,s,a]=e,o=s-r,l=a-i;switch(this.rotation){case 0:return[r,n-a,o,l];case 90:return[r,n-i,l,o];case 180:return[s,n-i,o,l];case 270:return[s,n-a,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&xe._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=h(this,at))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:n,date:r,opacity:i,deleted:s,richText:a},uid:o,pageIndex:l,creationDate:c,modificationDate:u}=this;return{id:o,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:c,modificationDate:r||u,popupRef:!s,color:n,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),_(this,Gh,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),_(this,Gh,!1),!0):!1}isInEditMode(){return h(this,Gh)}shouldGetKeyboardEvents(){return h(this,$o)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:n,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return n<a&&i>0&&e<s&&r>0}rebuild(){D(this,de,eI).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,n=null){var r;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((r=this._initialData)==null?void 0:r.popupRef)||""}}static async deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,_(i,zh,e.accessibilityData),i._isCopy=e.isCopy||!1;const[s,a]=i.pageDimensions,[o,l,c,u]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=l/a,i.width=c/s,i.height=u/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,n,r;if((e=h(this,Uc))==null||e.abort(),_(this,Uc,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),h(this,Fa)&&(clearTimeout(h(this,Fa)),_(this,Fa,null)),D(this,de,jy).call(this),this.removeEditToolbar(),h(this,ms)){for(const i of h(this,ms).values())clearTimeout(i);_(this,ms,null)}this.parent=null,(n=h(this,Kh))==null||n.destroy(),_(this,Kh,null),(r=h(this,ps))==null||r.remove(),_(this,ps,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(D(this,de,eH).call(this),h(this,qn).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,n]}=this,[r,i,s,a]=this.getPDFRect();return[xe._round(r+(s-r)*e),xe._round(i+(a-i)*(1-n))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return h(this,at).commentPopupPositionInLayer}set commentPopupPosition(e){h(this,at).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return h(this,at).hasDefaultPopupPosition()}get commentButtonWidth(){return h(this,at).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){var n;(n=h(this,at))==null||n.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),_(this,Bo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=h(this,qn).children;if(!h(this,Gs)){_(this,Gs,Array.from(n));const a=D(this,de,aH).bind(this),o=D(this,de,oH).bind(this),l=this._uiManager._signal;for(const c of h(this,Gs)){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",a,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",D(this,de,lH).bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",xe._l10nResizer[u])}}const r=h(this,Gs)[0];let i=0;for(const a of n){if(a===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(h(this,Gs).length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)h(this,qn).append(h(this,qn).firstElementChild);else if(s>i)for(let o=0;o<s-i;o++)h(this,qn).firstElementChild.before(h(this,qn).lastElementChild);let a=0;for(const o of n){const c=h(this,Gs)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",xe._l10nResizer[c])}}D(this,de,tI).call(this,0),_(this,$o,!0),h(this,qn).firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,n){h(this,$o)&&D(this,de,Zk).call(this,h(this,z0),{deltaX:e,deltaY:n,fromKeyboard:!0})}_stopResizingWithKeyboard(){D(this,de,jy).call(this),this.div.focus()}select(){var e,n,r;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(n=this._editToolbar)==null||n.show(),(r=h(this,_t))==null||r.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,n,r,i,s;this.isSelected&&(this.isSelected=!1,(e=h(this,qn))==null||e.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(r=this.div)!=null&&r.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=h(this,_t))==null||s.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,n){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return h(this,H0)}set isEditing(e){_(this,H0,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){h(this,ms)||_(this,ms,new Map);const{action:r}=e;let i=h(this,ms).get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),h(this,ms).delete(r),h(this,ms).size===0&&_(this,ms,null)},xe._telemetryTimeout),h(this,ms).set(r,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),_(this,Yp,!1)}disable(){this.div&&(this.div.tabIndex=-1),_(this,Yp,!0)}updateFakeAnnotationElement(e){if(!h(this,ps)&&!this.deleted){_(this,ps,e.addFakeAnnotation(this));return}if(this.deleted){h(this,ps).remove(),_(this,ps,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&h(this,ps).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstElementChild:n}=e.container;(n==null?void 0:n.nodeName)==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};zh=new WeakMap,Gs=new WeakMap,_t=new WeakMap,at=new WeakMap,Fo=new WeakMap,Yp=new WeakMap,$c=new WeakMap,V0=new WeakMap,qn=new WeakMap,Hh=new WeakMap,Bo=new WeakMap,ps=new WeakMap,Uc=new WeakMap,z0=new WeakMap,Wh=new WeakMap,vi=new WeakMap,H0=new WeakMap,Gh=new WeakMap,$o=new WeakMap,Fa=new WeakMap,Jp=new WeakMap,Zp=new WeakMap,ms=new WeakMap,Kh=new WeakMap,W0=new WeakMap,y_=new WeakMap,de=new WeakSet,Xk=function([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},G0=new WeakSet,Yk=function(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}},M1=function(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}},eH=function(){if(h(this,qn))return;_(this,qn,document.createElement("div")),h(this,qn).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");h(this,qn).append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",D(this,de,tH).bind(this,r),{signal:n}),i.addEventListener("contextmenu",Os,{signal:n}),i.tabIndex=-1}this.div.prepend(h(this,qn))},tH=function(e,n){var u;n.preventDefault();const{isMac:r}=or.platform;if(n.button!==0||n.ctrlKey&&r)return;(u=h(this,_t))==null||u.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,_(this,Hh,[n.screenX,n.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",D(this,de,Zk).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",Gt,{passive:!1,signal:a}),window.addEventListener("contextmenu",Os,{signal:a}),_(this,Bo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const c=()=>{var d;s.abort(),this.parent.togglePointerEvents(!0),(d=h(this,_t))==null||d.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,D(this,de,D1).call(this)};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})},Jk=function(e,n,r,i){this.width=r,this.height=i,this.x=e,this.y=n,this.setDims(),this.fixAndSetPosition(),this._onResized()},D1=function(){if(!h(this,Bo))return;const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=h(this,Bo);_(this,Bo,null);const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===n&&o===r&&l===i||this.addCommands({cmd:D(this,de,Jk).bind(this,s,a,o,l),undo:D(this,de,Jk).bind(this,e,n,r,i),mustExec:!0})},Zk=function(e,n){const[r,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,c=xe.MIN_SIZE/r,u=xe.MIN_SIZE/i,d=D(this,de,M1).call(this,this.rotation),f=(J,W)=>[d[0]*J+d[2]*W,d[1]*J+d[3]*W],p=D(this,de,M1).call(this,360-this.rotation),g=(J,W)=>[p[0]*J+p[2]*W,p[1]*J+p[3]*W];let y,b,v=!1,S=!1;switch(e){case"topLeft":v=!0,y=(J,W)=>[0,0],b=(J,W)=>[J,W];break;case"topMiddle":y=(J,W)=>[J/2,0],b=(J,W)=>[J/2,W];break;case"topRight":v=!0,y=(J,W)=>[J,0],b=(J,W)=>[0,W];break;case"middleRight":S=!0,y=(J,W)=>[J,W/2],b=(J,W)=>[0,W/2];break;case"bottomRight":v=!0,y=(J,W)=>[J,W],b=(J,W)=>[0,0];break;case"bottomMiddle":y=(J,W)=>[J/2,W],b=(J,W)=>[J/2,0];break;case"bottomLeft":v=!0,y=(J,W)=>[0,W],b=(J,W)=>[J,0];break;case"middleLeft":S=!0,y=(J,W)=>[0,W/2],b=(J,W)=>[J,W/2];break}const w=y(o,l),T=b(o,l);let P=f(...T);const O=xe._round(s+P[0]),C=xe._round(a+P[1]);let k=1,N=1,L,R;if(n.fromKeyboard)({deltaX:L,deltaY:R}=n);else{const{screenX:J,screenY:W}=n,[V,H]=h(this,Hh);[L,R]=this.screenToPageTranslation(J-V,W-H),h(this,Hh)[0]=J,h(this,Hh)[1]=W}if([L,R]=g(L/r,R/i),v){const J=Math.hypot(o,l);k=N=Math.max(Math.min(Math.hypot(T[0]-w[0]-L,T[1]-w[1]-R)/J,1/o,1/l),c/o,u/l)}else S?k=Rr(Math.abs(T[0]-w[0]-L),c,1)/o:N=Rr(Math.abs(T[1]-w[1]-R),u,1)/l;const B=xe._round(o*k),j=xe._round(l*N);P=f(...b(B,j));const G=O-P[0],Z=C-P[1];h(this,vi)||_(this,vi,[this.x,this.y,this.width,this.height]),this.width=B,this.height=j,this.x=G,this.y=Z,this.setDims(),this.fixAndSetPosition(),this._onResizing()},nH=function(){var e;_(this,Bo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=h(this,_t))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},rH=function(e,n,r){let s=.7*(r/n)+1-.7;if(s===1)return;const a=D(this,de,M1).call(this,this.rotation),o=(O,C)=>[a[0]*O+a[2]*C,a[1]*O+a[3]*C],[l,c]=this.parentDimensions,u=this.x,d=this.y,f=this.width,p=this.height,g=xe.MIN_SIZE/l,y=xe.MIN_SIZE/c;s=Math.max(Math.min(s,1/f,1/p),g/f,y/p);const b=xe._round(f*s),v=xe._round(p*s);if(b===f&&v===p)return;h(this,vi)||_(this,vi,[u,d,f,p]);const S=o(f/2,p/2),w=xe._round(u+S[0]),T=xe._round(d+S[1]),P=o(b/2,v/2);this.x=w-P[0],this.y=T-P[1],this.width=b,this.height=v,this.setDims(),this.fixAndSetPosition(),this._onResizing()},iH=function(){var e;(e=h(this,_t))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),D(this,de,D1).call(this)},Qk=function(e){const{isMac:n}=or.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},sH=function(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},o=c=>{i.abort(),_(this,$c,null),_(this,Wh,!1),this._uiManager.endDragSession()||D(this,de,Qk).call(this,c),r&&this._onStopDragging()};n&&(_(this,Jp,e.clientX),_(this,Zp,e.clientY),_(this,$c,e.pointerId),_(this,V0,e.pointerType),window.addEventListener("pointermove",c=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:u,clientY:d,pointerId:f}=c;if(f!==h(this,$c)){Gt(c);return}const[p,g]=this.screenToPageTranslation(u-h(this,Jp),d-h(this,Zp));_(this,Jp,u),_(this,Zp,d),this._uiManager.dragSelectedEditors(p,g)},a),window.addEventListener("touchmove",Gt,a),window.addEventListener("pointerdown",c=>{c.pointerType===h(this,V0)&&(h(this,Kh)||c.isPrimary)&&o(c),Gt(c)},a));const l=c=>{if(!h(this,$c)||h(this,$c)===c.pointerId){o(c);return}Gt(c)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},eI=function(){if(h(this,Uc)||!this.div)return;_(this,Uc,new AbortController);const e=this._uiManager.combinedSignal(h(this,Uc));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},aH=function(e){xe._resizerKeyboardManager.exec(this,e)},oH=function(e){var n;h(this,$o)&&((n=e.relatedTarget)==null?void 0:n.parentNode)!==h(this,qn)&&D(this,de,jy).call(this)},lH=function(e){_(this,z0,h(this,$o)?e:"")},tI=function(e){if(h(this,Gs))for(const n of h(this,Gs))n.tabIndex=e},jy=function(){_(this,$o,!1),D(this,de,tI).call(this,-1),D(this,de,D1).call(this)},I(xe,G0),q(xe,"_l10n",null),q(xe,"_l10nResizer",null),q(xe,"_borderLineWidth",-1),q(xe,"_colorManager",new zk),q(xe,"_zIndex",1),q(xe,"_telemetryTimeout",1e3);let gt=xe;class Bie extends gt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const n3=3285377520,es=4294901760,Ea=65535;class cH{constructor(e){this.h1=e?e&4294967295:n3,this.h2=e?e&4294967295:n3}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let y=0,b=e.length;y<b;y++){const v=e.charCodeAt(y);v<=255?n[r++]=v:(n[r++]=v>>>8,n[r++]=v&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,a=new Uint32Array(n.buffer,0,i);let o=0,l=0,c=this.h1,u=this.h2;const d=3432918353,f=461845907,p=d&Ea,g=f&Ea;for(let y=0;y<i;y++)y&1?(o=a[y],o=o*d&es|o*p&Ea,o=o<<15|o>>>17,o=o*f&es|o*g&Ea,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=a[y],l=l*d&es|l*p&Ea,l=l<<15|l>>>17,l=l*f&es|l*g&Ea,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(o=0,s){case 3:o^=n[i*4+2]<<16;case 2:o^=n[i*4+1]<<8;case 1:o^=n[i*4],o=o*d&es|o*p&Ea,o=o<<15|o>>>17,o=o*f&es|o*g&Ea,i&1?c^=o:u^=o}this.h1=c,this.h2=u}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&es|e*36045&Ea,n=n*4283543511&es|((n<<16|e>>>16)*2950163797&es)>>>16,e^=n>>>1,e=e*444984403&es|e*60499&Ea,n=n*3301882366&es|((n<<16|e>>>16)*3120437893&es)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const nI=Object.freeze({map:null,hash:"",transfer:void 0});var qh,Xh,Uo,Xn,v_,uH;class ZM{constructor(){I(this,v_);I(this,qh,!1);I(this,Xh,null);I(this,Uo,null);I(this,Xn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=h(this,Xn).get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return h(this,Xn).get(e)}remove(e){const n=h(this,Xn).get(e);if(n!==void 0&&(n instanceof gt&&h(this,Uo).delete(n.annotationElementId),h(this,Xn).delete(e),h(this,Xn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of h(this,Xn).values())if(r instanceof gt)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=h(this,Xn).get(e);let i=!1;if(r!==void 0)for(const[s,a]of Object.entries(n))r[s]!==a&&(i=!0,r[s]=a);else i=!0,h(this,Xn).set(e,n);i&&D(this,v_,uH).call(this),n instanceof gt&&((h(this,Uo)||_(this,Uo,new Map)).set(n.annotationElementId,n),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type))}has(e){return h(this,Xn).has(e)}get size(){return h(this,Xn).size}resetModified(){h(this,qh)&&(_(this,qh,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new hH(this)}get serializable(){if(h(this,Xn).size===0)return nI;const e=new Map,n=new cH,r=[],i=Object.create(null);let s=!1;for(const[a,o]of h(this,Xn)){const l=o instanceof gt?o.serialize(!1,i):o;l&&(e.set(a,l),n.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:nI}get editorStats(){let e=null;const n=new Map;let r=0,i=0;for(const s of h(this,Xn).values()){if(!(s instanceof gt)){s.popup&&(s.popup.deleted?i+=1:r+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(r+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;n.has(o)||n.set(o,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const l=e[o]||(e[o]=new Map);for(const[c,u]of Object.entries(a)){if(c==="type")continue;let d=l.get(c);d||(d=new Map,l.set(c,d));const f=d.get(u)??0;d.set(u,f+1)}}if((i>0||r>0)&&(e||(e=Object.create(null)),e.comments={deleted:i,edited:r}),!e)return null;for(const[s,a]of n)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){_(this,Xh,null)}updateEditor(e,n){var i;const r=(i=h(this,Uo))==null?void 0:i.get(e);return r?(r.updateFromAnnotationLayer(n),!0):!1}getEditor(e){var n;return((n=h(this,Uo))==null?void 0:n.get(e))||null}get modifiedIds(){if(h(this,Xh))return h(this,Xh);const e=[];if(h(this,Uo))for(const n of h(this,Uo).values())n.serialize()&&e.push(n.annotationElementId);return _(this,Xh,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return h(this,Xn).entries()}}qh=new WeakMap,Xh=new WeakMap,Uo=new WeakMap,Xn=new WeakMap,v_=new WeakSet,uH=function(){h(this,qh)||(_(this,qh,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var K0;class hH extends ZM{constructor(n){super();I(this,K0);const{map:r,hash:i,transfer:s}=n.serializable,a=structuredClone(r,s?{transfer:s}:null);_(this,K0,{map:a,hash:i,transfer:s})}get print(){ut("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,K0)}get modifiedIds(){return we(this,"modifiedIds",{ids:new Set,hash:""})}}K0=new WeakMap;var Qp;class $ie{constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){I(this,Qp,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),h(this,Qp).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:n,_inspectFont:r}){if(!(!e||h(this,Qp).has(e.loadedName))){if(De(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:a}=e,o=new FontFace(i,s,a);this.addNativeFontFace(o);try{await o.load(),h(this,Qp).add(i),r==null||r(e)}catch{be(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}ut("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw be(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var n;const e=!!((n=this._document)!=null&&n.fonts);return we(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return we(this,"isSyncFontLoadingSupported",Nr||or.platform.isFirefox)}_queueLoadingCallback(e){function n(){for(De(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return we(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(T,P){return T.charCodeAt(P)<<24|T.charCodeAt(P+1)<<16|T.charCodeAt(P+2)<<8|T.charCodeAt(P+3)&255}function i(T,P,O,C){const k=T.substring(0,P),N=T.substring(P+O);return k+C+N}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function u(T,P){if(++c>30){be("Load test font never loaded."),P();return}if(l.font="30px "+T,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){P();return}setTimeout(u.bind(null,T,P))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,d.length,d);const g=16,y=1482184792;let b=r(f,g);for(s=0,a=d.length-3;s<a;s+=4)b=b-y+r(d,s)|0;s<d.length&&(b=b-y+r(d+"XXX",s)|0),f=i(f,g,4,wie(b));const v=`url(data:font/opentype;base64,${btoa(f)});`,S=`@font-face {font-family:"${d}";src:${v}}`;this.insertRule(S);const w=this._document.createElement("div");w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px";for(const T of[e.loadedName,d]){const P=this._document.createElement("span");P.textContent="Hi",P.style.fontFamily=T,w.append(P)}this._document.body.append(w),u(d,()=>{w.remove(),n.complete()})}}Qp=new WeakMap;var Ze;class Uie{constructor(e,n=null,r,i){I(this,Ze);this.compiledGlyphs=Object.create(null),_(this,Ze,e),this._inspectFont=n,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const r={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(r.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}return(n=this._inspectFont)==null||n.call(this,this),e}createFontFaceRule(){var r;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${Cz(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(r=this._inspectFont)==null||r.call(this,this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const r=this.loadedName+"_path_"+n;let i;try{i=e.get(r)}catch(a){be(`getPathGenerator - ignoring character: "${a}".`)}const s=Oz(i);return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[n]=s}get black(){return h(this,Ze).black}get bold(){return h(this,Ze).bold}get disableFontFace(){return h(this,Ze).disableFontFace??!1}set disableFontFace(e){we(this,"disableFontFace",!!e)}get fontExtraProperties(){return h(this,Ze).fontExtraProperties??!1}get isInvalidPDFjsFont(){return h(this,Ze).isInvalidPDFjsFont}get isType3Font(){return h(this,Ze).isType3Font}get italic(){return h(this,Ze).italic}get missingFile(){return h(this,Ze).missingFile}get remeasure(){return h(this,Ze).remeasure}get vertical(){return h(this,Ze).vertical}get ascent(){return h(this,Ze).ascent}get defaultWidth(){return h(this,Ze).defaultWidth}get descent(){return h(this,Ze).descent}get bbox(){return h(this,Ze).bbox}set bbox(e){we(this,"bbox",e)}get fontMatrix(){return h(this,Ze).fontMatrix}get fallbackName(){return h(this,Ze).fallbackName}get loadedName(){return h(this,Ze).loadedName}get mimetype(){return h(this,Ze).mimetype}get name(){return h(this,Ze).name}get data(){return h(this,Ze).data}clearData(){h(this,Ze).clearData()}get cssFontInfo(){return h(this,Ze).cssFontInfo}get systemFontInfo(){return h(this,Ze).systemFontInfo}get defaultVMetrics(){return h(this,Ze).defaultVMetrics}}Ze=new WeakMap;var em,tm,q0,nm,N1;const mp=class mp{constructor(e){I(this,nm);I(this,em);I(this,tm);I(this,q0);_(this,em,e),_(this,tm,new DataView(h(this,em))),_(this,q0,new TextDecoder)}static write(e){const n=new TextEncoder,r={};let i=0;for(const c of mp.strings){const u=n.encode(e[c]);r[c]=u,i+=4+u.length}const s=new ArrayBuffer(i),a=new Uint8Array(s),o=new DataView(s);let l=0;for(const c of mp.strings){const u=r[c],d=u.length;o.setUint32(l,d),a.set(u,l+4),l+=4+d}return De(l===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return D(this,nm,N1).call(this,0)}get fontWeight(){return D(this,nm,N1).call(this,1)}get italicAngle(){return D(this,nm,N1).call(this,2)}};em=new WeakMap,tm=new WeakMap,q0=new WeakMap,nm=new WeakSet,N1=function(e){De(e<mp.strings.length,"Invalid string index");let n=0;for(let i=0;i<e;i++)n+=h(this,tm).getUint32(n)+4;const r=h(this,tm).getUint32(n);return h(this,q0).decode(new Uint8Array(h(this,em),n+4,r))},q(mp,"strings",["fontFamily","fontWeight","italicAngle"]);let ZS=mp;var Vc,Ba,Yh,Jh,Fy;const gp=class gp{constructor(e){I(this,Jh);I(this,Vc);I(this,Ba);I(this,Yh);_(this,Vc,e),_(this,Ba,new DataView(h(this,Vc))),_(this,Yh,new TextDecoder)}static write(e){const n=new TextEncoder,r={};let i=0;for(const f of gp.strings){const p=n.encode(e[f]);r[f]=p,i+=4+p.length}i+=4;let s,a,o=1+i;e.style&&(s=n.encode(e.style.style),a=n.encode(e.style.weight),o+=4+s.length+4+a.length);const l=new ArrayBuffer(o),c=new Uint8Array(l),u=new DataView(l);let d=0;u.setUint8(d++,e.guessFallback?1:0),u.setUint32(d,0),d+=4,i=0;for(const f of gp.strings){const p=r[f],g=p.length;i+=4+g,u.setUint32(d,g),c.set(p,d+4),d+=4+g}return u.setUint32(d-i-4,i),e.style&&(u.setUint32(d,s.length),c.set(s,d+4),d+=4+s.length,u.setUint32(d,a.length),c.set(a,d+4),d+=4+a.length),De(d<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(d)}get guessFallback(){return h(this,Ba).getUint8(0)!==0}get css(){return D(this,Jh,Fy).call(this,0)}get loadedName(){return D(this,Jh,Fy).call(this,1)}get baseFontName(){return D(this,Jh,Fy).call(this,2)}get src(){return D(this,Jh,Fy).call(this,3)}get style(){let e=1;e+=4+h(this,Ba).getUint32(e);const n=h(this,Ba).getUint32(e),r=h(this,Yh).decode(new Uint8Array(h(this,Vc),e+4,n));e+=4+n;const i=h(this,Ba).getUint32(e),s=h(this,Yh).decode(new Uint8Array(h(this,Vc),e+4,i));return{style:r,weight:s}}};Vc=new WeakMap,Ba=new WeakMap,Yh=new WeakMap,Jh=new WeakSet,Fy=function(e){De(e<gp.strings.length,"Invalid string index");let n=5;for(let i=0;i<e;i++)n+=h(this,Ba).getUint32(n)+4;const r=h(this,Ba).getUint32(n);return h(this,Yh).decode(new Uint8Array(h(this,Vc),n+4,r))},q(gp,"strings",["css","loadedName","baseFontName","src"]);let QS=gp;var rm,im,sm,am,bi,$a,X0,Qe,Ht,$s,R1,By;const _e=class _e{constructor({data:e,extra:n}){I(this,Ht);I(this,$a);I(this,X0);I(this,Qe);_(this,$a,e),_(this,X0,new TextDecoder),_(this,Qe,new DataView(h(this,$a))),n&&Object.assign(this,n)}get black(){return D(this,Ht,$s).call(this,0)}get bold(){return D(this,Ht,$s).call(this,1)}get disableFontFace(){return D(this,Ht,$s).call(this,2)}get fontExtraProperties(){return D(this,Ht,$s).call(this,3)}get isInvalidPDFjsFont(){return D(this,Ht,$s).call(this,4)}get isType3Font(){return D(this,Ht,$s).call(this,5)}get italic(){return D(this,Ht,$s).call(this,6)}get missingFile(){return D(this,Ht,$s).call(this,7)}get remeasure(){return D(this,Ht,$s).call(this,8)}get vertical(){return D(this,Ht,$s).call(this,9)}get ascent(){return D(this,Ht,R1).call(this,0)}get defaultWidth(){return D(this,Ht,R1).call(this,1)}get descent(){return D(this,Ht,R1).call(this,2)}get bbox(){let e=h(_e,im);if(h(this,Qe).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<4;i++)r.push(h(this,Qe).getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=h(_e,sm);if(h(this,Qe).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<6;i++)r.push(h(this,Qe).getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=h(_e,am);if(h(this,Qe).getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<3;i++)r.push(h(this,Qe).getInt16(e,!0)),e+=2;return r}get fallbackName(){return D(this,Ht,By).call(this,0)}get loadedName(){return D(this,Ht,By).call(this,1)}get mimetype(){return D(this,Ht,By).call(this,2)}get name(){return D(this,Ht,By).call(this,3)}get data(){let e=h(_e,bi);const n=h(this,Qe).getUint32(e);e+=4+n;const r=h(this,Qe).getUint32(e);e+=4+r;const i=h(this,Qe).getUint32(e);e+=4+i;const s=h(this,Qe).getUint32(e);if(s!==0)return new Uint8Array(h(this,$a),e+4,s)}clearData(){let e=h(_e,bi);const n=h(this,Qe).getUint32(e);e+=4+n;const r=h(this,Qe).getUint32(e);e+=4+r;const i=h(this,Qe).getUint32(e);e+=4+i;const s=h(this,Qe).getUint32(e);new Uint8Array(h(this,$a),e+4,s).fill(0),h(this,Qe).setUint32(e,0)}get cssFontInfo(){let e=h(_e,bi);const n=h(this,Qe).getUint32(e);e+=4+n;const r=h(this,Qe).getUint32(e);e+=4+r;const i=h(this,Qe).getUint32(e);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(h(this,$a),e+4,i)),new ZS(s.buffer)}get systemFontInfo(){let e=h(_e,bi);const n=h(this,Qe).getUint32(e);e+=4+n;const r=h(this,Qe).getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(h(this,$a),e+4,r)),new QS(i.buffer)}static write(e){const n=e.systemFontInfo?QS.write(e.systemFontInfo):null,r=e.cssFontInfo?ZS.write(e.cssFontInfo):null,i=new TextEncoder,s={};let a=0;for(const y of _e.strings)s[y]=i.encode(e[y]),a+=4+s[y].length;const o=h(_e,bi)+4+a+4+(n?n.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(o),c=new Uint8Array(l),u=new DataView(l);let d=0;const f=_e.bools.length;let p=0,g=0;for(let y=0;y<f;y++){const b=e[_e.bools[y]];p|=(b===void 0?0:b?2:1)<<g,g+=2,(g===8||y===f-1)&&(u.setUint8(d++,p),p=0,g=0)}De(d===h(_e,rm),"FontInfo.write: Boolean properties offset mismatch");for(const y of _e.numbers)u.setFloat64(d,e[y]),d+=8;if(De(d===h(_e,im),"FontInfo.write: Number properties offset mismatch"),e.bbox){u.setUint8(d++,4);for(const y of e.bbox)u.setInt16(d,y,!0),d+=2}else u.setUint8(d++,0),d+=2*4;if(De(d===h(_e,sm),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){u.setUint8(d++,6);for(const y of e.fontMatrix)u.setFloat64(d,y,!0),d+=8}else u.setUint8(d++,0),d+=8*6;if(De(d===h(_e,am),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){u.setUint8(d++,1);for(const y of e.defaultVMetrics)u.setInt16(d,y,!0),d+=2}else u.setUint8(d++,0),d+=3*2;De(d===h(_e,bi),"FontInfo.write: DefaultVMetrics properties offset mismatch"),u.setUint32(h(_e,bi),0),d+=4;for(const y of _e.strings){const b=s[y],v=b.length;u.setUint32(d,v),c.set(b,d+4),d+=4+v}if(u.setUint32(h(_e,bi),d-h(_e,bi)-4),!n)u.setUint32(d,0),d+=4;else{const y=n.byteLength;u.setUint32(d,y),De(d+4+y<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),c.set(new Uint8Array(n),d+4),d+=4+y}if(!r)u.setUint32(d,0),d+=4;else{const y=r.byteLength;u.setUint32(d,y),De(d+4+y<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),c.set(new Uint8Array(r),d+4),d+=4+y}return e.data===void 0?(u.setUint32(d,0),d+=4):(u.setUint32(d,e.data.length),c.set(e.data,d+4),d+=4+e.data.length),De(d<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(d)}};rm=new WeakMap,im=new WeakMap,sm=new WeakMap,am=new WeakMap,bi=new WeakMap,$a=new WeakMap,X0=new WeakMap,Qe=new WeakMap,Ht=new WeakSet,$s=function(e){De(e<_e.bools.length,"Invalid boolean index");const n=Math.floor(e/4),r=e*2%8,i=h(this,Qe).getUint8(n)>>r&3;return i===0?void 0:i===2},R1=function(e){return De(e<_e.numbers.length,"Invalid number index"),h(this,Qe).getFloat64(h(_e,rm)+e*8)},By=function(e){De(e<_e.strings.length,"Invalid string index");let n=h(_e,bi)+4;for(let s=0;s<e;s++)n+=h(this,Qe).getUint32(n)+4;const r=h(this,Qe).getUint32(n),i=new Uint8Array(r);return i.set(new Uint8Array(h(this,$a),n+4,r)),h(this,X0).decode(i)},q(_e,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),q(_e,"numbers",["ascent","defaultWidth","descent"]),q(_e,"strings",["fallbackName","loadedName","mimetype","name"]),I(_e,rm,Math.ceil(_e.bools.length*2/8)),I(_e,im,h(_e,rm)+_e.numbers.length*8),I(_e,sm,h(_e,im)+1+2*4),I(_e,am,h(_e,sm)+1+8*6),I(_e,bi,h(_e,am)+1+2*3);let rI=_e;var Y0,J0,Z0,Q0,eb,tb,nb,rb;const dt=class dt{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let n,r=null,i=[],s=[],a=[],o=[],l=null,c=null;switch(e[0]){case"RadialAxial":n=e[1]==="axial"?1:2,r=e[2],a=e[3],n===1?i.push(...e[4],...e[5]):i.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":n=3,l=e[1],i=e[2],s=e[3],o=e[4]||[],r=e[6],c=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const u=Math.floor(i.length/2),d=Math.floor(s.length/3),f=a.length,p=o.length;let g=0;for(const P of o)g+=1,g=Math.ceil(g/4)*4,g+=4+P.coords.length*4,g+=4+P.colors.length*4,P.verticesPerRow!==void 0&&(g+=4);const y=20+u*8+d*3+f*8+(r?16:0)+(c?3:0)+g,b=new ArrayBuffer(y),v=new DataView(b),S=new Uint8Array(b);v.setUint8(h(dt,Y0),n),v.setUint8(h(dt,J0),r?1:0),v.setUint8(h(dt,Z0),c?1:0),v.setUint8(h(dt,Q0),l),v.setUint32(h(dt,eb),u,!0),v.setUint32(h(dt,tb),d,!0),v.setUint32(h(dt,nb),f,!0),v.setUint32(h(dt,rb),p,!0);let w=20;new Float32Array(b,w,u*2).set(i),w+=u*8,S.set(s,w),w+=d*3;for(const[P,O]of a)v.setFloat32(w,P,!0),w+=4,v.setUint32(w,parseInt(O.slice(1),16),!0),w+=4;if(r)for(const P of r)v.setFloat32(w,P,!0),w+=4;c&&(S.set(c,w),w+=3);for(let P=0;P<o.length;P++){const O=o[P];v.setUint8(w,O.type),w+=1,w=Math.ceil(w/4)*4,v.setUint32(w,O.coords.length,!0),w+=4,new Int32Array(b,w,O.coords.length).set(O.coords),w+=O.coords.length*4,v.setUint32(w,O.colors.length,!0),w+=4,new Int32Array(b,w,O.colors.length).set(O.colors),w+=O.colors.length*4,O.verticesPerRow!==void 0&&(v.setUint32(w,O.verticesPerRow,!0),w+=4)}return b}getIR(){const e=this.view,n=this.data[h(dt,Y0)],r=!!this.data[h(dt,J0)],i=!!this.data[h(dt,Z0)],s=e.getUint32(h(dt,eb),!0),a=e.getUint32(h(dt,tb),!0),o=e.getUint32(h(dt,nb),!0),l=e.getUint32(h(dt,rb),!0);let c=20;const u=new Float32Array(this.buffer,c,s*2);c+=s*8;const d=new Uint8Array(this.buffer,c,a*3);c+=a*3;const f=[];for(let b=0;b<o;++b){const v=e.getFloat32(c,!0);c+=4;const S=e.getUint32(c,!0);c+=4,f.push([v,`#${S.toString(16).padStart(6,"0")}`])}let p=null;if(r){p=[];for(let b=0;b<4;++b)p.push(e.getFloat32(c,!0)),c+=4}let g=null;i&&(g=new Uint8Array(this.buffer,c,3),c+=3);const y=[];for(let b=0;b<l;++b){const v=e.getUint8(c);c+=1,c=Math.ceil(c/4)*4;const S=e.getUint32(c,!0);c+=4;const w=new Int32Array(this.buffer,c,S);c+=S*4;const T=e.getUint32(c,!0);c+=4;const P=new Int32Array(this.buffer,c,T);c+=T*4;const O={type:v,coords:w,colors:P};v===Rk.LATTICE&&(O.verticesPerRow=e.getUint32(c,!0),c+=4),y.push(O)}if(n===1)return["RadialAxial","axial",p,f,Array.from(u.slice(0,2)),Array.from(u.slice(2,4)),null,null];if(n===2)return["RadialAxial","radial",p,f,[u[0],u[1]],[u[3],u[4]],u[2],u[5]];if(n===3){const b=this.data[h(dt,Q0)];let v=null;if(u.length>0){let S=u[0],w=u[0],T=u[1],P=u[1];for(let O=0;O<u.length;O+=2){const C=u[O],k=u[O+1];S=S>C?C:S,T=T>k?k:T,w=w<C?C:w,P=P<k?k:P}v=[S,T,w,P]}return["Mesh",b,u,d,y,v,p,g]}throw new Error(`Unsupported pattern kind: ${n}`)}};Y0=new WeakMap,J0=new WeakMap,Z0=new WeakMap,Q0=new WeakMap,eb=new WeakMap,tb=new WeakMap,nb=new WeakMap,rb=new WeakMap,I(dt,Y0,0),I(dt,J0,1),I(dt,Z0,2),I(dt,Q0,3),I(dt,eb,4),I(dt,tb,8),I(dt,nb,12),I(dt,rb,16);let iI=dt;function Vie(t){if(t instanceof URL)return t.href;if(typeof t=="string"){if(Nr)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function zie(t){if(Nr&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return bw(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Nx(t){if(typeof t!="string")return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const sI=t=>typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0,Hie=t=>typeof t=="object"&&typeof(t==null?void 0:t.name)=="string",Wie=Eie.bind(null,sI,Hie);var Vo,b_;class Gie{constructor(){I(this,Vo,new Map);I(this,b_,Promise.resolve())}postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};h(this,b_).then(()=>{for(const[i]of h(this,Vo))i.call(this,r)})}addEventListener(e,n,r=null){let i=null;if((r==null?void 0:r.signal)instanceof AbortSignal){const{signal:s}=r;if(s.aborted){be("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,n);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}h(this,Vo).set(n,i)}removeEventListener(e,n){const r=h(this,Vo).get(n);r==null||r(),h(this,Vo).delete(n)}terminate(){for(const[,e]of h(this,Vo))e==null||e();h(this,Vo).clear()}}Vo=new WeakMap,b_=new WeakMap;const Rx={DATA:1,ERROR:2},tn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function r3(){}function Xr(t){if(t instanceof Nu||t instanceof Lk||t instanceof XF||t instanceof qS||t instanceof AT)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||ut('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Nu(t.message);case"InvalidPDFException":return new Lk(t.message);case"PasswordException":return new XF(t.message,t.code);case"ResponseException":return new qS(t.message,t.status,t.missing);case"UnknownErrorException":return new AT(t.message,t.details)}return new AT(t.message,t.toString())}var om,Cs,dH,fH,pH,L1;class $y{constructor(e,n,r){I(this,Cs);I(this,om,new AbortController);this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",D(this,Cs,dH).bind(this),{signal:h(this,om).signal})}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,n,r,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:n,desiredSize:c.desiredSize},i),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,l.postMessage({sourceName:a,targetName:o,stream:tn.PULL,streamId:s,desiredSize:c.desiredSize}),u.promise},cancel:c=>{De(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:tn.CANCEL,streamId:s,reason:Xr(c)}),u.promise}},r)}destroy(){var e;(e=h(this,om))==null||e.abort(),_(this,om,null)}}om=new WeakMap,Cs=new WeakSet,dH=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){D(this,Cs,pH).call(this,e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===Rx.DATA)i.resolve(e.data);else if(e.callback===Rx.ERROR)i.reject(Xr(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(n,e.data).then(function(a){s.postMessage({sourceName:r,targetName:i,callback:Rx.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:r,targetName:i,callback:Rx.ERROR,callbackId:e.callbackId,reason:Xr(a)})});return}if(e.streamId){D(this,Cs,fH).call(this,e);return}n(e.data)},fH=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(c,u=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=u,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:tn.ENQUEUE,streamId:n,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:tn.CLOSE,streamId:n}),delete a.streamSinks[n])},error(c){De(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:tn.ERROR,streamId:n,reason:Xr(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[n]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:tn.START_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:tn.START_COMPLETE,streamId:n,reason:Xr(c)})})},pH=function(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[n],o=this.streamSinks[n];switch(e.stream){case tn.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Xr(e.reason));break;case tn.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Xr(e.reason));break;case tn.PULL:if(!o){s.postMessage({sourceName:r,targetName:i,stream:tn.PULL_COMPLETE,streamId:n,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||r3).then(function(){s.postMessage({sourceName:r,targetName:i,stream:tn.PULL_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:tn.PULL_COMPLETE,streamId:n,reason:Xr(c)})});break;case tn.ENQUEUE:if(De(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case tn.CLOSE:if(De(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),D(this,Cs,L1).call(this,a,n);break;case tn.ERROR:De(a,"error should have stream controller"),a.controller.error(Xr(e.reason)),D(this,Cs,L1).call(this,a,n);break;case tn.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Xr(e.reason)),D(this,Cs,L1).call(this,a,n);break;case tn.CANCEL:if(!o)break;const l=Xr(e.reason);Promise.try(o.onCancel||r3,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:tn.CANCEL_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:tn.CANCEL_COMPLETE,streamId:n,reason:Xr(c)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},L1=async function(e,n){var r,i,s;await Promise.allSettled([(r=e.startCall)==null?void 0:r.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[n]};var ib;class mH{constructor({enableHWA:e=!1}){I(this,ib,!1);_(this,ib,e)}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!h(this,ib)})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){ut("Abstract method `_createCanvas` called.")}}ib=new WeakMap;class Kie extends mH{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}class gH{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){ut("Abstract method `_fetch` called.")}}class i3 extends gH{async _fetch(e){const n=await ww(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):bw(n)}}class yH{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,s){return"none"}destroy(e=!1){}}var Zh,lm,zo,Ho,yr,Qh,ed,re,fr,Uy,Bf,j1,$f,vH,aI,Uf,Vy,zy,oI,Hy;class qie extends yH{constructor({docId:n,ownerDocument:r=globalThis.document}){super();I(this,re);I(this,Zh);I(this,lm);I(this,zo);I(this,Ho);I(this,yr);I(this,Qh);I(this,ed,0);_(this,Ho,n),_(this,yr,r)}addFilter(n){if(!n)return"none";let r=h(this,re,fr).get(n);if(r)return r;const[i,s,a]=D(this,re,j1).call(this,n),o=n.length===1?i:`${i}${s}${a}`;if(r=h(this,re,fr).get(o),r)return h(this,re,fr).set(n,r),r;const l=`g_${h(this,Ho)}_transfer_map_${fn(this,ed)._++}`,c=D(this,re,$f).call(this,l);h(this,re,fr).set(n,c),h(this,re,fr).set(o,c);const u=D(this,re,Uf).call(this,l);return D(this,re,zy).call(this,i,s,a,u),c}addHCMFilter(n,r){var g;const i=`${n}-${r}`,s="base";let a=h(this,re,Uy).get(s);if((a==null?void 0:a.key)===i||(a?((g=a.filter)==null||g.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},h(this,re,Uy).set(s,a)),!n||!r))return a.url;const o=D(this,re,Hy).call(this,n);n=ae.makeHexColor(...o);const l=D(this,re,Hy).call(this,r);if(r=ae.makeHexColor(...l),h(this,re,Bf).style.color="",n==="#000000"&&r==="#ffffff"||n===r)return a.url;const c=new Array(256);for(let y=0;y<=255;y++){const b=y/255;c[y]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const u=c.join(","),d=`g_${h(this,Ho)}_hcm_filter`,f=a.filter=D(this,re,Uf).call(this,d);D(this,re,zy).call(this,u,u,u,f),D(this,re,aI).call(this,f);const p=(y,b)=>{const v=o[y]/255,S=l[y]/255,w=new Array(b+1);for(let T=0;T<=b;T++)w[T]=v+T/b*(S-v);return w.join(",")};return D(this,re,zy).call(this,p(0,5),p(1,5),p(2,5),f),a.url=D(this,re,$f).call(this,d),a.url}addAlphaFilter(n){let r=h(this,re,fr).get(n);if(r)return r;const[i]=D(this,re,j1).call(this,[n]),s=`alpha_${i}`;if(r=h(this,re,fr).get(s),r)return h(this,re,fr).set(n,r),r;const a=`g_${h(this,Ho)}_alpha_map_${fn(this,ed)._++}`,o=D(this,re,$f).call(this,a);h(this,re,fr).set(n,o),h(this,re,fr).set(s,o);const l=D(this,re,Uf).call(this,a);return D(this,re,oI).call(this,i,l),o}addLuminosityFilter(n){let r=h(this,re,fr).get(n||"luminosity");if(r)return r;let i,s;if(n?([i]=D(this,re,j1).call(this,[n]),s=`luminosity_${i}`):s="luminosity",r=h(this,re,fr).get(s),r)return h(this,re,fr).set(n,r),r;const a=`g_${h(this,Ho)}_luminosity_map_${fn(this,ed)._++}`,o=D(this,re,$f).call(this,a);h(this,re,fr).set(n,o),h(this,re,fr).set(s,o);const l=D(this,re,Uf).call(this,a);return D(this,re,vH).call(this,l),n&&D(this,re,oI).call(this,i,l),o}addHighlightHCMFilter(n,r,i,s,a){var S;const o=`${r}-${i}-${s}-${a}`;let l=h(this,re,Uy).get(n);if((l==null?void 0:l.key)===o||(l?((S=l.filter)==null||S.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},h(this,re,Uy).set(n,l)),!r||!i))return l.url;const[c,u]=[r,i].map(D(this,re,Hy).bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),f=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[p,g]=[s,a].map(D(this,re,Hy).bind(this));f<d&&([d,f,p,g]=[f,d,g,p]),h(this,re,Bf).style.color="";const y=(w,T,P)=>{const O=new Array(256),C=(f-d)/P,k=w/255,N=(T-w)/(255*P);let L=0;for(let R=0;R<=P;R++){const B=Math.round(d+R*C),j=k+R*N;for(let G=L;G<=B;G++)O[G]=j;L=B+1}for(let R=L;R<256;R++)O[R]=O[L-1];return O.join(",")},b=`g_${h(this,Ho)}_hcm_${n}_filter`,v=l.filter=D(this,re,Uf).call(this,b);return D(this,re,aI).call(this,v),D(this,re,zy).call(this,y(p[0],g[0],5),y(p[1],g[1],5),y(p[2],g[2],5),v),l.url=D(this,re,$f).call(this,b),l.url}destroy(n=!1){var r,i,s,a;n&&((r=h(this,Qh))!=null&&r.size)||((i=h(this,zo))==null||i.parentNode.parentNode.remove(),_(this,zo,null),(s=h(this,lm))==null||s.clear(),_(this,lm,null),(a=h(this,Qh))==null||a.clear(),_(this,Qh,null),_(this,ed,0))}}Zh=new WeakMap,lm=new WeakMap,zo=new WeakMap,Ho=new WeakMap,yr=new WeakMap,Qh=new WeakMap,ed=new WeakMap,re=new WeakSet,fr=function(){return h(this,lm)||_(this,lm,new Map)},Uy=function(){return h(this,Qh)||_(this,Qh,new Map)},Bf=function(){if(!h(this,zo)){const n=h(this,yr).createElement("div"),{style:r}=n;r.visibility="hidden",r.contain="strict",r.width=r.height=0,r.position="absolute",r.top=r.left=0,r.zIndex=-1;const i=h(this,yr).createElementNS(Ao,"svg");i.setAttribute("width",0),i.setAttribute("height",0),_(this,zo,h(this,yr).createElementNS(Ao,"defs")),n.append(i),i.append(h(this,zo)),h(this,yr).body.append(n)}return h(this,zo)},j1=function(n){if(n.length===1){const c=n[0],u=new Array(256);for(let f=0;f<256;f++)u[f]=c[f]/255;const d=u.join(",");return[d,d,d]}const[r,i,s]=n,a=new Array(256),o=new Array(256),l=new Array(256);for(let c=0;c<256;c++)a[c]=r[c]/255,o[c]=i[c]/255,l[c]=s[c]/255;return[a.join(","),o.join(","),l.join(",")]},$f=function(n){if(h(this,Zh)===void 0){_(this,Zh,"");const r=h(this,yr).URL;r!==h(this,yr).baseURI&&(tE(r)?be('#createUrl: ignore "data:"-URL for performance reasons.'):_(this,Zh,Ez(r,"")))}return`url(${h(this,Zh)}#${n})`},vH=function(n){const r=h(this,yr).createElementNS(Ao,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(r)},aI=function(n){const r=h(this,yr).createElementNS(Ao,"feColorMatrix");r.setAttribute("type","matrix"),r.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(r)},Uf=function(n){const r=h(this,yr).createElementNS(Ao,"filter");return r.setAttribute("color-interpolation-filters","sRGB"),r.setAttribute("id",n),h(this,re,Bf).append(r),r},Vy=function(n,r,i){const s=h(this,yr).createElementNS(Ao,r);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),n.append(s)},zy=function(n,r,i,s){const a=h(this,yr).createElementNS(Ao,"feComponentTransfer");s.append(a),D(this,re,Vy).call(this,a,"feFuncR",n),D(this,re,Vy).call(this,a,"feFuncG",r),D(this,re,Vy).call(this,a,"feFuncB",i)},oI=function(n,r){const i=h(this,yr).createElementNS(Ao,"feComponentTransfer");r.append(i),D(this,re,Vy).call(this,i,"feFuncA",n)},Hy=function(n){return h(this,re,Bf).style.color=n,Sw(getComputedStyle(h(this,re,Bf)).getPropertyValue("color"))};class bH{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){ut("Abstract method `_fetch` called.")}}class s3 extends bH{async _fetch(e){const n=await ww(e,"arraybuffer");return new Uint8Array(n)}}class wH{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(e){ut("Abstract method `_fetch` called.")}}class a3 extends wH{async _fetch(e){const n=await ww(e,"arraybuffer");return new Uint8Array(n)}}Nr&&be("Please use the `legacy` build in Node.js environments.");async function QM(t){const n=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(n)}class Xie extends yH{}class Yie extends mH{_createCanvas(e,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,n)}}class Jie extends gH{async _fetch(e){return QM(e)}}class Zie extends bH{async _fetch(e){return QM(e)}}class Qie extends wH{async _fetch(e){return QM(e)}}const Df="__forcedDependency",{floor:o3,ceil:l3}=Math;function Lx(t,e,n,r,i,s){t[e*4+0]=Math.min(t[e*4+0],n),t[e*4+1]=Math.min(t[e*4+1],r),t[e*4+2]=Math.max(t[e*4+2],i),t[e*4+3]=Math.max(t[e*4+3],s)}const lI=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var cm,zc;class ese{constructor(e,n){I(this,cm);I(this,zc);_(this,cm,e),_(this,zc,n)}get length(){return h(this,cm).length}isEmpty(e){return h(this,cm)[e]===lI}minX(e){return h(this,zc)[e*4+0]/256}minY(e){return h(this,zc)[e*4+1]/256}maxX(e){return(h(this,zc)[e*4+2]+1)/256}maxY(e){return(h(this,zc)[e*4+3]+1)/256}}cm=new WeakMap,zc=new WeakMap;const jx=(t,e)=>{if(!t)return;let n=t.get(e);return n||(n={dependencies:new Set,isRenderingOperation:!1},t.set(e,n)),n};var Zr,Qr,td,Ks,nd,Wo,Ge,et,Go,ei,sb,um,rd,id,Ko,vr,Ua,ab,cI;class tse{constructor(e,n,r=!1){I(this,ab);I(this,Zr,{__proto__:null});I(this,Qr,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Df]:[]});I(this,td,new Map);I(this,Ks,[]);I(this,nd,[]);I(this,Wo,[[1,0,0,1,0,0]]);I(this,Ge,[-1/0,-1/0,1/0,1/0]);I(this,et,new Float64Array([1/0,1/0,-1/0,-1/0]));I(this,Go,-1);I(this,ei,new Set);I(this,sb,new Map);I(this,um,new Map);I(this,rd);I(this,id);I(this,Ko);I(this,vr);I(this,Ua);_(this,rd,e.width),_(this,id,e.height),D(this,ab,cI).call(this,n),r&&_(this,Ua,new Map)}growOperationsCount(e){e>=h(this,vr).length&&D(this,ab,cI).call(this,e,h(this,vr))}save(e){return _(this,Zr,{__proto__:h(this,Zr)}),_(this,Qr,{__proto__:h(this,Qr),transform:{__proto__:h(this,Qr).transform},moveText:{__proto__:h(this,Qr).moveText},sameLineText:{__proto__:h(this,Qr).sameLineText},[Df]:{__proto__:h(this,Qr)[Df]}}),_(this,Ge,{__proto__:h(this,Ge)}),h(this,Ks).push(e),this}restore(e){var i;const n=Object.getPrototypeOf(h(this,Zr));if(n===null)return this;_(this,Zr,n),_(this,Qr,Object.getPrototypeOf(h(this,Qr))),_(this,Ge,Object.getPrototypeOf(h(this,Ge)));const r=h(this,Ks).pop();return r!==void 0&&((i=jx(h(this,Ua),e))==null||i.dependencies.add(r),h(this,vr)[e]=h(this,vr)[r]),this}recordOpenMarker(e){return h(this,Ks).push(e),this}getOpenMarker(){return h(this,Ks).length===0?null:h(this,Ks).at(-1)}recordCloseMarker(e){var r;const n=h(this,Ks).pop();return n!==void 0&&((r=jx(h(this,Ua),e))==null||r.dependencies.add(n),h(this,vr)[e]=h(this,vr)[n]),this}beginMarkedContent(e){return h(this,nd).push(e),this}endMarkedContent(e){var r;const n=h(this,nd).pop();return n!==void 0&&((r=jx(h(this,Ua),e))==null||r.dependencies.add(n),h(this,vr)[e]=h(this,vr)[n]),this}pushBaseTransform(e){return h(this,Wo).push(ae.multiplyByDOMMatrix(h(this,Wo).at(-1),e.getTransform())),this}popBaseTransform(){return h(this,Wo).length>1&&h(this,Wo).pop(),this}recordSimpleData(e,n){return h(this,Zr)[e]=n,this}recordIncrementalData(e,n){return h(this,Qr)[e].push(n),this}resetIncrementalData(e,n){return h(this,Qr)[e].length=0,this}recordNamedData(e,n){return h(this,td).set(e,n),this}recordSimpleDataFromNamed(e,n,r){h(this,Zr)[e]=h(this,td).get(n)??r}recordFutureForcedDependency(e,n){return this.recordIncrementalData(Df,n),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const n of e)n in h(this,Zr)&&this.recordFutureForcedDependency(n,h(this,Zr)[n]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of h(this,ei))this.recordFutureForcedDependency(Df,e);return this}resetBBox(e){return h(this,Go)!==e&&(_(this,Go,e),h(this,et)[0]=1/0,h(this,et)[1]=1/0,h(this,et)[2]=-1/0,h(this,et)[3]=-1/0),this}recordClipBox(e,n,r,i,s,a){const o=ae.multiplyByDOMMatrix(h(this,Wo).at(-1),n.getTransform()),l=[1/0,1/0,-1/0,-1/0];ae.axialAlignedBoundingBox([r,s,i,a],o,l);const c=ae.intersect(h(this,Ge),l);return c?(h(this,Ge)[0]=c[0],h(this,Ge)[1]=c[1],h(this,Ge)[2]=c[2],h(this,Ge)[3]=c[3]):(h(this,Ge)[0]=h(this,Ge)[1]=1/0,h(this,Ge)[2]=h(this,Ge)[3]=-1/0),this}recordBBox(e,n,r,i,s,a){const o=h(this,Ge);if(o[0]===1/0)return this;const l=ae.multiplyByDOMMatrix(h(this,Wo).at(-1),n.getTransform());if(o[0]===-1/0)return ae.axialAlignedBoundingBox([r,s,i,a],l,h(this,et)),this;const c=[1/0,1/0,-1/0,-1/0];return ae.axialAlignedBoundingBox([r,s,i,a],l,c),h(this,et)[0]=Math.min(h(this,et)[0],Math.max(c[0],o[0])),h(this,et)[1]=Math.min(h(this,et)[1],Math.max(c[1],o[1])),h(this,et)[2]=Math.max(h(this,et)[2],Math.min(c[2],o[2])),h(this,et)[3]=Math.max(h(this,et)[3],Math.min(c[3],o[3])),this}recordCharacterBBox(e,n,r,i=1,s=0,a=0,o){const l=r.bbox;let c,u;if(l&&(c=l[2]!==l[0]&&l[3]!==l[1]&&h(this,um).get(r),c!==!1&&(u=[0,0,0,0],ae.axialAlignedBoundingBox(l,r.fontMatrix,u),(i!==1||s!==0||a!==0)&&ae.scaleMinMax([i,0,0,-i,s,a],u),c)))return this.recordBBox(e,n,u[0],u[2],u[1],u[3]);if(!o)return this.recordFullPageBBox(e);const d=o();return l&&u&&c===void 0&&(c=u[0]<=s-d.actualBoundingBoxLeft&&u[2]>=s+d.actualBoundingBoxRight&&u[1]<=a-d.actualBoundingBoxAscent&&u[3]>=a+d.actualBoundingBoxDescent,h(this,um).set(r,c),c)?this.recordBBox(e,n,u[0],u[2],u[1],u[3]):this.recordBBox(e,n,s-d.actualBoundingBoxLeft,s+d.actualBoundingBoxRight,a-d.actualBoundingBoxAscent,a+d.actualBoundingBoxDescent)}recordFullPageBBox(e){return h(this,et)[0]=Math.max(0,h(this,Ge)[0]),h(this,et)[1]=Math.max(0,h(this,Ge)[1]),h(this,et)[2]=Math.min(h(this,rd),h(this,Ge)[2]),h(this,et)[3]=Math.min(h(this,id),h(this,Ge)[3]),this}getSimpleIndex(e){return h(this,Zr)[e]}recordDependencies(e,n){const r=h(this,ei),i=h(this,Zr),s=h(this,Qr);for(const a of n)a in h(this,Zr)?r.add(i[a]):a in s&&s[a].forEach(r.add,r);return this}recordNamedDependency(e,n){return h(this,td).has(n)&&h(this,ei).add(h(this,td).get(n)),this}recordOperation(e,n=!1){if(this.recordDependencies(e,[Df]),h(this,Ua)){const r=jx(h(this,Ua),e),{dependencies:i}=r;h(this,ei).forEach(i.add,i),h(this,Ks).forEach(i.add,i),h(this,nd).forEach(i.add,i),i.delete(e),r.isRenderingOperation=!0}if(h(this,Go)===e){const r=o3(h(this,et)[0]*256/h(this,rd)),i=o3(h(this,et)[1]*256/h(this,id)),s=l3(h(this,et)[2]*256/h(this,rd)),a=l3(h(this,et)[3]*256/h(this,id));Lx(h(this,Ko),e,r,i,s,a);for(const o of h(this,ei))o!==e&&Lx(h(this,Ko),o,r,i,s,a);for(const o of h(this,Ks))o!==e&&Lx(h(this,Ko),o,r,i,s,a);for(const o of h(this,nd))o!==e&&Lx(h(this,Ko),o,r,i,s,a);n||(h(this,ei).clear(),_(this,Go,-1))}return this}recordShowTextOperation(e,n=!1){const r=Array.from(h(this,ei));this.recordOperation(e,n),this.recordIncrementalData("sameLineText",e);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,n=!1){return h(this,Go)===e&&(_(this,Go,-1),h(this,Ge)[0]=Math.max(h(this,Ge)[0],h(this,et)[0]),h(this,Ge)[1]=Math.max(h(this,Ge)[1],h(this,et)[1]),h(this,Ge)[2]=Math.min(h(this,Ge)[2],h(this,et)[2]),h(this,Ge)[3]=Math.min(h(this,Ge)[3],h(this,et)[3]),n||h(this,ei).clear()),this}_takePendingDependencies(){const e=h(this,ei);return _(this,ei,new Set),e}_extractOperation(e){const n=h(this,sb).get(e);return h(this,sb).delete(e),n}_pushPendingDependencies(e){for(const n of e)h(this,ei).add(n)}take(){return h(this,um).clear(),new ese(h(this,vr),h(this,Ko))}takeDebugMetadata(){return h(this,Ua)}}Zr=new WeakMap,Qr=new WeakMap,td=new WeakMap,Ks=new WeakMap,nd=new WeakMap,Wo=new WeakMap,Ge=new WeakMap,et=new WeakMap,Go=new WeakMap,ei=new WeakMap,sb=new WeakMap,um=new WeakMap,rd=new WeakMap,id=new WeakMap,Ko=new WeakMap,vr=new WeakMap,Ua=new WeakMap,ab=new WeakSet,cI=function(e,n){const r=new ArrayBuffer(e*4);_(this,Ko,new Uint8ClampedArray(r)),_(this,vr,new Uint32Array(r)),n&&n.length>0?(h(this,vr).set(n),h(this,vr).fill(lI,n.length)):h(this,vr).fill(lI)};var ot,$t,qs,hm,dm;const SR=class SR{constructor(e,n,r){I(this,ot);I(this,$t);I(this,qs);I(this,hm,0);I(this,dm,0);if(e instanceof SR&&h(e,qs)===!!r)return e;_(this,ot,e),_(this,$t,n),_(this,qs,!!r)}growOperationsCount(){throw new Error("Unreachable")}save(e){return fn(this,dm)._++,h(this,ot).save(h(this,$t)),this}restore(e){return h(this,dm)>0&&(h(this,ot).restore(h(this,$t)),fn(this,dm)._--),this}recordOpenMarker(e){return fn(this,hm)._++,this}getOpenMarker(){return h(this,hm)>0?h(this,$t):h(this,ot).getOpenMarker()}recordCloseMarker(e){return fn(this,hm)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return h(this,ot).pushBaseTransform(e),this}popBaseTransform(){return h(this,ot).popBaseTransform(),this}recordSimpleData(e,n){return h(this,ot).recordSimpleData(e,h(this,$t)),this}recordIncrementalData(e,n){return h(this,ot).recordIncrementalData(e,h(this,$t)),this}resetIncrementalData(e,n){return h(this,ot).resetIncrementalData(e,h(this,$t)),this}recordNamedData(e,n){return this}recordSimpleDataFromNamed(e,n,r){return h(this,ot).recordSimpleDataFromNamed(e,n,h(this,$t)),this}recordFutureForcedDependency(e,n){return h(this,ot).recordFutureForcedDependency(e,h(this,$t)),this}inheritSimpleDataAsFutureForcedDependencies(e){return h(this,ot).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return h(this,ot).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return h(this,qs)||h(this,ot).resetBBox(h(this,$t)),this}recordClipBox(e,n,r,i,s,a){return h(this,qs)||h(this,ot).recordClipBox(h(this,$t),n,r,i,s,a),this}recordBBox(e,n,r,i,s,a){return h(this,qs)||h(this,ot).recordBBox(h(this,$t),n,r,i,s,a),this}recordCharacterBBox(e,n,r,i,s,a,o){return h(this,qs)||h(this,ot).recordCharacterBBox(h(this,$t),n,r,i,s,a,o),this}recordFullPageBBox(e){return h(this,qs)||h(this,ot).recordFullPageBBox(h(this,$t)),this}getSimpleIndex(e){return h(this,ot).getSimpleIndex(e)}recordDependencies(e,n){return h(this,ot).recordDependencies(h(this,$t),n),this}recordNamedDependency(e,n){return h(this,ot).recordNamedDependency(h(this,$t),n),this}recordOperation(e){return h(this,ot).recordOperation(h(this,$t),!0),this}recordShowTextOperation(e){return h(this,ot).recordShowTextOperation(h(this,$t),!0),this}bboxToClipBoxDropOperation(e){return h(this,qs)||h(this,ot).bboxToClipBoxDropOperation(h(this,$t),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};ot=new WeakMap,$t=new WeakMap,qs=new WeakMap,hm=new WeakMap,dm=new WeakMap;let eA=SR;const ts={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},tr={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function uI(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class eD{isModifyingCurrentTransform(){return!1}getPattern(){ut("Abstract method `getPattern` called.")}}class nse extends eD{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)n.addColorStop(r[0],r[1]);return n}getPattern(e,n,r,i){let s;if(i===tr.STROKE||i===tr.FILL){const a=n.current.getClippedPathBoundingBox(i,Mt(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,c=n.cachedCanvases.getCanvas("pattern",o,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-a[0],-a[1]),r=ae.transform(r,[1,0,0,1,a[0],a[1]]),u.transform(...n.baseTransform),this.matrix&&u.transform(...this.matrix),uI(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=e.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(r);s.setTransform(d)}else uI(e,this._bbox),s=this._createGradient(e);return s}}function PT(t,e,n,r,i,s,a,o){const l=e.coords,c=e.colors,u=t.data,d=t.width*4;let f;l[n+1]>l[r+1]&&(f=n,n=r,r=f,f=s,s=a,a=f),l[r+1]>l[i+1]&&(f=r,r=i,i=f,f=a,a=o,o=f),l[n+1]>l[r+1]&&(f=n,n=r,r=f,f=s,s=a,a=f);const p=(l[n]+e.offsetX)*e.scaleX,g=(l[n+1]+e.offsetY)*e.scaleY,y=(l[r]+e.offsetX)*e.scaleX,b=(l[r+1]+e.offsetY)*e.scaleY,v=(l[i]+e.offsetX)*e.scaleX,S=(l[i+1]+e.offsetY)*e.scaleY;if(g>=S)return;const w=c[s],T=c[s+1],P=c[s+2],O=c[a],C=c[a+1],k=c[a+2],N=c[o],L=c[o+1],R=c[o+2],B=Math.round(g),j=Math.round(S);let G,Z,J,W,V,H,ne,fe;for(let le=B;le<=j;le++){if(le<b){const ye=le<g?0:(g-le)/(g-b);G=p-(p-y)*ye,Z=w-(w-O)*ye,J=T-(T-C)*ye,W=P-(P-k)*ye}else{let ye;le>S?ye=1:b===S?ye=0:ye=(b-le)/(b-S),G=y-(y-v)*ye,Z=O-(O-N)*ye,J=C-(C-L)*ye,W=k-(k-R)*ye}let ge;le<g?ge=0:le>S?ge=1:ge=(g-le)/(g-S),V=p-(p-v)*ge,H=w-(w-N)*ge,ne=T-(T-L)*ge,fe=P-(P-R)*ge;const ke=Math.round(Math.min(G,V)),rt=Math.round(Math.max(G,V));let it=d*le+ke*4;for(let ye=ke;ye<=rt;ye++)ge=(G-ye)/(G-V),ge<0?ge=0:ge>1&&(ge=1),u[it++]=Z-(Z-H)*ge|0,u[it++]=J-(J-ne)*ge|0,u[it++]=W-(W-fe)*ge|0,u[it++]=255}}function rse(t,e,n){const r=e.coords,i=e.colors;let s,a;switch(e.type){case Rk.LATTICE:const o=e.verticesPerRow,l=Math.floor(r.length/o)-1,c=o-1;for(s=0;s<l;s++){let u=s*o;for(let d=0;d<c;d++,u++)PT(t,n,r[u],r[u+1],r[u+o],i[u],i[u+1],i[u+o]),PT(t,n,r[u+o+1],r[u+1],r[u+o],i[u+o+1],i[u+1],i[u+o])}break;case Rk.TRIANGLES:for(s=0,a=r.length;s<a;s+=3)PT(t,n,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class ise extends eD{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,n,r){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,u=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),p=c/d,g=u/f,y={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/p,scaleY:1/g},b=d+2*2,v=f+2*2,S=r.getCanvas("mesh",b,v),w=S.context,T=w.createImageData(d,f);if(n){const O=T.data;for(let C=0,k=O.length;C<k;C+=4)O[C]=n[0],O[C+1]=n[1],O[C+2]=n[2],O[C+3]=255}for(const O of this._figures)rse(T,O,y);return w.putImageData(T,2,2),{canvas:S.canvas,offsetX:o-2*p,offsetY:l-2*g,scaleX:p,scaleY:g}}isModifyingCurrentTransform(){return!0}getPattern(e,n,r,i){uI(e,this._bbox);const s=new Float32Array(2);if(i===tr.SHADING)ae.singularValueDecompose2dScale(Mt(e),s);else if(this.matrix){ae.singularValueDecompose2dScale(this.matrix,s);const[o,l]=s;ae.singularValueDecompose2dScale(n.baseTransform,s),s[0]*=o,s[1]*=l}else ae.singularValueDecompose2dScale(n.baseTransform,s);const a=this._createMeshCanvas(s,i===tr.SHADING?null:this._background,n.cachedCanvases);return i!==tr.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class sse extends eD{getPattern(){return"hotpink"}}function ase(t){switch(t[0]){case"RadialAxial":return new nse(t);case"Mesh":return new ise(t);case"Dummy":return new sse}throw new Error(`Unknown IR type: ${t[0]}`)}const c3={COLORED:1,UNCOLORED:2},w_=class w_{constructor(e,n,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e,n){var H,ne;const{bbox:r,operatorList:i,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:u}=this;c=Math.abs(c),u=Math.abs(u),eE("TilingType: "+a);const d=r[0],f=r[1],p=r[2],g=r[3],y=p-d,b=g-f,v=new Float32Array(2);ae.singularValueDecompose2dScale(this.matrix,v);const[S,w]=v;ae.singularValueDecompose2dScale(this.baseTransform,v);const T=S*v[0],P=w*v[1];let O=y,C=b,k=!1,N=!1;const L=Math.ceil(c*T),R=Math.ceil(u*P),B=Math.ceil(y*T),j=Math.ceil(b*P);L>=B?O=c:k=!0,R>=j?C=u:N=!0;const G=this.getSizeAndScale(O,this.ctx.canvas.width,T),Z=this.getSizeAndScale(C,this.ctx.canvas.height,P),J=e.cachedCanvases.getCanvas("pattern",G.size,Z.size),W=J.context,V=l.createCanvasGraphics(W,n);if(V.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(V,s,o),W.translate(-G.scale*d,-Z.scale*f),V.transform(0,G.scale,0,0,Z.scale,0,0),W.save(),(H=V.dependencyTracker)==null||H.save(),this.clipBbox(V,d,f,p,g),V.baseTransform=Mt(V.ctx),V.executeOperatorList(i),V.endDrawing(),(ne=V.dependencyTracker)==null||ne.restore(),W.restore(),k||N){const fe=J.canvas;k&&(O=c),N&&(C=u);const le=this.getSizeAndScale(O,this.ctx.canvas.width,T),ge=this.getSizeAndScale(C,this.ctx.canvas.height,P),ke=le.size,rt=ge.size,it=e.cachedCanvases.getCanvas("pattern-workaround",ke,rt),ye=it.context,js=k?Math.floor(y/c):0,K=N?Math.floor(b/u):0;for(let ve=0;ve<=js;ve++)for(let Ae=0;Ae<=K;Ae++)ye.drawImage(fe,ke*ve,rt*Ae,ke,rt,0,0,ke,rt);return{canvas:it.canvas,scaleX:le.scale,scaleY:ge.scale,offsetX:d,offsetY:f}}return{canvas:J.canvas,scaleX:G.scale,scaleY:Z.scale,offsetX:d,offsetY:f}}getSizeAndScale(e,n,r){const i=Math.max(w_.MAX_PATTERN_SIZE,n);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,n,r,i,s){const a=i-n,o=s-r;e.ctx.rect(n,r,a,o),ae.axialAlignedBoundingBox([n,r,i,s],Mt(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,s=e.current;switch(n){case c3.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;i.fillStyle=s.fillColor=a,i.strokeStyle=s.strokeColor=o;break;case c3.UNCOLORED:i.fillStyle=i.strokeStyle=r,s.fillColor=s.strokeColor=r;break;default:throw new bie(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,n,r,i,s){let a=r;i!==tr.SHADING&&(a=ae.transform(a,n.baseTransform),this.matrix&&(a=ae.transform(a,this.matrix)));const o=this.createPatternCanvas(n,s);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(l),c}};q(w_,"MAX_PATTERN_SIZE",3e3);let hI=w_;function ose({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=or.isLittleEndian?4278190080:255,[l,c]=a?[s,o]:[o,s],u=r>>3,d=r&7,f=t.length;n=new Uint32Array(n.buffer);let p=0;for(let g=0;g<i;g++){for(const b=e+u;e<b;e++){const v=e<f?t[e]:255;n[p++]=v&128?c:l,n[p++]=v&64?c:l,n[p++]=v&32?c:l,n[p++]=v&16?c:l,n[p++]=v&8?c:l,n[p++]=v&4?c:l,n[p++]=v&2?c:l,n[p++]=v&1?c:l}if(d===0)continue;const y=e<f?t[e++]:255;for(let b=0;b<d;b++)n[p++]=y&1<<7-b?c:l}return{srcPos:e,destPos:p}}const u3=16,h3=100,lse=15,d3=10,ii=16,TT=new DOMMatrix,Li=new Float32Array(2),up=new Float32Array([1/0,1/0,-1/0,-1/0]);function cse(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},t.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},t.transform=function(n,r,i,s,a,o){e.transform(n,r,i,s,a,o),this.__originalTransform(n,r,i,s,a,o)},t.setTransform=function(n,r,i,s,a,o){e.setTransform(n,r,i,s,a,o),this.__originalSetTransform(n,r,i,s,a,o)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,s,a,o){e.bezierCurveTo(n,r,i,s,a,o),this.__originalBezierCurveTo(n,r,i,s,a,o)},t.rect=function(n,r,i,s){e.rect(n,r,i,s),this.__originalRect(n,r,i,s)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class use{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function Fx(t,e,n,r,i,s,a,o,l,c){const[u,d,f,p,g,y]=Mt(t);if(d===0&&f===0){const S=a*u+g,w=Math.round(S),T=o*p+y,P=Math.round(T),O=(a+l)*u+g,C=Math.abs(Math.round(O)-w)||1,k=(o+c)*p+y,N=Math.abs(Math.round(k)-P)||1;return t.setTransform(Math.sign(u),0,0,Math.sign(p),w,P),t.drawImage(e,n,r,i,s,0,0,C,N),t.setTransform(u,d,f,p,g,y),[C,N]}if(u===0&&p===0){const S=o*f+g,w=Math.round(S),T=a*d+y,P=Math.round(T),O=(o+c)*f+g,C=Math.abs(Math.round(O)-w)||1,k=(a+l)*d+y,N=Math.abs(Math.round(k)-P)||1;return t.setTransform(0,Math.sign(d),Math.sign(f),0,w,P),t.drawImage(e,n,r,i,s,0,0,N,C),t.setTransform(u,d,f,p,g,y),[N,C]}t.drawImage(e,n,r,i,s,a,o,l,c);const b=Math.hypot(u,d),v=Math.hypot(f,p);return[b*l,v*c]}class f3{constructor(e,n,r){q(this,"alphaIsShape",!1);q(this,"fontSize",0);q(this,"fontSizeScale",1);q(this,"textMatrix",null);q(this,"textMatrixScale",1);q(this,"fontMatrix",Nk);q(this,"leading",0);q(this,"x",0);q(this,"y",0);q(this,"lineX",0);q(this,"lineY",0);q(this,"charSpacing",0);q(this,"wordSpacing",0);q(this,"textHScale",1);q(this,"textRenderingMode",Gn.FILL);q(this,"textRise",0);q(this,"fillColor","#000000");q(this,"strokeColor","#000000");q(this,"patternFill",!1);q(this,"patternStroke",!1);q(this,"fillAlpha",1);q(this,"strokeAlpha",1);q(this,"lineWidth",1);q(this,"activeSMask",null);q(this,"transferMaps","none");r==null||r(this),this.clipBox=new Float32Array([0,0,e,n]),this.minMax=up.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=tr.FILL,n=null){const r=this.minMax.slice();if(e===tr.STROKE){n||ut("Stroke bounding box must include transform."),ae.singularValueDecompose2dScale(n,Li);const i=Li[0]*this.lineWidth/2,s=Li[1]*this.lineWidth/2;r[0]-=i,r[1]-=s,r[2]+=i,r[3]+=s}return r}updateClipFromPath(){const e=ae.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(up,0)}getClippedPathBoundingBox(e=tr.FILL,n=null){return ae.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function p3(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%ii,s=(n-i)/ii,a=i===0?s:s+1,o=t.createImageData(r,ii);let l=0,c;const u=e.data,d=o.data;let f,p,g,y;if(e.kind===T1.GRAYSCALE_1BPP){const b=u.byteLength,v=new Uint32Array(d.buffer,0,d.byteLength>>2),S=v.length,w=r+7>>3,T=4294967295,P=or.isLittleEndian?4278190080:255;for(f=0;f<a;f++){for(g=f<s?ii:i,c=0,p=0;p<g;p++){const O=b-l;let C=0;const k=O>w?r:O*8-7,N=k&-8;let L=0,R=0;for(;C<N;C+=8)R=u[l++],v[c++]=R&128?T:P,v[c++]=R&64?T:P,v[c++]=R&32?T:P,v[c++]=R&16?T:P,v[c++]=R&8?T:P,v[c++]=R&4?T:P,v[c++]=R&2?T:P,v[c++]=R&1?T:P;for(;C<k;C++)L===0&&(R=u[l++],L=128),v[c++]=R&L?T:P,L>>=1}for(;c<S;)v[c++]=0;t.putImageData(o,0,f*ii)}}else if(e.kind===T1.RGBA_32BPP){for(p=0,y=r*ii*4,f=0;f<s;f++)d.set(u.subarray(l,l+y)),l+=y,t.putImageData(o,0,p),p+=ii;f<a&&(y=r*i*4,d.set(u.subarray(l,l+y)),t.putImageData(o,0,p))}else if(e.kind===T1.RGB_24BPP)for(g=ii,y=r*g,f=0;f<a;f++){for(f>=s&&(g=i,y=r*g),c=0,p=y;p--;)d[c++]=u[l++],d[c++]=u[l++],d[c++]=u[l++],d[c++]=255;t.putImageData(o,0,f*ii)}else throw new Error(`bad image kind: ${e.kind}`)}function m3(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%ii,s=(n-i)/ii,a=i===0?s:s+1,o=t.createImageData(r,ii);let l=0;const c=e.data,u=o.data;for(let d=0;d<a;d++){const f=d<s?ii:i;({srcPos:l}=ose({src:c,srcPos:l,dest:u,width:r,height:f,nonBlackColor:0})),t.putImageData(o,0,d*ii)}}function my(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function Bx(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}function g3(t,e){if(e)return!0;ae.singularValueDecompose2dScale(t,Li);const n=Math.fround(fo.pixelRatio*Ru.PDF_TO_CSS_UNITS);return Li[0]<=n&&Li[1]<=n}const hse=["butt","round","square"],dse=["miter","round","bevel"],fse={},y3={};var va,dI,fI,pI;const AR=class AR{constructor(e,n,r,i,s,{optionalContentConfig:a,markedContentStack:o=null},l,c,u){I(this,va);this.ctx=e,this.current=new f3(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new use(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=u??null}getObject(e,n,r=null){var i;return typeof n=="string"?((i=this.dependencyTracker)==null||i.recordNamedDependency(e,n),n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n)):r}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,r){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Mt(this.compositeCtx))}this.ctx.save(),Bx(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Mt(this.ctx)}executeOperatorList(e,n,r,i,s){var v;const a=e.argsArray,o=e.fnArray;let l=n||0;const c=a.length;if(c===l)return l;const u=c-l>d3&&typeof r=="function",d=u?Date.now()+lse:0;let f=0;const p=this.commonObjs,g=this.objs;let y,b;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,r),l;if(!s||s(l))if(y=o[l],b=a[l]??null,y!==Jv.dependency)b===null?this[y](l):this[y](l,...b);else for(const S of b){(v=this.dependencyTracker)==null||v.recordNamedData(S,l);const w=S.startsWith("g_")?p:g;if(!w.has(S))return w.get(S,r),l}if(l++,l===c)return l;if(u&&++f>d3){if(Date.now()>d)return r(),l;f=0}}}endDrawing(){D(this,va,dI).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),D(this,va,fI).call(this)}_scaleImage(e,n){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(n[0],n[1]),1),a=Math.max(Math.hypot(n[2],n[3]),1),o=r,l=i,c="prescale1",u,d;for(;s>2&&o>1||a>2&&l>1;){let f=o,p=l;s>2&&o>1&&(f=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/f),a>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/p),u=this.cachedCanvases.getCanvas(c,f,p),d=u.context,d.clearRect(0,0,f,p),d.drawImage(e,0,0,o,l,0,0,f,p),e=u.canvas,o=f,l=p,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,n){var L,R;const r=this.ctx,{width:i,height:s}=n,a=this.current.fillColor,o=this.current.patternFill,l=Mt(r);let c,u,d,f;if((n.bitmap||n.data)&&n.count>1){const B=n.bitmap||n.data.buffer;u=JSON.stringify(o?l:[l.slice(0,4),a]),c=this._cachedBitmapsMap.get(B),c||(c=new Map,this._cachedBitmapsMap.set(B,c));const j=c.get(u);if(j&&!o){const G=Math.round(Math.min(l[0],l[2])+l[4]),Z=Math.round(Math.min(l[1],l[3])+l[5]);return(L=this.dependencyTracker)==null||L.recordDependencies(e,ts.transformAndFill),{canvas:j,offsetX:G,offsetY:Z}}d=j}d||(f=this.cachedCanvases.getCanvas("maskCanvas",i,s),m3(f.context,n));let p=ae.transform(l,[1/i,0,0,-1/s,0,0]);p=ae.transform(p,[1,0,0,1,0,-s]);const g=up.slice();ae.axialAlignedBoundingBox([0,0,i,s],p,g);const[y,b,v,S]=g,w=Math.round(v-y)||1,T=Math.round(S-b)||1,P=this.cachedCanvases.getCanvas("fillCanvas",w,T),O=P.context,C=y,k=b;O.translate(-C,-k),O.transform(...p),d||(d=this._scaleImage(f.canvas,_a(O)),d=d.img,c&&o&&c.set(u,d)),O.imageSmoothingEnabled=g3(Mt(O),n.interpolate),Fx(O,d,0,0,d.width,d.height,0,0,i,s),O.globalCompositeOperation="source-in";const N=ae.transform(_a(O),[1,0,0,1,-C,-k]);return O.fillStyle=o?a.getPattern(r,this,N,tr.FILL,e):a,O.fillRect(0,0,i,s),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(u,P.canvas)),(R=this.dependencyTracker)==null||R.recordDependencies(e,ts.transformAndFill),{canvas:P.canvas,offsetX:Math.round(C),offsetY:Math.round(k)}}setLineWidth(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineWidth",e),n!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=n,this.ctx.lineWidth=n}setLineCap(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineCap",e),this.ctx.lineCap=hse[n]}setLineJoin(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("lineJoin",e),this.ctx.lineJoin=dse[n]}setMiterLimit(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("miterLimit",e),this.ctx.miterLimit=n}setDash(e,n,r){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(n),i.lineDashOffset=r)}setRenderingIntent(e,n){}setFlatness(e,n){}setGState(e,n){var r,i,s,a,o;for(const[l,c]of n)switch(l){case"LW":this.setLineWidth(e,c);break;case"LC":this.setLineCap(e,c);break;case"LJ":this.setLineJoin(e,c);break;case"ML":this.setMiterLimit(e,c);break;case"D":this.setDash(e,c[0],c[1]);break;case"RI":this.setRenderingIntent(e,c);break;case"FL":this.setFlatness(e,c);break;case"Font":this.setFont(e,c[0],c[1]);break;case"CA":(r=this.dependencyTracker)==null||r.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=c;break;case"ca":(i=this.dependencyTracker)==null||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=c;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=c;break;case"SMask":(a=this.dependencyTracker)==null||a.recordSimpleData("SMask",e),this.current.activeSMask=c?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(c);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const n=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,n,r);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),my(this.suspendedCtx,a),cse(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),my(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const s=i[0],a=i[1],o=i[2]-s,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(n.context,r,o,l,n.subtype,n.backdrop,n.transferMap,s,a,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,s,a,o,l,c,u,d){let f=e.canvas,p=l-u,g=c-d;if(a)if(p<0||g<0||p+r>f.width||g+i>f.height){const b=this.cachedCanvases.getCanvas("maskExtension",r,i),v=b.context;v.drawImage(f,-p,-g),v.globalCompositeOperation="destination-atop",v.fillStyle=a,v.fillRect(0,0,r,i),v.globalCompositeOperation="source-over",f=b.canvas,p=g=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(p,g,r,i),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(p,g,r,i),e.restore()}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?n.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(o));const y=new Path2D;y.rect(l,c,r,i),n.clip(y),n.globalCompositeOperation="destination-in",n.drawImage(f,p,g,r,i,l,c,r,i),n.restore()}save(e){var r;this.inSMaskMode&&my(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),(r=this.dependencyTracker)==null||r.save(e)}restore(e){var n;if((n=this.dependencyTracker)==null||n.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&my(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,n,r,i,s,a,o){var l;(l=this.dependencyTracker)==null||l.recordIncrementalData("transform",e),this.ctx.transform(n,r,i,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r,i){let[s]=r;if(!i){s||(s=r[0]=new Path2D),this[n](e,s);return}if(this.dependencyTracker!==null){const a=n===Jv.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-a,i[2]+a,i[1]-a,i[3]+a).recordDependencies(e,["transform"])}s instanceof Path2D||(s=r[0]=Oz(s)),ae.axialAlignedBoundingBox(i,Mt(this.ctx),this.current.minMax),this[n](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,n,r=!0){var a;const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const o=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,_a(i),tr.STROKE,e),o){const l=new Path2D;l.addPath(n,i.getTransform().invertSelf().multiplySelf(o)),n=l}this.rescaleAndStroke(n,!1),i.restore()}else this.rescaleAndStroke(n,!0);(a=this.dependencyTracker)==null||a.recordDependencies(e,ts.stroke),r&&this.consumePath(e,n,this.current.getClippedPathBoundingBox(tr.STROKE,Mt(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,n){this.stroke(e,n)}fill(e,n,r=!0){var c,u,d;const i=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const f=s.isModifyingCurrentTransform()?i.getTransform():null;if((c=this.dependencyTracker)==null||c.save(e),i.save(),i.fillStyle=s.getPattern(i,this,_a(i),tr.FILL,e),f){const p=new Path2D;p.addPath(n,i.getTransform().invertSelf().multiplySelf(f)),n=p}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(i.fill(n,"evenodd"),this.pendingEOFill=!1):i.fill(n)),(u=this.dependencyTracker)==null||u.recordDependencies(e,ts.fill),o&&(i.restore(),(d=this.dependencyTracker)==null||d.restore(e)),r&&this.consumePath(e,n,l)}eoFill(e,n){this.pendingEOFill=!0,this.fill(e,n)}fillStroke(e,n){this.fill(e,n,!1),this.stroke(e,n,!1),this.consumePath(e,n)}eoFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}closeFillStroke(e,n){this.fillStroke(e,n)}closeEOFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}endPath(e,n){this.consumePath(e,n)}rawFillPath(e,n){var r;this.ctx.fill(n),(r=this.dependencyTracker)==null||r.recordDependencies(e,ts.rawFillPath).recordOperation(e)}clip(e){var n;(n=this.dependencyTracker)==null||n.recordFutureForcedDependency("clipMode",e),this.pendingClip=fse}eoClip(e){var n;(n=this.dependencyTracker)==null||n.recordFutureForcedDependency("clipMode",e),this.pendingClip=y3}beginText(e){var n;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(n=this.dependencyTracker)==null||n.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const n=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;n!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(n!==void 0){const i=new Path2D,s=r.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:c,path:u}of n)u&&i.addPath(u,new DOMMatrix(a).preMultiplySelf(s).translate(o,l).scale(c,-c));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("charSpacing",e),this.current.charSpacing=n}setWordSpacing(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("wordSpacing",e),this.current.wordSpacing=n}setHScale(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("hScale",e),this.current.textHScale=n/100}setLeading(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("leading",e),this.current.leading=-n}setFont(e,n,r){var d,f;(d=this.dependencyTracker)==null||d.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",n,e);const i=this.commonObjs.get(n),s=this.current;if(!i)throw new Error(`Can't find font for ${n}`);if(s.fontMatrix=i.fontMatrix||Nk,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&be("Invalid font matrix for font "+n),r<0?(r=-r,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const a=i.loadedName||"sans-serif",o=((f=i.systemFontInfo)==null?void 0:f.css)||`"${a}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const c=i.italic?"italic":"normal";let u=r;r<u3?u=u3:r>h3&&(u=h3),this.current.fontSizeScale=r/u,this.ctx.font=`${c} ${l} ${u}px ${o}`}setTextRenderingMode(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=n}setTextRise(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textRise",e),this.current.textRise=n}moveText(e,n,r){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=n,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,n,r){this.setLeading(e,-r),this.moveText(e,n,r)}setTextMatrix(e,n){var i;(i=this.dependencyTracker)==null||i.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=n,r.textMatrixScale=Math.hypot(n[0],n[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){var n;this.moveText(e,0,this.current.leading),(n=this.dependencyTracker)==null||n.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,n,r,i,s,a){var v,S,w,T;const o=this.ctx,l=this.current,c=l.font,u=l.textRenderingMode,d=l.fontSize/l.fontSizeScale,f=u&Gn.FILL_STROKE_MASK,p=!!(u&Gn.ADD_TO_PATH_FLAG),g=l.patternFill&&!c.missingFile,y=l.patternStroke&&!c.missingFile;let b;if((c.disableFontFace||p||g||y)&&!c.missingFile&&(b=c.getPathGenerator(this.commonObjs,n)),b&&(c.disableFontFace||g||y)){o.save(),o.translate(r,i),o.scale(d,-d),(v=this.dependencyTracker)==null||v.recordCharacterBBox(e,o,c);let P;if(f===Gn.FILL||f===Gn.FILL_STROKE)if(s){P=o.getTransform(),o.setTransform(...s);const O=D(this,va,pI).call(this,b,P,s);o.fill(O)}else o.fill(b);if(f===Gn.STROKE||f===Gn.FILL_STROKE)if(a){P||(P=o.getTransform()),o.setTransform(...a);const{a:O,b:C,c:k,d:N}=P,L=ae.inverseTransform(a),R=ae.transform([O,C,k,N,0,0],L);ae.singularValueDecompose2dScale(R,Li),o.lineWidth*=Math.max(Li[0],Li[1])/d,o.stroke(D(this,va,pI).call(this,b,P,a))}else o.lineWidth/=d,o.stroke(b);o.restore()}else(f===Gn.FILL||f===Gn.FILL_STROKE)&&(o.fillText(n,r,i),(S=this.dependencyTracker)==null||S.recordCharacterBBox(e,o,c,d,r,i,()=>o.measureText(n))),(f===Gn.STROKE||f===Gn.FILL_STROKE)&&(this.dependencyTracker&&((w=this.dependencyTracker)==null||w.recordCharacterBBox(e,o,c,d,r,i,()=>o.measureText(n)).recordDependencies(e,ts.stroke)),o.strokeText(n,r,i));p&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Mt(o),x:r,y:i,fontSize:d,path:b}),(T=this.dependencyTracker)==null||T.recordCharacterBBox(e,o,c,d,r,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return we(this,"isFontSubpixelAAEnabled",r)}showText(e,n){var k,N,L,R;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,ts.showText).resetBBox(e),this.current.textRenderingMode&Gn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(e,n),(k=this.dependencyTracker)==null||k.recordShowTextOperation(e);return}const s=r.fontSize;if(s===0){(N=this.dependencyTracker)==null||N.recordOperation(e);return}const a=this.ctx,o=r.fontSizeScale,l=r.charSpacing,c=r.wordSpacing,u=r.fontDirection,d=r.textHScale*u,f=n.length,p=i.vertical,g=p?1:-1,y=i.defaultVMetrics,b=s*r.fontMatrix[0],v=r.textRenderingMode===Gn.FILL&&!i.disableFontFace&&!r.patternFill;a.save(),r.textMatrix&&a.transform(...r.textMatrix),a.translate(r.x,r.y+r.textRise),u>0?a.scale(d,-1):a.scale(d,1);let S,w;if(r.patternFill){a.save();const B=r.fillColor.getPattern(a,this,_a(a),tr.FILL,e);S=Mt(a),a.restore(),a.fillStyle=B}if(r.patternStroke){a.save();const B=r.strokeColor.getPattern(a,this,_a(a),tr.STROKE,e);w=Mt(a),a.restore(),a.strokeStyle=B}let T=r.lineWidth;const P=r.textMatrixScale;if(P===0||T===0){const B=r.textRenderingMode&Gn.FILL_STROKE_MASK;(B===Gn.STROKE||B===Gn.FILL_STROKE)&&(T=this.getSinglePixelWidth())}else T/=P;if(o!==1&&(a.scale(o,o),T/=o),a.lineWidth=T,i.isInvalidPDFjsFont){const B=[];let j=0;for(const Z of n)B.push(Z.unicode),j+=Z.width;const G=B.join("");if(a.fillText(G,0,0),this.dependencyTracker!==null){const Z=a.measureText(G);this.dependencyTracker.recordBBox(e,this.ctx,-Z.actualBoundingBoxLeft,Z.actualBoundingBoxRight,-Z.actualBoundingBoxAscent,Z.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=j*b*d,a.restore(),this.compose();return}let O=0,C;for(C=0;C<f;++C){const B=n[C];if(typeof B=="number"){O+=g*B*s/1e3;continue}let j=!1;const G=(B.isSpace?c:0)+l,Z=B.fontChar,J=B.accent;let W,V,H=B.width;if(p){const le=B.vmetric||y,ge=-(B.vmetric?le[1]:H*.5)*b,ke=le[2]*b;H=le?-le[0]:H,W=ge/o,V=(O+ke)/o}else W=O/o,V=0;let ne;if(i.remeasure&&H>0){ne=a.measureText(Z);const le=ne.width*1e3/s*o;if(H<le&&this.isFontSubpixelAAEnabled){const ge=H/le;j=!0,a.save(),a.scale(ge,1),W/=ge}else H!==le&&(W+=(H-le)/2e3*s/o)}if(this.contentVisible&&(B.isInFont||i.missingFile)){if(v&&!J)a.fillText(Z,W,V),(L=this.dependencyTracker)==null||L.recordCharacterBBox(e,a,ne?{bbox:null}:i,s/o,W,V,()=>ne??a.measureText(Z));else if(this.paintChar(e,Z,W,V,S,w),J){const le=W+s*J.offset.x/o,ge=V-s*J.offset.y/o;this.paintChar(e,J.fontChar,le,ge,S,w)}}const fe=p?H*b-G*u:H*b+G*u;O+=fe,j&&a.restore()}p?r.y-=O:r.x+=O*d,a.restore(),this.compose(),(R=this.dependencyTracker)==null||R.recordShowTextOperation(e)}showType3Text(e,n){const r=this.ctx,i=this.current,s=i.font,a=i.fontSize,o=i.fontDirection,l=s.vertical?1:-1,c=i.charSpacing,u=i.wordSpacing,d=i.textHScale*o,f=i.fontMatrix||Nk,p=n.length,g=i.textRenderingMode===Gn.INVISIBLE;let y,b,v,S;if(g||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(d,o);const w=this.dependencyTracker;for(this.dependencyTracker=w?new eA(w,e):null,y=0;y<p;++y){if(b=n[y],typeof b=="number"){S=l*b*a/1e3,this.ctx.translate(S,0),i.x+=S*d;continue}const T=(b.isSpace?u:0)+c,P=s.charProcOperatorList[b.operatorListId];P?this.contentVisible&&(this.save(),r.scale(a,a),r.transform(...f),this.executeOperatorList(P),this.restore()):be(`Type3 character "${b.operatorListId}" is not available.`);const O=[b.width,0];ae.applyTransform(O,f),v=O[0]*a+T,r.translate(v,0),i.x+=v*d}r.restore(),w&&(this.dependencyTracker=w)}setCharWidth(e,n,r){}setCharWidthAndBounds(e,n,r,i,s,a,o){var c;const l=new Path2D;l.rect(i,s,a-i,o-s),this.ctx.clip(l),(c=this.dependencyTracker)==null||c.recordBBox(e,this.ctx,i,a,s,o).recordClipBox(e,this.ctx,i,a,s,o),this.endPath(e)}getColorN_Pattern(e,n){let r;if(n[0]==="TilingPattern"){const i=this.baseTransform||Mt(this.ctx),s={createCanvasGraphics:(a,o)=>new AR(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new eA(this.dependencyTracker,o,!0):null)};r=new hI(n,this.ctx,s,i)}else r=this._getPattern(e,n[1],n[2]);return r}setStrokeColorN(e,...n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,n),this.current.patternStroke=!0}setFillColorN(e,...n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,n),this.current.patternFill=!0}setStrokeRGBColor(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=n,this.current.patternStroke=!1}setStrokeTransparent(e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,n){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=n,this.current.patternFill=!1}setFillTransparent(e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n,r=null){let i;return this.cachedPatterns.has(n)?i=this.cachedPatterns.get(n):(i=ase(this.getObject(e,n)),this.cachedPatterns.set(n,i)),r&&(i.matrix=r),i}shadingFill(e,n){var a;if(!this.contentVisible)return;const r=this.ctx;this.save(e);const i=this._getPattern(e,n);r.fillStyle=i.getPattern(r,this,_a(r),tr.SHADING,e);const s=_a(r);if(s){const{width:o,height:l}=r.canvas,c=up.slice();ae.axialAlignedBoundingBox([0,0,o,l],s,c);const[u,d,f,p]=c;this.ctx.fillRect(u,d,f-u,p-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(a=this.dependencyTracker)==null||a.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,ts.transform).recordDependencies(e,ts.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){ut("Should not call beginInlineImage")}beginImageData(){ut("Should not call beginImageData")}paintFormXObjectBegin(e,n,r){var i;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),n&&this.transform(e,...n),this.baseTransform=Mt(this.ctx),r)){ae.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[s,a,o,l]=r,c=new Path2D;c.rect(s,a,o-s,l-a),this.ctx.clip(c),(i=this.dependencyTracker)==null||i.recordClipBox(e,this.ctx,s,o,a,l),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,n){var w;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;n.isolated||eE("TODO: Support non-isolated groups."),n.knockout&&be("Knockout groups not supported.");const i=Mt(r);if(n.matrix&&r.transform(...n.matrix),!n.bbox)throw new Error("Bounding box is required.");let s=up.slice();ae.axialAlignedBoundingBox(n.bbox,Mt(r),s);const a=[0,0,r.canvas.width,r.canvas.height];s=ae.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-o,1),u=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,u]);let d="groupAt"+this.groupLevel;n.smask&&(d+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(d,c,u),p=f.context;p.translate(-o,-l),p.transform(...i);let g=new Path2D;const[y,b,v,S]=n.bbox;if(g.rect(y,b,v-y,S-b),n.matrix){const T=new Path2D;T.addPath(g,new DOMMatrix(n.matrix)),g=T}p.clip(g),n.smask&&this.smaskStack.push({canvas:f.canvas,context:p,offsetX:o,offsetY:l,subtype:n.smask.subtype,backdrop:n.smask.backdrop,transferMap:n.smask.transferMap||null,startTransformInverse:null}),(!n.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(o,l),r.save()),my(r,p),this.ctx=p,(w=this.dependencyTracker)==null||w.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,n){var s;if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),n.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=Mt(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const o=up.slice();ae.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],a,o),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,n,r,i,s,a){if(D(this,va,dI).call(this),Bx(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const o=r[2]-r[0],l=r[3]-r[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=o,r[3]=l,ae.singularValueDecompose2dScale(Mt(this.ctx),Li);const{viewportScale:c}=this,u=Math.ceil(o*this.outputScaleX*c),d=Math.ceil(l*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(u,d);const{canvas:f,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(n,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(Li[0],0,0,-Li[1],0,l*Li[1]),Bx(this.ctx)}else{Bx(this.ctx),this.endPath(e);const c=new Path2D;c.rect(r[0],r[1],o,l),this.ctx.clip(c)}}this.current=new f3(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),D(this,va,fI).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,n){var o;if(!this.contentVisible)return;const r=n.count;n=this.getObject(e,n.data,n),n.count=r;const i=this.ctx,s=this._createMaskCanvas(e,n),a=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,s.offsetX,s.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r,i=0,s=0,a,o){var d,f,p;if(!this.contentVisible)return;n=this.getObject(e,n.data,n);const l=this.ctx;l.save();const c=Mt(l);l.transform(r,i,s,a,0,0);const u=this._createMaskCanvas(e,n);l.setTransform(1,0,0,1,u.offsetX-c[4],u.offsetY-c[5]),(d=this.dependencyTracker)==null||d.resetBBox(e);for(let g=0,y=o.length;g<y;g+=2){const b=ae.transform(c,[r,i,s,a,o[g],o[g+1]]);l.drawImage(u.canvas,b[4],b[5]),(f=this.dependencyTracker)==null||f.recordBBox(e,this.ctx,b[4],b[4]+u.canvas.width,b[5],b[5]+u.canvas.height)}l.restore(),this.compose(),(p=this.dependencyTracker)==null||p.recordOperation(e)}paintImageMaskXObjectGroup(e,n){var a,o,l;if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,s=this.current.patternFill;(a=this.dependencyTracker)==null||a.resetBBox(e).recordDependencies(e,ts.transformAndFill);for(const c of n){const{data:u,width:d,height:f,transform:p}=c,g=this.cachedCanvases.getCanvas("maskCanvas",d,f),y=g.context;y.save();const b=this.getObject(e,u,c);m3(y,b),y.globalCompositeOperation="source-in",y.fillStyle=s?i.getPattern(y,this,_a(r),tr.FILL,e):i,y.fillRect(0,0,d,f),y.restore(),r.save(),r.transform(...p),r.scale(1,-1),Fx(r,g.canvas,0,0,d,f,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,r,0,d,0,f),r.restore()}this.compose(),(l=this.dependencyTracker)==null||l.recordOperation(e)}paintImageXObject(e,n){if(!this.contentVisible)return;const r=this.getObject(e,n);if(!r){be("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,n,r,i,s){if(!this.contentVisible)return;const a=this.getObject(e,n);if(!a){be("Dependent image isn't ready yet");return}const o=a.width,l=a.height,c=[];for(let u=0,d=s.length;u<d;u+=2)c.push({transform:[r,0,0,i,s[u],s[u+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,a,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(n,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,n){var c;if(!this.contentVisible)return;const r=n.width,i=n.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/r,-1/i);let o;if(n.bitmap)o=this.applyTransferMapsToBitmap(n);else if(typeof HTMLElement=="function"&&n instanceof HTMLElement||!n.data)o=n;else{const d=this.cachedCanvases.getCanvas("inlineImage",r,i).context;p3(d,n),o=this.applyTransferMapsToCanvas(d)}const l=this._scaleImage(o,_a(s));s.imageSmoothingEnabled=g3(Mt(s),n.interpolate),(c=this.dependencyTracker)==null||c.resetBBox(e).recordBBox(e,s,0,r,-i,0).recordDependencies(e,ts.imageXObject).recordOperation(e),Fx(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,r,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,n,r){var a,o,l;if(!this.contentVisible)return;const i=this.ctx;let s;if(n.bitmap)s=n.bitmap;else{const c=n.width,u=n.height,f=this.cachedCanvases.getCanvas("inlineImage",c,u).context;p3(f,n),s=this.applyTransferMapsToCanvas(f)}(a=this.dependencyTracker)==null||a.resetBBox(e);for(const c of r)i.save(),i.transform(...c.transform),i.scale(1,-1),Fx(i,s,c.x,c.y,c.w,c.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,i,0,1,-1,0),i.restore();(l=this.dependencyTracker)==null||l.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var n;this.contentVisible&&((n=this.dependencyTracker)==null||n.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,ts.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,n){}markPointProps(e,n,r){}beginMarkedContent(e,n){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n,r){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),n==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var n;(n=this.dependencyTracker)==null||n.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,n,r){var a,o;const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const s=this.ctx;this.pendingClip?(i||(this.pendingClip===y3?s.clip(n,"evenodd"):s.clip(n)),this.pendingClip=null,(a=this.dependencyTracker)==null||a.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Mt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:s}=this.ctx.getTransform();let a,o;if(r===0&&i===0){const l=Math.abs(n),c=Math.abs(s);if(l===c)if(e===0)a=o=1/l;else{const u=l*e;a=o=u<1?1/u:1}else if(e===0)a=1/l,o=1/c;else{const u=l*e,d=c*e;a=u<1?1/u:1,o=d<1?1/d:1}}else{const l=Math.abs(n*s-r*i),c=Math.hypot(n,r),u=Math.hypot(i,s);if(e===0)a=u/l,o=c/l;else{const d=e*l;a=u>d?u/d:1,o=c>d?c/d:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,n){const{ctx:r,current:{lineWidth:i}}=this,[s,a]=this.getScaleForStroking();if(s===a){r.lineWidth=(i||1)*s,r.stroke(e);return}const o=r.getLineDash();n&&r.save(),r.scale(s,a),TT.a=1/s,TT.d=1/a;const l=new Path2D;if(l.addPath(e,TT),o.length>0){const c=Math.max(s,a);r.setLineDash(o.map(u=>u/c)),r.lineDashOffset/=c}r.lineWidth=i||1,r.stroke(l),n&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};va=new WeakSet,dI=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},fI=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}},pI=function(e,n,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(n)),i};let Ep=AR;for(const t in Jv)Ep.prototype[t]!==void 0&&(Ep.prototype[Jv[t]]=Ep.prototype[t]);var ob,lb;class to{static get workerPort(){return h(this,ob)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");_(this,ob,e)}static get workerSrc(){return h(this,lb)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");_(this,lb,e)}}ob=new WeakMap,lb=new WeakMap,I(to,ob,null),I(to,lb,"");var fm,cb;class pse{constructor({parsedData:e,rawData:n}){I(this,fm);I(this,cb);_(this,fm,e),_(this,cb,n)}getRaw(){return h(this,cb)}get(e){return h(this,fm).get(e)??null}[Symbol.iterator](){return h(this,fm).entries()}}fm=new WeakMap,cb=new WeakMap;const Vf=Symbol("INTERNAL");var ub,hb,db,pm;class mse{constructor(e,{name:n,intent:r,usage:i,rbGroups:s}){I(this,ub,!1);I(this,hb,!1);I(this,db,!1);I(this,pm,!0);_(this,ub,!!(e&Ni.DISPLAY)),_(this,hb,!!(e&Ni.PRINT)),this.name=n,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(h(this,db))return h(this,pm);if(!h(this,pm))return!1;const{print:e,view:n}=this.usage;return h(this,ub)?(n==null?void 0:n.viewState)!=="OFF":h(this,hb)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,n,r=!1){e!==Vf&&ut("Internal method `_setVisible` called."),_(this,db,r),_(this,pm,n)}}ub=new WeakMap,hb=new WeakMap,db=new WeakMap,pm=new WeakMap;var Hc,tt,mm,gm,fb,mI;class gse{constructor(e,n=Ni.DISPLAY){I(this,fb);I(this,Hc,null);I(this,tt,new Map);I(this,mm,null);I(this,gm,null);if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,_(this,gm,e.order);for(const r of e.groups)h(this,tt).set(r.id,new mse(n,r));if(e.baseState==="OFF")for(const r of h(this,tt).values())r._setVisible(Vf,!1);for(const r of e.on)h(this,tt).get(r)._setVisible(Vf,!0);for(const r of e.off)h(this,tt).get(r)._setVisible(Vf,!1);_(this,mm,this.getHash())}}isVisible(e){if(h(this,tt).size===0)return!0;if(!e)return eE("Optional content group not defined."),!0;if(e.type==="OCG")return h(this,tt).has(e.id)?h(this,tt).get(e.id).visible:(be(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return D(this,fb,mI).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!h(this,tt).has(n))return be(`Optional content group not found: ${n}`),!0;if(h(this,tt).get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!h(this,tt).has(n))return be(`Optional content group not found: ${n}`),!0;if(!h(this,tt).get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!h(this,tt).has(n))return be(`Optional content group not found: ${n}`),!0;if(!h(this,tt).get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!h(this,tt).has(n))return be(`Optional content group not found: ${n}`),!0;if(h(this,tt).get(n).visible)return!1}return!0}return be(`Unknown optional content policy ${e.policy}.`),!0}return be(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,r=!0){var s;const i=h(this,tt).get(e);if(!i){be(`Optional content group not found: ${e}`);return}if(r&&n&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&((s=h(this,tt).get(o))==null||s._setVisible(Vf,!1,!0));i._setVisible(Vf,!!n,!0),_(this,Hc,null)}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=h(this,tt).get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,n);break;case"OFF":this.setVisibility(i,!1,n);break;case"Toggle":this.setVisibility(i,!s.visible,n);break}}_(this,Hc,null)}get hasInitialVisibility(){return h(this,mm)===null||this.getHash()===h(this,mm)}getOrder(){return h(this,tt).size?h(this,gm)?h(this,gm).slice():[...h(this,tt).keys()]:null}getGroup(e){return h(this,tt).get(e)||null}getHash(){if(h(this,Hc)!==null)return h(this,Hc);const e=new cH;for(const[n,r]of h(this,tt))e.update(`${n}:${r.visible}`);return _(this,Hc,e.hexdigest())}[Symbol.iterator](){return h(this,tt).entries()}}Hc=new WeakMap,tt=new WeakMap,mm=new WeakMap,gm=new WeakMap,fb=new WeakSet,mI=function(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const s=e[i];let a;if(Array.isArray(s))a=D(this,fb,mI).call(this,s);else if(h(this,tt).has(s))a=h(this,tt).get(s).visible;else return be(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return r==="And"};class yse{constructor(e,{disableRange:n=!1,disableStream:r=!1}){De(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});De(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var n,r,i,s;e.total===void 0?(r=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||r.call(n,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){De(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new vse(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new bse(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeReaders.slice(0))r.cancel(e);this._pdfDataRangeTransport.abort()}}class vse{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=JM(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class bse{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function wse(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let u=o(n);return u=unescape(u),u=l(u),u=c(u),s(u)}if(n=a(t),n){const u=c(n);return s(u)}if(n=r("filename","i").exec(t),n){n=n[1];let u=o(n);return u=c(u),s(u)}function r(u,d){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(u,d){if(u){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(u,{fatal:!0}),p=bw(d);d=f.decode(p),e=!1}catch{}}return d}function s(u){return e&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),e&&(u=i("iso-8859-1",u))),u}function a(u){const d=[];let f;const p=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(u))!==null;){let[,y,b,v]=f;if(y=parseInt(y,10),y in d){if(y===0)break;continue}d[y]=[b,v]}const g=[];for(let y=0;y<d.length&&y in d;++y){let[b,v]=d[y];v=o(v),b&&(v=unescape(v),y===0&&(v=l(v))),g.push(v)}return g.join("")}function o(u){if(u.startsWith('"')){const d=u.slice(1).split('\\"');for(let f=0;f<d.length;++f){const p=d[f].indexOf('"');p!==-1&&(d[f]=d[f].slice(0,p),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}u=d.join('"')}return u}function l(u){const d=u.indexOf("'");if(d===-1)return u;const f=u.slice(0,d),g=u.slice(d+1).replace(/^[^']*'/,"");return i(f,g)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,p,g){if(p==="q"||p==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,b){return String.fromCharCode(parseInt(b,16))}),i(f,g);try{g=atob(g)}catch{}return i(f,g)})}return""}function xH(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const r in e){const i=e[r];i!==void 0&&n.append(r,i)}return n}function nE(t){var e;return((e=URL.parse(t))==null?void 0:e.origin)??null}function SH({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*n)||r||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function AH(t){const e=t.get("Content-Disposition");if(e){let n=wse(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(JM(n))return n}return null}function _w(t,e){return new qS(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,t===404||t===0&&e.startsWith("file:"))}function _H(t){return t===200||t===206}function EH(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function PH(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(be(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class xse{constructor(e){q(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=xH(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return De(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Sse(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new Ase(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class Sse{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const r=new Headers(e.headers),i=n.url;fetch(i,EH(r,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=nE(s.url),!_H(s.status))throw _w(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=SH({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=AH(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Nu("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:PH(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}class Ase{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${n}-${r-1}`);const a=i.url;fetch(a,EH(s,this._withCredentials,this._abortController)).then(o=>{const l=nE(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!_H(o.status))throw _w(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:PH(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}const CT=200,kT=206;function _se(t){const e=t.response;return typeof e!="string"?e:bw(e).buffer}class Ese{constructor({url:e,httpHeaders:n,withCredentials:r}){q(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=xH(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[s,a]of this.headers)n.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=kT):i.expectedStatus=CT,n.responseType="arraybuffer",De(e.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{e.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){var i;const r=this.pendingRequests[e];r&&((i=r.onProgress)==null||i.call(r,n))}onStateChange(e,n){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const s=i.status||CT;if(!(s===CT&&r.expectedStatus===kT)&&s!==r.expectedStatus){r.onError(i.status);return}const o=_se(i);if(s===kT){const l=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?r.onDone({begin:parseInt(c[1],10),chunk:o}):(be('Missing or invalid "Content-Range" header.'),r.onError(0))}else o?r.onDone({begin:0,chunk:o}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class Pse{constructor(e){this._source=e,this._manager=new Ese(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return De(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Tse(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new Cse(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class Tse{constructor(e,n){this._manager=e,this._url=n.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e);this._manager._responseOrigin=nE(n.responseURL);const r=n.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...c]=o.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=SH({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=AH(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=_w(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var n;(n=this.onProgress)==null||n.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Cse{constructor(e,n,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:n,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var n;const e=nE((n=this._manager.getRequestXhr(this._requestId))==null?void 0:n.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=_w(e,this._url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const kse=/^[a-z][a-z0-9\-+.]+:/i;function Ise(t){if(kse.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class Ose{constructor(e){this.source=e,this.url=Ise(e.url),De(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return De(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Mse(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new Dse(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const r of this._rangeRequestReaders.slice(0))r.cancel(e)}}class Mse{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=_w(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Nu("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Dse{constructor(e,n,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:n,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var r;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(r=this.onProgress)==null||r.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const gy=Symbol("INITIAL_DATA");var wi,pb,gI;class TH{constructor(){I(this,pb);I(this,wi,Object.create(null))}get(e,n=null){if(n){const i=D(this,pb,gI).call(this,e);return i.promise.then(()=>n(i.data)),null}const r=h(this,wi)[e];if(!r||r.data===gy)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=h(this,wi)[e];return!!n&&n.data!==gy}delete(e){const n=h(this,wi)[e];return!n||n.data===gy?!1:(delete h(this,wi)[e],!0)}resolve(e,n=null){const r=D(this,pb,gI).call(this,e);r.data=n,r.resolve()}clear(){var e;for(const n in h(this,wi)){const{data:r}=h(this,wi)[n];(e=r==null?void 0:r.bitmap)==null||e.close()}_(this,wi,Object.create(null))}*[Symbol.iterator](){for(const e in h(this,wi)){const{data:n}=h(this,wi)[e];n!==gy&&(yield[e,n])}}}wi=new WeakMap,pb=new WeakSet,gI=function(e){var n;return(n=h(this,wi))[e]||(n[e]={...Promise.withResolvers(),data:gy})};const Nse=1e5,v3=30;var v6,Wc,ti,mb,gb,sd,qo,yb,vb,ad,ym,vm,Gc,bm,bb,wm,od,wb,xb,xm,ld,Sb,Kc,Sm,zl,CH,kH,yI,Wi,F1,vI,IH,OH;const pn=class pn{constructor({textContentSource:e,container:n,viewport:r}){I(this,zl);I(this,Wc,Promise.withResolvers());I(this,ti,null);I(this,mb,!1);I(this,gb,!!((v6=globalThis.FontInspector)!=null&&v6.enabled));I(this,sd,null);I(this,qo,null);I(this,yb,0);I(this,vb,0);I(this,ad,null);I(this,ym,null);I(this,vm,0);I(this,Gc,0);I(this,bm,Object.create(null));I(this,bb,[]);I(this,wm,null);I(this,od,[]);I(this,wb,new WeakMap);I(this,xb,null);var l;if(e instanceof ReadableStream)_(this,wm,e);else if(typeof e=="object")_(this,wm,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');_(this,ti,_(this,ym,n)),_(this,Gc,r.scale*fo.pixelRatio),_(this,vm,r.rotation),_(this,qo,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=r.rawDims;_(this,xb,[1,0,0,-1,-a,o+s]),_(this,vb,i),_(this,yb,s),D(l=pn,Wi,IH).call(l),sf(n,r),h(this,Wc).promise.finally(()=>{h(pn,Sm).delete(this),_(this,qo,null),_(this,bm,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=or.platform;return we(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{h(this,ad).read().then(({value:n,done:r})=>{if(r){h(this,Wc).resolve();return}h(this,sd)??_(this,sd,n.lang),Object.assign(h(this,bm),n.styles),D(this,zl,CH).call(this,n.items),e()},h(this,Wc).reject)};return _(this,ad,h(this,wm).getReader()),h(pn,Sm).add(this),e(),h(this,Wc).promise}update({viewport:e,onBefore:n=null}){var s;const r=e.scale*fo.pixelRatio,i=e.rotation;if(i!==h(this,vm)&&(n==null||n(),_(this,vm,i),sf(h(this,ym),{rotation:i})),r!==h(this,Gc)){n==null||n(),_(this,Gc,r);const a={div:null,properties:null,ctx:D(s=pn,Wi,F1).call(s,h(this,sd))};for(const o of h(this,od))a.properties=h(this,wb).get(o),a.div=o,D(this,zl,yI).call(this,a)}}cancel(){var n;const e=new Nu("TextLayer task cancelled.");(n=h(this,ad))==null||n.cancel(e).catch(()=>{}),_(this,ad,null),h(this,Wc).reject(e)}get textDivs(){return h(this,od)}get textContentItemsStr(){return h(this,bb)}static cleanup(){if(!(h(this,Sm).size>0)){h(this,xm).clear();for(const{canvas:e}of h(this,ld).values())e.remove();h(this,ld).clear()}}};Wc=new WeakMap,ti=new WeakMap,mb=new WeakMap,gb=new WeakMap,sd=new WeakMap,qo=new WeakMap,yb=new WeakMap,vb=new WeakMap,ad=new WeakMap,ym=new WeakMap,vm=new WeakMap,Gc=new WeakMap,bm=new WeakMap,bb=new WeakMap,wm=new WeakMap,od=new WeakMap,wb=new WeakMap,xb=new WeakMap,xm=new WeakMap,ld=new WeakMap,Sb=new WeakMap,Kc=new WeakMap,Sm=new WeakMap,zl=new WeakSet,CH=function(e){var i,s;if(h(this,mb))return;(s=h(this,qo)).ctx??(s.ctx=D(i=pn,Wi,F1).call(i,h(this,sd)));const n=h(this,od),r=h(this,bb);for(const a of e){if(n.length>Nse){be("Ignoring additional textDivs for performance reasons."),_(this,mb,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=h(this,ti);_(this,ti,document.createElement("span")),h(this,ti).classList.add("markedContent"),a.id&&h(this,ti).setAttribute("id",`${a.id}`),o.append(h(this,ti))}else a.type==="endMarkedContent"&&_(this,ti,h(this,ti).parentNode);continue}r.push(a.str),D(this,zl,kH).call(this,a)}},kH=function(e){var y;const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};h(this,od).push(n);const i=ae.transform(h(this,xb),e.transform);let s=Math.atan2(i[1],i[0]);const a=h(this,bm)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=h(this,gb)&&a.fontSubstitution||a.fontFamily;o=pn.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),c=l*D(y=pn,Wi,OH).call(y,o,a,h(this,sd));let u,d;s===0?(u=i[4],d=i[5]-c):(u=i[4]+c*Math.sin(s),d=i[5]-c*Math.cos(s));const f="calc(var(--total-scale-factor) *",p=n.style;h(this,ti)===h(this,ym)?(p.left=`${(100*u/h(this,vb)).toFixed(2)}%`,p.top=`${(100*d/h(this,yb)).toFixed(2)}%`):(p.left=`${f}${u.toFixed(2)}px)`,p.top=`${f}${d.toFixed(2)}px)`),p.fontSize=`${f}${(h(pn,Kc)*l).toFixed(2)}px)`,p.fontFamily=o,r.fontSize=l,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,h(this,gb)&&(n.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const b=Math.abs(e.transform[0]),v=Math.abs(e.transform[3]);b!==v&&Math.max(b,v)/Math.min(b,v)>1.5&&(g=!0)}if(g&&(r.canvasWidth=a.vertical?e.height:e.width),h(this,wb).set(n,r),h(this,qo).div=n,h(this,qo).properties=r,D(this,zl,yI).call(this,h(this,qo)),r.hasText&&h(this,ti).append(n),r.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),h(this,ti).append(b)}},yI=function(e){var o;const{div:n,properties:r,ctx:i}=e,{style:s}=n;let a="";if(h(pn,Kc)>1&&(a=`scale(${1/h(pn,Kc)})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:l}=s,{canvasWidth:c,fontSize:u}=r;D(o=pn,Wi,vI).call(o,i,u*h(this,Gc),l);const{width:d}=i.measureText(n.textContent);d>0&&(a=`scaleX(${c*h(this,Gc)/d}) ${a}`)}r.angle!==0&&(a=`rotate(${r.angle}deg) ${a}`),a.length>0&&(s.transform=a)},Wi=new WeakSet,F1=function(e=null){let n=h(this,ld).get(e||(e=""));if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),h(this,ld).set(e,n),h(this,Sb).set(n,{size:0,family:""})}return n},vI=function(e,n,r){const i=h(this,Sb).get(e);n===i.size&&r===i.family||(e.font=`${n}px ${r}`,i.size=n,i.family=r)},IH=function(){if(h(this,Kc)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),_(this,Kc,e.getBoundingClientRect().height),e.remove()},OH=function(e,n,r){const i=h(this,xm).get(e);if(i)return i;const s=D(this,Wi,F1).call(this,r);s.canvas.width=s.canvas.height=v3,D(this,Wi,vI).call(this,s,v3,e);const a=s.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let c=.8;return o?c=o/(o+l):(or.platform.isFirefox&&be("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?c=n.ascent:n.descent&&(c=1+n.descent)),h(this,xm).set(e,c),c},I(pn,Wi),I(pn,xm,new Map),I(pn,ld,new Map),I(pn,Sb,new WeakMap),I(pn,Kc,null),I(pn,Sm,new Set);let Qv=pn;const Rse=100;function MH(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new bI,{docId:n}=e,r=t.url?Vie(t.url):null,i=t.data?zie(t.data):null,s=t.httpHeaders||null,a=t.withCredentials===!0,o=t.password??null,l=t.range instanceof DH?t.range:null,c=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:2**16;let u=t.worker instanceof e0?t.worker:null;const d=t.verbosity,f=typeof t.docBaseUrl=="string"&&!tE(t.docBaseUrl)?t.docBaseUrl:null,p=Nx(t.cMapUrl),g=t.cMapPacked!==!1,y=t.CMapReaderFactory||(Nr?Jie:i3),b=Nx(t.iccUrl),v=Nx(t.standardFontDataUrl),S=t.StandardFontDataFactory||(Nr?Zie:s3),w=Nx(t.wasmUrl),T=t.WasmFactory||(Nr?Qie:a3),P=t.stopAtErrors!==!0,O=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,C=t.isEvalSupported!==!1,k=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!Nr,N=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!Nr&&(or.platform.isFirefox||!globalThis.chrome),L=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,R=typeof t.disableFontFace=="boolean"?t.disableFontFace:Nr,B=t.fontExtraProperties===!0,j=t.enableXfa===!0,G=t.ownerDocument||globalThis.document,Z=t.disableRange===!0,J=t.disableStream===!0,W=t.disableAutoFetch===!0,V=t.pdfBug===!0,H=t.CanvasFactory||(Nr?Yie:Kie),ne=t.FilterFactory||(Nr?Xie:qie),fe=t.enableHWA===!0,le=t.useWasm!==!1,ge=l?l.length:t.length??NaN,ke=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!Nr&&!R,rt=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:!!(y===i3&&S===s3&&T===a3&&p&&v&&w&&My(p,document.baseURI)&&My(v,document.baseURI)&&My(w,document.baseURI)),it=null;gie(d);const ye={canvasFactory:new H({ownerDocument:G,enableHWA:fe}),filterFactory:new ne({docId:n,ownerDocument:G}),cMapReaderFactory:rt?null:new y({baseUrl:p,isCompressed:g}),standardFontDataFactory:rt?null:new S({baseUrl:v}),wasmFactory:rt?null:new T({baseUrl:w})};u||(u=e0.create({verbosity:d,port:to.workerPort}),e._worker=u);const js={docId:n,apiVersion:"5.4.449",data:i,password:o,disableAutoFetch:W,rangeChunkSize:c,length:ge,docBaseUrl:f,enableXfa:j,evaluatorOptions:{maxImageSize:O,disableFontFace:R,ignoreErrors:P,isEvalSupported:C,isOffscreenCanvasSupported:k,isImageDecoderSupported:N,canvasMaxAreaInBytes:L,fontExtraProperties:B,useSystemFonts:ke,useWasm:le,useWorkerFetch:rt,cMapUrl:p,iccUrl:b,standardFontDataUrl:v,wasmUrl:w}},K={ownerDocument:G,pdfBug:V,styleElement:it,loadingParams:{disableAutoFetch:W,enableXfa:j}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const ve=u.messageHandler.sendWithPromise("GetDocRequest",js,i?[i.buffer]:null);let Ae;if(l)Ae=new yse(l,{disableRange:Z,disableStream:J});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const X=My(r)?xse:Nr?Ose:Pse;Ae=new X({url:r,length:ge,httpHeaders:s,withCredentials:a,rangeChunkSize:c,disableRange:Z,disableStream:J})}return ve.then(X=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const Kt=new $y(n,X,u.port),Ue=new Fse(Kt,e,Ae,K,ye,fe);e._transport=Ue,Kt.send("Ready",null)})}).catch(e._capability.reject),e}var x_;const S_=class S_{constructor(){q(this,"_capability",Promise.withResolvers());q(this,"_transport",null);q(this,"_worker",null);q(this,"docId",`d${fn(S_,x_)._++}`);q(this,"destroyed",!1);q(this,"onPassword",null);q(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,n,r,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(s){throw(r=this._worker)!=null&&r.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};x_=new WeakMap,I(S_,x_,0);let bI=S_;var cd,Ab,_b,Eb,Pb;class DH{constructor(e,n,r=!1,i=null){I(this,cd,Promise.withResolvers());I(this,Ab,[]);I(this,_b,[]);I(this,Eb,[]);I(this,Pb,[]);this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){h(this,Pb).push(e)}addProgressListener(e){h(this,Eb).push(e)}addProgressiveReadListener(e){h(this,_b).push(e)}addProgressiveDoneListener(e){h(this,Ab).push(e)}onDataRange(e,n){for(const r of h(this,Pb))r(e,n)}onDataProgress(e,n){h(this,cd).promise.then(()=>{for(const r of h(this,Eb))r(e,n)})}onDataProgressiveRead(e){h(this,cd).promise.then(()=>{for(const n of h(this,_b))n(e)})}onDataProgressiveDone(){h(this,cd).promise.then(()=>{for(const e of h(this,Ab))e()})}transportReady(){h(this,cd).resolve()}requestDataRange(e,n){ut("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}cd=new WeakMap,Ab=new WeakMap,_b=new WeakMap,Eb=new WeakMap,Pb=new WeakMap;class Lse{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return we(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,n){return this._transport.getAnnotationsByType(e,n)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Xo,ud,Wy;class jse{constructor(e,n,r,i=!1){I(this,ud);I(this,Xo,!1);this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new JF:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new TH,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new xw({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return we(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:n=e.canvas,viewport:r,intent:i="display",annotationMode:s=vc.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:u=null,printAnnotationStorage:d=null,isEditing:f=!1,recordOperations:p=!1,operationsFilter:g=null}){var N,L,R;(N=this._stats)==null||N.time("Overall");const y=this._transport.getRenderingIntent(i,s,d,f),{renderingIntent:b,cacheKey:v}=y;_(this,Xo,!1),l||(l=this._transport.getOptionalContentConfig(b));let S=this._intentStates.get(v);S||(S=Object.create(null),this._intentStates.set(v,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);const w=!!(b&Ni.PRINT);S.displayReadyCapability||(S.displayReadyCapability=Promise.withResolvers(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(L=this._stats)==null||L.time("Page Request"),this._pumpOperatorList(y));const T=!!(this._pdfBug&&((R=globalThis.StepperManager)!=null&&R.enabled)),P=!this.recordedBBoxes&&(p||T),O=B=>{var j,G;if(S.renderTasks.delete(C),P){const Z=(j=C.gfx)==null?void 0:j.dependencyTracker.take();Z&&(C.stepper&&C.stepper.setOperatorBBoxes(Z,C.gfx.dependencyTracker.takeDebugMetadata()),p&&(this.recordedBBoxes=Z))}w&&_(this,Xo,!0),D(this,ud,Wy).call(this),B?(C.capability.reject(B),this._abortOperatorList({intentState:S,reason:B instanceof Error?B:new Error(B)})):C.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(G=globalThis.Stats)!=null&&G.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},C=new wI({callback:O,params:{canvas:n,canvasContext:e,dependencyTracker:P?new tse(n,S.operatorList.length,T):null,viewport:r,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!w,pdfBug:this._pdfBug,pageColors:u,enableHWA:this._transport.enableHWA,operationsFilter:g});(S.renderTasks||(S.renderTasks=new Set)).add(C);const k=C.task;return Promise.all([S.displayReadyCapability.promise,l]).then(([B,j])=>{var G;if(this.destroyed){O();return}if((G=this._stats)==null||G.time("Rendering"),!(j.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");C.initializeGraphics({transparency:B,optionalContentConfig:j}),C.operatorListChanged()}).catch(O),k}getOperatorList({intent:e="display",annotationMode:n=vc.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){var c;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,n,r,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Zv.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function s(){a.read().then(function({value:l,done:c}){if(c){r(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},i)}const a=n.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),_(this,Xo,!1),Promise.all(e)}cleanup(e=!1){_(this,Xo,!0);const n=D(this,ud,Wy).call(this);return e&&n&&this._stats&&(this._stats=new JF),n}_startRenderPage(e,n){var i,s;const r=this._intentStates.get(n);r&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=r.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&D(this,ud,Wy).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:a}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:s,modifiedIds:i},a).getReader(),c=this._intentStates.get(n);c.streamReader=l;const u=()=>{l.read().then(({value:d,done:f})=>{if(f){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,c),u())},d=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const f of c.renderTasks)f.operatorListChanged();D(this,ud,Wy).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(d);else if(c.opListReadCapability)c.opListReadCapability.reject(d);else throw d}})};u()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof YM){let i=Rse;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new Nu(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Xo=new WeakMap,ud=new WeakSet,Wy=function(){if(!h(this,Xo)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_(this,Xo,!1),!0};var qc,Xs,Yo,hd,A_,dd,fd,$r,B1,NH,RH,Gy,Am,$1;const At=class At{constructor({name:e=null,port:n=null,verbosity:r=yie()}={}){I(this,$r);I(this,qc,Promise.withResolvers());I(this,Xs,null);I(this,Yo,null);I(this,hd,null);if(this.name=e,this.destroyed=!1,this.verbosity=r,n){if(h(At,fd).has(n))throw new Error("Cannot use more than one PDFWorker per port.");h(At,fd).set(n,this),D(this,$r,NH).call(this,n)}else D(this,$r,RH).call(this)}get promise(){return h(this,qc).promise}get port(){return h(this,Yo)}get messageHandler(){return h(this,Xs)}destroy(){var e,n;this.destroyed=!0,(e=h(this,hd))==null||e.terminate(),_(this,hd,null),h(At,fd).delete(h(this,Yo)),_(this,Yo,null),(n=h(this,Xs))==null||n.destroy(),_(this,Xs,null)}static create(e){const n=h(this,fd).get(e==null?void 0:e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new At(e)}static get workerSrc(){if(to.workerSrc)return to.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return we(this,"_setupFakeWorkerGlobal",(async()=>h(this,Am,$1)?h(this,Am,$1):(await import(this.workerSrc)).WorkerMessageHandler)())}};qc=new WeakMap,Xs=new WeakMap,Yo=new WeakMap,hd=new WeakMap,A_=new WeakMap,dd=new WeakMap,fd=new WeakMap,$r=new WeakSet,B1=function(){h(this,qc).resolve(),h(this,Xs).send("configure",{verbosity:this.verbosity})},NH=function(e){_(this,Yo,e),_(this,Xs,new $y("main","worker",e)),h(this,Xs).on("ready",()=>{}),D(this,$r,B1).call(this)},RH=function(){if(h(At,dd)||h(At,Am,$1)){D(this,$r,Gy).call(this);return}let{workerSrc:e}=At;try{At._isSameOrigin(window.location,e)||(e=At._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new $y("main","worker",n),i=()=>{s.abort(),r.destroy(),n.terminate(),this.destroyed?h(this,qc).reject(new Error("Worker was destroyed")):D(this,$r,Gy).call(this)},s=new AbortController;n.addEventListener("error",()=>{h(this,hd)||i()},{signal:s.signal}),r.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}_(this,Xs,r),_(this,Yo,n),_(this,hd,n),D(this,$r,B1).call(this)}),r.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{D(this,$r,Gy).call(this)}});const a=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};a();return}catch{eE("The worker has been disabled.")}D(this,$r,Gy).call(this)},Gy=function(){h(At,dd)||(be("Setting up fake worker."),_(At,dd,!0)),At._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){h(this,qc).reject(new Error("Worker was destroyed"));return}const n=new Gie;_(this,Yo,n);const r=`fake${fn(At,A_)._++}`,i=new $y(r+"_worker",r,n);e.setup(i,n),_(this,Xs,new $y(r,r+"_worker",n)),D(this,$r,B1).call(this)}).catch(e=>{h(this,qc).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Am=new WeakSet,$1=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},I(At,Am),I(At,A_,0),I(At,dd,!1),I(At,fd,new WeakMap),Nr&&(_(At,dd,!0),to.workerSrc||(to.workerSrc="./pdf.worker.mjs")),At._isSameOrigin=(e,n)=>{const r=URL.parse(e);if(!(r!=null&&r.origin)||r.origin==="null")return!1;const i=new URL(n,r);return r.origin===i.origin},At._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},At.fromPort=e=>{if(kie("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return At.create(e)};let e0=At;var Jo,Va,_m,Em,Zo,pd,Ky;class Fse{constructor(e,n,r,i,s,a){I(this,pd);I(this,Jo,new Map);I(this,Va,new Map);I(this,_m,new Map);I(this,Em,new Map);I(this,Zo,null);this.messageHandler=e,this.loadingTask=n,this.commonObjs=new TH,this.fontLoader=new $ie({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return we(this,"annotationStorage",new ZM)}getRenderingIntent(e,n=vc.ENABLE,r=null,i=!1,s=!1){let a=Ni.DISPLAY,o=nI;switch(e){case"any":a=Ni.ANY;break;case"display":break;case"print":a=Ni.PRINT;break;default:be(`getRenderingIntent - invalid intent: ${e}`)}const l=a&Ni.PRINT&&r instanceof hH?r:this.annotationStorage;switch(n){case vc.DISABLE:a+=Ni.ANNOTATIONS_DISABLE;break;case vc.ENABLE:break;case vc.ENABLE_FORMS:a+=Ni.ANNOTATIONS_FORMS;break;case vc.ENABLE_STORAGE:a+=Ni.ANNOTATIONS_STORAGE,o=l.serializable;break;default:be(`getRenderingIntent - invalid annotationMode: ${n}`)}i&&(a+=Ni.IS_EDITING),s&&(a+=Ni.OPLIST);const{ids:c,hash:u}=l.modifiedIds,d=[a,o.hash,u];return{renderingIntent:a,cacheKey:d.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){var r;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(r=h(this,Zo))==null||r.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of h(this,Va).values())e.push(i._destroy());h(this,Va).clear(),h(this,_m).clear(),h(this,Em).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),h(this,Jo).clear(),this.filterFactory.destroy(),Qv.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Nu("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{De(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}De(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async r=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((o=n.onProgress)==null||o.call(n,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=n.onProgress)==null||c.call(n,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(r,i)=>{De(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}De(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new Lse(r,this))}),e.on("DocException",r=>{n._capability.reject(Xr(r))}),e.on("PasswordRequest",r=>{_(this,Zo,Promise.withResolvers());try{if(!n.onPassword)throw Xr(r);const i=s=>{s instanceof Error?h(this,Zo).reject(s):h(this,Zo).resolve({password:s})};n.onPassword(i,r.code)}catch(i){h(this,Zo).reject(i)}return h(this,Zo).promise}),e.on("DataLoaded",r=>{var i;(i=n.onProgress)==null||i.call(n,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;h(this,Va).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in s){const f=s.error;be(`Error during font loading: ${f}`),this.commonObjs.resolve(r,f);break}const o=new rI(s),l=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(f,p)=>globalThis.FontInspector.fontAdded(f,p):null,c=new Uie(o,l,s.extra,s.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(r,c)});break;case"CopyLocalImage":const{imageRef:u}=s;De(u,"The imageRef must be defined.");for(const f of h(this,Va).values())for(const[,p]of f.objs)if((p==null?void 0:p.ref)===u)return p.dataLen?(this.commonObjs.resolve(r,structuredClone(p)),p.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(r,s);break;case"Pattern":const d=new iI(s);this.commonObjs.resolve(r,d.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,a])=>{var l;if(this.destroyed)return;const o=h(this,Va).get(i);if(!o.objs.has(r)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(r,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{var i;this.destroyed||(i=n.onProgress)==null||i.call(n,{loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var r;this.annotationStorage.size<=0&&be("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((r=this._fullReader)==null?void 0:r.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=h(this,_m).get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&h(this,Em).set(s.refStr,e);const a=new jse(n,s,this,this._params.pdfBug);return h(this,Va).set(n,a),a});return h(this,_m).set(n,i),i}getPageIndex(e){return sI(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return D(this,pd,Ky).call(this,"GetFieldObjects")}hasJSActions(){return D(this,pd,Ky).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,n){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:n})}getDocJSActions(){return D(this,pd,Ky).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return D(this,pd,Ky).call(this,"GetOptionalContentConfig").then(n=>new gse(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=h(this,Jo).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new pse(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null,hasStructTree:i[2]}});return h(this,Jo).set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of h(this,Va).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),h(this,Jo).clear(),this.filterFactory.destroy(!0),Qv.cleanup()}}cachedPageNumber(e){if(!sI(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return h(this,Em).get(n)??null}}Jo=new WeakMap,Va=new WeakMap,_m=new WeakMap,Em=new WeakMap,Zo=new WeakMap,pd=new WeakSet,Ky=function(e,n=null){const r=h(this,Jo).get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return h(this,Jo).set(e,i),i};var Xc;class Bse{constructor(e){I(this,Xc,null);q(this,"onContinue",null);q(this,"onError",null);_(this,Xc,e)}get promise(){return h(this,Xc).capability.promise}cancel(e=0){h(this,Xc).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=h(this,Xc).operatorList;if(!e)return!1;const{annotationCanvasMap:n}=h(this,Xc);return e.form||e.canvas&&(n==null?void 0:n.size)>0}}Xc=new WeakMap;var Yc,md;const yh=class yh{constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:f=null,enableHWA:p=!1,operationsFilter:g=null}){I(this,Yc,null);this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Bse(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=p,this._dependencyTracker=n.dependencyTracker,this._operationsFilter=g}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){var l,c;if(this.cancelled)return;if(this._canvas){if(h(yh,md).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(yh,md).add(this._canvas)}this._pdfBug&&((l=globalThis.StepperManager)!=null&&l.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:s,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Ep(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,n=0){var r,i,s;this.running=!1,this.cancelled=!0,(r=this.gfx)==null||r.endDrawing(),h(this,Yc)&&(window.cancelAnimationFrame(h(this,Yc)),_(this,Yc,null)),h(yh,md).delete(this._canvas),e||(e=new YM(`Rendering cancelled, page ${this._pageIndex+1}`,n)),this.callback(e),(s=(i=this.task).onError)==null||s.call(i,e)}operatorListChanged(){var e,n;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(n=this.stepper)==null||n.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?_(this,Yc,window.requestAnimationFrame(()=>{_(this,Yc,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(yh,md).delete(this._canvas),this.callback())))}};Yc=new WeakMap,md=new WeakMap,I(yh,md,new WeakSet);let wI=yh;const LH="5.4.449",$se="f44e5f0e6";var xi,gd,Pm,yn,Tb,Tm,Qo,Cb,Jc,Ys,kb,nt,xI,SI,AI,lh,jH,lc;const Yr=class Yr{constructor({editor:e=null,uiManager:n=null}){I(this,nt);I(this,xi,null);I(this,gd,null);I(this,Pm);I(this,yn,null);I(this,Tb,!1);I(this,Tm,!1);I(this,Qo,null);I(this,Cb);I(this,Jc,null);I(this,Ys,null);var r,i;e?(_(this,Tm,!1),_(this,Qo,e)):_(this,Tm,!0),_(this,Ys,(e==null?void 0:e._uiManager)||n),_(this,Cb,h(this,Ys)._eventBus),_(this,Pm,((r=e==null?void 0:e.color)==null?void 0:r.toUpperCase())||((i=h(this,Ys))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),h(Yr,kb)||_(Yr,kb,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return we(this,"_keyboardManager",new Aw([[["Escape","mac+Escape"],Yr.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Yr.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Yr.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Yr.prototype._moveToPrevious],[["Home","mac+Home"],Yr.prototype._moveToBeginning],[["End","mac+End"],Yr.prototype._moveToEnd]]))}renderButton(){const e=_(this,xi,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",h(this,Qo)&&(e.ariaControls=`${h(this,Qo).id}_colorpicker_dropdown`);const n=h(this,Ys)._signal;e.addEventListener("click",D(this,nt,lh).bind(this),{signal:n}),e.addEventListener("keydown",D(this,nt,AI).bind(this),{signal:n});const r=_(this,gd,document.createElement("span"));return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=h(this,Pm),e.append(r),e}renderMainDropdown(){const e=_(this,yn,D(this,nt,xI).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===h(this,xi)){D(this,nt,lh).call(this,e);return}const n=e.target.getAttribute("data-color");n&&D(this,nt,SI).call(this,n,e)}_moveToNext(e){var n,r;if(!h(this,nt,lc)){D(this,nt,lh).call(this,e);return}if(e.target===h(this,xi)){(n=h(this,yn).firstElementChild)==null||n.focus();return}(r=e.target.nextSibling)==null||r.focus()}_moveToPrevious(e){var n,r;if(e.target===((n=h(this,yn))==null?void 0:n.firstElementChild)||e.target===h(this,xi)){h(this,nt,lc)&&this._hideDropdownFromKeyboard();return}h(this,nt,lc)||D(this,nt,lh).call(this,e),(r=e.target.previousSibling)==null||r.focus()}_moveToBeginning(e){var n;if(!h(this,nt,lc)){D(this,nt,lh).call(this,e);return}(n=h(this,yn).firstElementChild)==null||n.focus()}_moveToEnd(e){var n;if(!h(this,nt,lc)){D(this,nt,lh).call(this,e);return}(n=h(this,yn).lastElementChild)==null||n.focus()}hideDropdown(){var e,n;(e=h(this,yn))==null||e.classList.add("hidden"),h(this,xi).ariaExpanded="false",(n=h(this,Jc))==null||n.abort(),_(this,Jc,null)}_hideDropdownFromKeyboard(){var e;if(!h(this,Tm)){if(!h(this,nt,lc)){(e=h(this,Qo))==null||e.unselect();return}this.hideDropdown(),h(this,xi).focus({preventScroll:!0,focusVisible:h(this,Tb)})}}updateColor(e){if(h(this,gd)&&(h(this,gd).style.backgroundColor=e),!h(this,yn))return;const n=h(this,Ys).highlightColors.values();for(const r of h(this,yn).children)r.ariaSelected=n.next().value===e.toUpperCase()}destroy(){var e,n;(e=h(this,xi))==null||e.remove(),_(this,xi,null),_(this,gd,null),(n=h(this,yn))==null||n.remove(),_(this,yn,null)}};xi=new WeakMap,gd=new WeakMap,Pm=new WeakMap,yn=new WeakMap,Tb=new WeakMap,Tm=new WeakMap,Qo=new WeakMap,Cb=new WeakMap,Jc=new WeakMap,Ys=new WeakMap,kb=new WeakMap,nt=new WeakSet,xI=function(){const e=document.createElement("div"),n=h(this,Ys)._signal;e.addEventListener("contextmenu",Os,{signal:n}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),h(this,Qo)&&(e.id=`${h(this,Qo).id}_colorpicker_dropdown`);for(const[r,i]of h(this,Ys).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",h(Yr,kb)[r]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.ariaSelected=i===h(this,Pm),s.addEventListener("click",D(this,nt,SI).bind(this,i),{signal:n}),e.append(s)}return e.addEventListener("keydown",D(this,nt,AI).bind(this),{signal:n}),e},SI=function(e,n){n.stopPropagation(),h(this,Cb).dispatch("switchannotationeditorparams",{source:this,type:Me.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},AI=function(e){Yr._keyboardManager.exec(this,e)},lh=function(e){if(h(this,nt,lc)){this.hideDropdown();return}if(_(this,Tb,e.detail===0),h(this,Jc)||(_(this,Jc,new AbortController),window.addEventListener("pointerdown",D(this,nt,jH).bind(this),{signal:h(this,Ys).combinedSignal(h(this,Jc))})),h(this,xi).ariaExpanded="true",h(this,yn)){h(this,yn).classList.remove("hidden");return}const n=_(this,yn,D(this,nt,xI).call(this));h(this,xi).append(n)},jH=function(e){var n;(n=h(this,yn))!=null&&n.contains(e.target)||this.hideDropdown()},lc=function(){return h(this,yn)&&!h(this,yn).classList.contains("hidden")},I(Yr,kb,null);let tA=Yr;var za,Ib,Cm,Ob;const vh=class vh{constructor(e){I(this,za,null);I(this,Ib,null);I(this,Cm,null);_(this,Ib,e),_(this,Cm,e._uiManager),h(vh,Ob)||_(vh,Ob,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(h(this,za))return h(this,za);const{editorType:e,colorType:n,color:r}=h(this,Ib),i=_(this,za,document.createElement("input"));return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",h(vh,Ob)[e]),i.addEventListener("input",()=>{h(this,Cm).updateParams(n,i.value)},{signal:h(this,Cm)._signal}),i}update(e){h(this,za)&&(h(this,za).value=e)}destroy(){var e;(e=h(this,za))==null||e.remove(),_(this,za,null)}hideDropdown(){}};za=new WeakMap,Ib=new WeakMap,Cm=new WeakMap,Ob=new WeakMap,I(vh,Ob,null);let nA=vh;function b3(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function yy(t){return Math.max(0,Math.min(255,255*t))}class w3{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=yy(e),[e,e,e]}static G_HTML([e]){const n=b3(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(yy)}static RGB_HTML(e){return`#${e.map(b3).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[yy(1-Math.min(1,e+i)),yy(1-Math.min(1,r+i)),yy(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,s=1-n,a=1-r,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class Use{create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){ut("Abstract method `_createSVG` called.")}}class rA extends Use{_createSVG(e){return document.createElementNS(Ao,e)}}const Vse=9,of=new WeakSet,zse=new Date().getTimezoneOffset()*60*1e3;class IT{static create(e){switch(e.data.annotationType){case nn.LINK:return new tD(e);case nn.TEXT:return new Wse(e);case nn.WIDGET:switch(e.data.fieldType){case"Tx":return new Gse(e);case"Btn":return e.data.radioButton?new $H(e):e.data.checkBox?new qse(e):new Xse(e);case"Ch":return new Yse(e);case"Sig":return new Kse(e)}return new Af(e);case nn.POPUP:return new EI(e);case nn.FREETEXT:return new WH(e);case nn.LINE:return new Zse(e);case nn.SQUARE:return new Qse(e);case nn.CIRCLE:return new eae(e);case nn.POLYLINE:return new GH(e);case nn.CARET:return new nae(e);case nn.INK:return new nD(e);case nn.POLYGON:return new tae(e);case nn.HIGHLIGHT:return new KH(e);case nn.UNDERLINE:return new rae(e);case nn.SQUIGGLY:return new iae(e);case nn.STRIKEOUT:return new sae(e);case nn.STAMP:return new qH(e);case nn.FILEATTACHMENT:return new aae(e);default:return new Lt(e)}}}var yd,km,gs,Mb,_I;const _R=class _R{constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){I(this,Mb);I(this,yd,null);I(this,km,!1);I(this,gs,null);this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,n&&(this.contentElement=this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:n}){return!!(e!=null&&e.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return _R._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var r;const{data:e}=this,n=(r=this.annotationStorage)==null?void 0:r.getEditor(e.id);return n?n.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var o;const e=(o=this.annotationStorage)==null?void 0:o.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:n,inkLists:r,rect:i}=this.data;let s=-1/0,a=-1/0;if((n==null?void 0:n.length)>=8){for(let l=0;l<n.length;l+=8)n[l+1]>a?(a=n[l+1],s=n[l+2]):n[l+1]===a&&(s=Math.max(s,n[l+2]));return[s,a]}if((r==null?void 0:r.length)>=1){for(const l of r)for(let c=0,u=l.length;c<u;c+=2)l[c+1]>a?(a=l[c+1],s=l[c]):l[c+1]===a&&(s=Math.max(s,l[c]));if(s!==1/0)return[s,a]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:n},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}}=this.parent;return e[1]=n[3]-e[1]+n[1],e[0]=100*(e[0]-s)/r,e[1]=100*(e[1]-a)/i,e}get commentText(){var n,r,i;const{data:e}=this;return((r=(n=this.annotationStorage.getRawValue(`${Yv}${e.id}`))==null?void 0:n.popup)==null?void 0:r.contents)||((i=e.contentsObj)==null?void 0:i.str)||""}set commentText(e){const{data:n}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(n.id,{popup:r})||this.annotationStorage.setValue(`${Yv}${n.id}`,{id:n.id,annotationType:n.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:n.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,n;(n=((e=h(this,gs))==null?void 0:e.popup)||this.popup)==null||n.remove(),_(this,gs,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(h(this,yd)||_(this,yd,{rect:this.data.rect.slice(0)}));const{rect:n,popup:r}=e;n&&D(this,Mb,_I).call(this,n);let i=((s=h(this,gs))==null?void 0:s.popup)||this.popup;!i&&(r!=null&&r.text)&&(this._createPopup(r),i=h(this,gs).popup),i&&(i.updateEdited(e),r!=null&&r.deleted&&(i.remove(),_(this,gs,null),this.popup=null))}resetEdited(){var e;h(this,yd)&&(D(this,Mb,_I).call(this,h(this,yd).rect),(e=h(this,gs))==null||e.popup.resetEdited(),_(this,yd,null))}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",n.id),!(this instanceof Af)&&!(this instanceof tD)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,n.alternativeText&&(s.title=n.alternativeText),n.noRotate&&s.classList.add("norotate"),!n.rect||this instanceof EI){const{rotation:y}=n;return!n.hasOwnCanvas&&y!==0&&this.setRotation(y,s),s}const{width:o,height:l}=this;if(!e&&n.borderStyle.width>0){a.borderWidth=`${n.borderStyle.width}px`;const y=n.borderStyle.horizontalCornerRadius,b=n.borderStyle.verticalCornerRadius;if(y>0||b>0){const S=`calc(${y}px * var(--total-scale-factor)) / calc(${b}px * var(--total-scale-factor))`;a.borderRadius=S}else if(this instanceof $H){const S=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=S}switch(n.borderStyle.style){case jf.SOLID:a.borderStyle="solid";break;case jf.DASHED:a.borderStyle="dashed";break;case jf.BEVELED:be("Unimplemented border style: beveled");break;case jf.INSET:be("Unimplemented border style: inset");break;case jf.UNDERLINE:a.borderBottomStyle="solid";break}const v=n.borderColor||null;v?(_(this,km,!0),a.borderColor=ae.makeHexColor(v[0]|0,v[1]|0,v[2]|0)):a.borderWidth=0}const c=ae.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:u,pageHeight:d,pageX:f,pageY:p}=i.rawDims;a.left=`${100*(c[0]-f)/u}%`,a.top=`${100*(c[1]-p)/d}%`;const{rotation:g}=n;return n.hasOwnCanvas||g===0?(a.width=`${100*o/u}%`,a.height=`${100*l/d}%`):this.setRotation(g,s),s}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),n.style.width=`${100*s/r}%`,n.style.height=`${100*a/i}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const s=i.detail[n],a=s[0],o=s.slice(1);i.target.style[r]=w3[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:w3[`${a}_rgb`](o)})};return we(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail)){const s=e[i]||r[i];s==null||s(n)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,s]of Object.entries(n)){const a=r[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,s]=this.data.rect.map(y=>Math.fround(y));if(e.length===8){const[y,b,v,S]=e.subarray(2,6);if(i===y&&s===b&&n===v&&r===S)return}const{style:a}=this.container;let o;if(h(this,km)){const{borderColor:y,borderWidth:b}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const l=i-n,c=s-r,{svgFactory:u}=this,d=u.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0),d.role="none";const f=u.createElement("defs");d.append(f);const p=u.createElement("clipPath"),g=`clippath_${this.data.id}`;p.setAttribute("id",g),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let y=2,b=e.length;y<b;y+=8){const v=e[y],S=e[y+1],w=e[y+2],T=e[y+3],P=u.createElement("rect"),O=(w-n)/l,C=(s-S)/c,k=(v-w)/l,N=(S-T)/c;P.setAttribute("x",O),P.setAttribute("y",C),P.setAttribute("width",k),P.setAttribute("height",N),p.append(P),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${O}" y="${C}" width="${k}" height="${N}"/>`)}h(this,km)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(d),this.container.style.clipPath=`url(#${g})`}_createPopup(e=null){const{data:n}=this;let r,i;e?(r={str:e.text},i=e.date):(r=n.contentsObj,i=n.modificationDate),_(this,gs,new EI({data:{color:n.color,titleObj:n.titleObj,modificationDate:i,contentsObj:r,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(h(this,gs)||this.popup||this.data.popupRef)}get extraPopupElement(){return h(this,gs)}render(){ut("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===n)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${a}"]`);if(c&&!of.has(c)){be(`_getElementsByName - element not allowed: ${a}`);continue}r.push({id:a,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==n&&of.has(i)&&r.push({id:a,exportValue:s,domElement:i})}return r}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var r;(r=this.linkService.eventBus)==null||r.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};yd=new WeakMap,km=new WeakMap,gs=new WeakMap,Mb=new WeakSet,_I=function(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;r==null||r.splice(0,4,...e),n.left=`${100*(e[0]-o)/s}%`,n.top=`${100*(a-e[3]+l)/a}%`,i===0?(n.width=`${100*(e[2]-e[0])/s}%`,n.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(i)};let Lt=_R;class Hse extends Lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}var Fi,ch,FH,BH;class tD extends Lt{constructor(n,r=null){super(n,{isRenderable:!0,ignoreBorder:!!(r!=null&&r.ignoreBorder),createQuadrilaterals:!0});I(this,Fi);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:r}=this,i=document.createElement("a");i.setAttribute("data-element-id",n.id);let s=!1;return n.url?(r.addLinkAttributes(i,n.url,n.newWindow),s=!0):n.action?(this._bindNamedAction(i,n.action,n.overlaidText),s=!0):n.attachment?(D(this,Fi,FH).call(this,i,n.attachment,n.overlaidText,n.attachmentDest),s=!0):n.setOCGState?(D(this,Fi,BH).call(this,i,n.setOCGState,n.overlaidText),s=!0):n.dest?(this._bindLink(i,n.dest,n.overlaidText),s=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,n),s=!0),n.resetForm?(this._bindResetFormAction(i,n.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&(this.contentElement=i,this.container.append(i)),this.container}_bindLink(n,r,i=""){n.href=this.linkService.getDestinationHash(r),n.onclick=()=>(r&&this.linkService.goToDestination(r),!1),(r||r==="")&&D(this,Fi,ch).call(this),i&&(n.title=i)}_bindNamedAction(n,r,i=""){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(r),!1),i&&(n.title=i),D(this,Fi,ch).call(this)}_bindJSAction(n,r){n.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(r.actions)){const a=i.get(s);a&&(n[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r.id,name:s}}),!1})}r.overlaidText&&(n.title=r.overlaidText),n.onclick||(n.onclick=()=>!1),D(this,Fi,ch).call(this)}_bindResetFormAction(n,r){const i=n.onclick;if(i||(n.href=this.linkService.getAnchorUrl("")),D(this,Fi,ch).call(this),!this._fieldObjects){be('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(n.onclick=()=>!1);return}n.onclick=()=>{var d;i==null||i();const{fields:s,refs:a,include:o}=r,l=[];if(s.length!==0||a.length!==0){const f=new Set(a);for(const p of s){const g=this._fieldObjects[p]||[];for(const{id:y}of g)f.add(y)}for(const p of Object.values(this._fieldObjects))for(const g of p)f.has(g.id)===o&&l.push(g)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const c=this.annotationStorage,u=[];for(const f of l){const{id:p}=f;switch(u.push(p),f.type){case"text":{const y=f.defaultValue||"";c.setValue(p,{value:y});break}case"checkbox":case"radiobutton":{const y=f.defaultValue===f.exportValues;c.setValue(p,{value:y});break}case"combobox":case"listbox":{const y=f.defaultValue||"";c.setValue(p,{value:y});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!of.has(g)){be(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}Fi=new WeakSet,ch=function(){this.container.setAttribute("data-internal-link","")},FH=function(n,r,i="",s=null){n.href=this.linkService.getAnchorUrl(""),r.description?n.title=r.description:i&&(n.title=i),n.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(r.content,r.filename,s),!1},D(this,Fi,ch).call(this)},BH=function(n,r,i=""){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(r),!1),i&&(n.title=i),D(this,Fi,ch).call(this)};class Wse extends Lt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class Af extends Lt{render(){return this.container}showElementAndHideCanvas(e){var n;this.data.hasOwnCanvas&&(((n=e.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return or.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,s){r.includes("mouse")?e.addEventListener(r,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(r,a=>{var o;if(r==="blur"){if(!n.focused||!a.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,n,r,i){var s,a,o;for(const[l,c]of r)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(n||(n={focused:!1})),this._setEventListener(e,n,l,c,i),c==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,n,"blur","Blur",null):c==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":ae.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||Vse,s=e.style;let a;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),u=Math.round(c/(ST*i))||1,d=c/u;a=Math.min(i,l(d/ST))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(c/ST))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=ae.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class Gse extends Af{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[n]=r),s.setValue(a.id,{[i]:r})}render(){var i,s;const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const a=e.getValue(n,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let c=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=c??o,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",c??o),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),of.add(r),this.contentElement=r,r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:d,datetimeType:f,timeStep:p}=this.data,g=!!f&&this.enableScripting;d&&(r.title=d),this._setRequired(r,this.data.required),l&&(r.maxLength=l),r.addEventListener("input",b=>{e.setValue(n,{value:b.target.value}),this.setPropertyOnSiblings(r,"value",b.target.value,"value"),u.formattedValue=null}),r.addEventListener("resetform",b=>{const v=this.data.defaultFieldValue??"";r.value=u.userValue=v,u.formattedValue=null});let y=b=>{const{formattedValue:v}=u;v!=null&&(b.target.value=v),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",v=>{var w;if(u.focused)return;const{target:S}=v;if(g&&(S.type=f,p&&(S.step=p)),u.userValue){const T=u.userValue;if(g)if(f==="time"){const P=new Date(T),O=[P.getHours(),P.getMinutes(),P.getSeconds()];S.value=O.map(C=>C.toString().padStart(2,"0")).join(":")}else S.value=new Date(T-zse).toISOString().split(f==="date"?"T":".",1)[0];else S.value=T}u.lastCommittedValue=S.value,u.commitKey=1,(w=this.data.actions)!=null&&w.Focus||(u.focused=!0)}),r.addEventListener("updatefromsandbox",v=>{this.showElementAndHideCanvas(v.target);const S={value(w){u.userValue=w.detail.value??"",g||e.setValue(n,{value:u.userValue.toString()}),w.target.value=u.userValue},formattedValue(w){const{formattedValue:T}=w.detail;u.formattedValue=T,T!=null&&w.target!==document.activeElement&&(w.target.value=T);const P={formattedValue:T};g&&(P.value=T),e.setValue(n,P)},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{var C;const{charLimit:T}=w.detail,{target:P}=w;if(T===0){P.removeAttribute("maxLength");return}P.setAttribute("maxLength",T);let O=u.userValue;!O||O.length<=T||(O=O.slice(0,T),P.value=u.userValue=O,e.setValue(n,{value:O}),(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:O,willCommit:!0,commitKey:1,selStart:P.selectionStart,selEnd:P.selectionEnd}}))}};this._dispatchEventFromSandbox(S,v)}),r.addEventListener("keydown",v=>{var T;u.commitKey=1;let S=-1;if(v.key==="Escape"?S=0:v.key==="Enter"&&!this.data.multiLine?S=2:v.key==="Tab"&&(u.commitKey=3),S===-1)return;const{value:w}=v.target;u.lastCommittedValue!==w&&(u.lastCommittedValue=w,u.userValue=w,(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:w,willCommit:!0,commitKey:S,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}))});const b=y;y=null,r.addEventListener("blur",v=>{var T,P;if(!u.focused||!v.relatedTarget)return;(T=this.data.actions)!=null&&T.Blur||(u.focused=!1);const{target:S}=v;let{value:w}=S;if(g){if(w&&f==="time"){const O=w.split(":").map(C=>parseInt(C,10));w=new Date(2e3,0,1,O[0],O[1],O[2]||0).valueOf(),S.step=""}else w.includes("T")||(w=`${w}T00:00`),w=new Date(w).valueOf();S.type="text"}u.userValue=w,u.lastCommittedValue!==w&&((P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:w,willCommit:!0,commitKey:u.commitKey,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}})),b(v)}),(s=this.data.actions)!=null&&s.Keystroke&&r.addEventListener("beforeinput",v=>{var N;u.lastCommittedValue=null;const{data:S,target:w}=v,{value:T,selectionStart:P,selectionEnd:O}=w;let C=P,k=O;switch(v.inputType){case"deleteWordBackward":{const L=T.substring(0,P).match(/\w*[^\w]*$/);L&&(C-=L[0].length);break}case"deleteWordForward":{const L=T.substring(P).match(/^[^\w]*\w*/);L&&(k+=L[0].length);break}case"deleteContentBackward":P===O&&(C-=1);break;case"deleteContentForward":P===O&&(k+=1);break}v.preventDefault(),(N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:T,change:S||"",willCommit:!1,selStart:C,selEnd:k}})}),this._setEventListeners(r,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],v=>v.target.value)}if(y&&r.addEventListener("blur",y),this.data.comb){const v=(this.data.rect[2]-this.data.rect[0])/l;r.classList.add("comb"),r.style.letterSpacing=`calc(${v}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Kse extends Af{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class qse extends Af{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return of.add(s),s.setAttribute("data-element-id",r),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=n.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",n.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,r)){const u=l&&c.exportValue===n.exportValue;c.domElement&&(c.domElement.checked=u),e.setValue(c.id,{value:u})}e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=n.defaultFieldValue||"Off";a.target.checked=o===n.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class $H extends Af{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const a of this._getElementsByName(n.fieldName,r))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(of.add(s),s.setAttribute("data-element-id",r),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=n.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=n.defaultFieldValue;a.target.checked=o!=null&&o===n.buttonValue}),this.enableScripting&&this.hasJSActions){const a=n.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const u=a===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const f=u&&d.id===r;d.domElement&&(d.domElement.checked=f),e.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Xse extends tD{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class Yse extends Af{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");of.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{const d=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===d});for(const u of this.data.options){const d=document.createElement("option");d.textContent=u.displayValue,d.value=u.exportValue,r.value.includes(u.exportValue)&&(d.setAttribute("selected",!0),s=!1),i.append(d)}let a=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),a=()=>{u.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=u=>{const d=u?"value":"textContent",{options:f,multiple:p}=i;return p?Array.prototype.filter.call(f,g=>g.selected).map(g=>g[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let l=o(!1);const c=u=>{const d=u.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{const d={value(f){a==null||a();const p=f.detail.value,g=new Set(Array.isArray(p)?p:[p]);for(const y of i.options)y.selected=g.has(y.value);e.setValue(n,{value:o(!0)}),l=o(!1)},multipleSelection(f){i.multiple=!0},remove(f){const p=i.options,g=f.detail.remove;p[g].selected=!1,i.remove(g),p.length>0&&Array.prototype.findIndex.call(p,b=>b.selected)===-1&&(p[0].selected=!0),e.setValue(n,{value:o(!0),items:c(f)}),l=o(!1)},clear(f){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),l=o(!1)},insert(f){const{index:p,displayValue:g,exportValue:y}=f.detail.insert,b=i.children[p],v=document.createElement("option");v.textContent=g,v.value=y,b?b.before(v):i.append(v),e.setValue(n,{value:o(!0),items:c(f)}),l=o(!1)},items(f){const{items:p}=f.detail;for(;i.length!==0;)i.remove(0);for(const g of p){const{displayValue:y,exportValue:b}=g,v=document.createElement("option");v.textContent=y,v.value=b,i.append(v)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:o(!0),items:c(f)}),l=o(!1)},indices(f){const p=new Set(f.detail.indices);for(const g of f.target.options)g.selected=p.has(g.index);e.setValue(n,{value:o(!0)}),l=o(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,u)}),i.addEventListener("input",u=>{var p;const d=o(!0),f=o(!1);e.setValue(n,{value:d}),u.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:l,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){e.setValue(n,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}var Db,PI;class EI extends Lt{constructor(n){const{data:r,elements:i,parent:s}=n,a=!!s._commentManager;super(n,{isRenderable:!a&&Lt._hasPopupData(r)});I(this,Db);if(this.elements=i,a&&Lt._hasPopupData(r)){const o=this.popup=D(this,Db,PI).call(this);for(const l of i)l.popup=o}else this.popup=null}render(){const{container:n}=this;n.classList.add("popupAnnotation"),n.role="comment";const r=this.popup=D(this,Db,PI).call(this),i=[];for(const s of this.elements)s.popup=r,s.container.ariaHasPopup="dialog",i.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(s=>`${cp}${s}`).join(",")),this.container}}Db=new WeakSet,PI=function(){return new Jse({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Si,Zc,__,E_,Im,Om,Ut,Ha,Qc,vd,Mm,Dm,Wa,Ai,el,tl,Vt,nl,eu,Nb,rl,Nm,bd,tu,In,nu,Pe,U1,TI,CI,kI,V1,II,UH,VH,zH,HH,z1,H1,OI;class Jse{constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:c,parentRect:u,open:d,commentManager:f=null}){I(this,Pe);I(this,Si,null);I(this,Zc,D(this,Pe,zH).bind(this));I(this,__,D(this,Pe,OI).bind(this));I(this,E_,D(this,Pe,H1).bind(this));I(this,Im,D(this,Pe,z1).bind(this));I(this,Om,null);I(this,Ut,null);I(this,Ha,null);I(this,Qc,null);I(this,vd,null);I(this,Mm,null);I(this,Dm,null);I(this,Wa,!1);I(this,Ai,null);I(this,el,null);I(this,tl,null);I(this,Vt,null);I(this,nl,null);I(this,eu,null);I(this,Nb,null);I(this,rl,null);I(this,Nm,null);I(this,bd,null);I(this,tu,!1);I(this,In,null);I(this,nu,null);_(this,Ut,e),_(this,Nm,i),_(this,Ha,a),_(this,rl,o),_(this,Mm,l),_(this,Om,n),_(this,Nb,c),_(this,Dm,u),_(this,vd,r),_(this,Si,f),_(this,In,r[0]),_(this,Qc,XS.toDateObject(s)),this.trigger=r.flatMap(p=>p.getElementsToTriggerPopup()),f||(D(this,Pe,U1).call(this),h(this,Ut).hidden=!0,d&&D(this,Pe,z1).call(this))}renderCommentButton(){if(h(this,Vt)){h(this,Vt).parentNode||h(this,In).container.after(h(this,Vt));return}if(h(this,nl)||D(this,Pe,TI).call(this),!h(this,nl))return;const{signal:e}=_(this,el,new AbortController),n=h(this,In).hasOwnCommentButton,r=()=>{h(this,Si).toggleCommentPopup(this,!0,void 0,!n)},i=()=>{h(this,Si).toggleCommentPopup(this,!1,!0,!n)},s=()=>{h(this,Si).toggleCommentPopup(this,!1,!1)};if(n){_(this,Vt,h(this,In).container);for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",h(this,Zc),{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=_(this,Vt,document.createElement("button"));a.className="annotationCommentButton";const o=h(this,In).container;a.style.zIndex=o.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),D(this,Pe,kI).call(this),D(this,Pe,CI).call(this),a.addEventListener("keydown",h(this,Zc),{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),o.after(a)}}get commentButtonColor(){const{color:e,opacity:n}=h(this,In).commentData;return e?h(this,Mm)._commentManager.makeCommentColor(e,n):null}focusCommentButton(){setTimeout(()=>{var e;(e=h(this,Vt))==null||e.focus()},0)}getData(){const{richText:e,color:n,opacity:r,creationDate:i,modificationDate:s}=h(this,In).commentData;return{contentsObj:{str:this.comment},richText:e,color:n,opacity:r,creationDate:i,modificationDate:s}}get elementBeforePopup(){return h(this,Vt)}get comment(){return h(this,nu)||_(this,nu,h(this,In).commentText),h(this,nu)}set comment(e){e!==this.comment&&(h(this,In).commentText=_(this,nu,e))}focus(){var e;(e=h(this,In).container)==null||e.focus()}get parentBoundingClientRect(){return h(this,In).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:n}){h(this,Vt)&&(h(this,Vt).classList.toggle("selected",e),h(this,Vt).ariaExpanded=n)}setSelectedCommentButton(e){h(this,Vt).classList.toggle("selected",e)}get commentPopupPosition(){if(h(this,eu))return h(this,eu);const{x:e,y:n,height:r}=h(this,Vt).getBoundingClientRect(),{x:i,y:s,width:a,height:o}=h(this,In).layer.getBoundingClientRect();return[(e-i)/a,(n+r-s)/o]}set commentPopupPosition(e){_(this,eu,e)}hasDefaultPopupPosition(){return h(this,eu)===null}get commentButtonPosition(){return h(this,nl)}get commentButtonWidth(){return h(this,Vt).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[n,r]=h(this,eu)||this.commentButtonPosition.map(c=>c/100),i=this.parentBoundingClientRect,{x:s,y:a,width:o,height:l}=i;h(this,Si).showDialog(null,this,s+n*o,a+r*l,{...e,parentDimensions:i})}render(){var r,i;if(h(this,Ai))return;const e=_(this,Ai,document.createElement("div"));if(e.className="popup",h(this,Om)){const s=e.style.outlineColor=ae.makeHexColor(...h(this,Om));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const n=document.createElement("span");if(n.className="header",(r=h(this,Nm))!=null&&r.str){const s=document.createElement("span");s.className="title",n.append(s),{dir:s.dir,str:s.textContent}=h(this,Nm)}if(e.append(n),h(this,Qc)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:h(this,Qc).valueOf()})),s.dateTime=h(this,Qc).toISOString(),n.append(s)}Iz({html:h(this,Pe,V1)||h(this,Ha).str,dir:(i=h(this,Ha))==null?void 0:i.dir,className:"popupContent"},e),h(this,Ut).append(e)}updateEdited({rect:e,popup:n,deleted:r}){var i;if(h(this,Si)){r?(this.remove(),_(this,nu,null)):n&&(n.deleted?this.remove():(D(this,Pe,kI).call(this),_(this,nu,n.text))),e&&(_(this,nl,null),D(this,Pe,TI).call(this),D(this,Pe,CI).call(this));return}if(r||n!=null&&n.deleted){this.remove();return}D(this,Pe,U1).call(this),h(this,bd)||_(this,bd,{contentsObj:h(this,Ha),richText:h(this,rl)}),e&&_(this,tl,null),n&&n.text&&(_(this,rl,D(this,Pe,VH).call(this,n.text)),_(this,Qc,XS.toDateObject(n.date)),_(this,Ha,null)),(i=h(this,Ai))==null||i.remove(),_(this,Ai,null)}resetEdited(){var e;h(this,bd)&&({contentsObj:fn(this,Ha)._,richText:fn(this,rl)._}=h(this,bd),_(this,bd,null),(e=h(this,Ai))==null||e.remove(),_(this,Ai,null),_(this,tl,null))}remove(){var e,n,r;if((e=h(this,el))==null||e.abort(),_(this,el,null),(n=h(this,Ai))==null||n.remove(),_(this,Ai,null),_(this,tu,!1),_(this,Wa,!1),(r=h(this,Vt))==null||r.remove(),_(this,Vt,null),this.trigger)for(const i of this.trigger)i.classList.remove("popupTriggerArea")}forceHide(){_(this,tu,this.isVisible),h(this,tu)&&(h(this,Ut).hidden=!0)}maybeShow(){h(this,Si)||(D(this,Pe,U1).call(this),h(this,tu)&&(h(this,Ai)||D(this,Pe,H1).call(this),_(this,tu,!1),h(this,Ut).hidden=!1))}get isVisible(){return h(this,Si)?!1:h(this,Ut).hidden===!1}}Si=new WeakMap,Zc=new WeakMap,__=new WeakMap,E_=new WeakMap,Im=new WeakMap,Om=new WeakMap,Ut=new WeakMap,Ha=new WeakMap,Qc=new WeakMap,vd=new WeakMap,Mm=new WeakMap,Dm=new WeakMap,Wa=new WeakMap,Ai=new WeakMap,el=new WeakMap,tl=new WeakMap,Vt=new WeakMap,nl=new WeakMap,eu=new WeakMap,Nb=new WeakMap,rl=new WeakMap,Nm=new WeakMap,bd=new WeakMap,tu=new WeakMap,In=new WeakMap,nu=new WeakMap,Pe=new WeakSet,U1=function(){var n;if(h(this,el))return;_(this,el,new AbortController);const{signal:e}=h(this,el);for(const r of this.trigger)r.addEventListener("click",h(this,Im),{signal:e}),r.addEventListener("pointerenter",h(this,E_),{signal:e}),r.addEventListener("pointerleave",h(this,__),{signal:e}),r.classList.add("popupTriggerArea");for(const r of h(this,vd))(n=r.container)==null||n.addEventListener("keydown",h(this,Zc),{signal:e})},TI=function(){const e=h(this,vd).find(n=>n.hasCommentButton);e&&_(this,nl,e._normalizePoint(e.commentButtonPosition))},CI=function(){if(h(this,In).extraPopupElement&&!h(this,In).editor)return;h(this,Vt)||this.renderCommentButton();const[e,n]=h(this,nl),{style:r}=h(this,Vt);r.left=`calc(${e}%)`,r.top=`calc(${n}% - var(--comment-button-dim))`},kI=function(){h(this,In).extraPopupElement||(h(this,Vt)||this.renderCommentButton(),h(this,Vt).style.backgroundColor=this.commentButtonColor||"")},V1=function(){const e=h(this,rl),n=h(this,Ha);return e!=null&&e.str&&(!(n!=null&&n.str)||n.str===e.str)&&h(this,rl).html||null},II=function(){var e,n,r;return((r=(n=(e=h(this,Pe,V1))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.fontSize)||0},UH=function(){var e,n,r;return((r=(n=(e=h(this,Pe,V1))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:r.color)||null},VH=function(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:h(this,Pe,UH),fontSize:h(this,Pe,II)?`calc(${h(this,Pe,II)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))n.push({name:"span",value:s,attributes:i});return r},zH=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&h(this,Wa))&&D(this,Pe,z1).call(this)},HH=function(){if(h(this,tl)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:s}}}=h(this,Mm);let a=!!h(this,Dm),o=a?h(this,Dm):h(this,Nb);for(const g of h(this,vd))if(!o||ae.intersect(g.data.rect,o)!==null){o=g.data.rect,a=!0;break}const l=ae.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),u=a?o[2]-o[0]+5:0,d=l[0]+u,f=l[1];_(this,tl,[100*(d-i)/n,100*(f-s)/r]);const{style:p}=h(this,Ut);p.left=`${h(this,tl)[0]}%`,p.top=`${h(this,tl)[1]}%`},z1=function(){if(h(this,Si)){h(this,Si).toggleCommentPopup(this,!1);return}_(this,Wa,!h(this,Wa)),h(this,Wa)?(D(this,Pe,H1).call(this),h(this,Ut).addEventListener("click",h(this,Im)),h(this,Ut).addEventListener("keydown",h(this,Zc))):(D(this,Pe,OI).call(this),h(this,Ut).removeEventListener("click",h(this,Im)),h(this,Ut).removeEventListener("keydown",h(this,Zc)))},H1=function(){h(this,Ai)||this.render(),this.isVisible?h(this,Wa)&&h(this,Ut).classList.add("focused"):(D(this,Pe,HH).call(this),h(this,Ut).hidden=!1,h(this,Ut).style.zIndex=parseInt(h(this,Ut).style.zIndex)+1e3)},OI=function(){h(this,Ut).classList.remove("focused"),!(h(this,Wa)||!this.isVisible)&&(h(this,Ut).hidden=!0,h(this,Ut).style.zIndex=parseInt(h(this,Ut).style.zIndex)-1e3)};class WH extends Lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Se.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var Rb;class Zse extends Lt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});I(this,Rb,null)}render(){this.container.classList.add("lineAnnotation");const{data:n,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=_(this,Rb,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),a.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),a.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),a.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),a.setAttribute("stroke-width",n.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!n.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return h(this,Rb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Rb=new WeakMap;var Lb;class Qse extends Lt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});I(this,Lb,null)}render(){this.container.classList.add("squareAnnotation");const{data:n,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=n.borderStyle.width,o=_(this,Lb,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",r-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!n.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return h(this,Lb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Lb=new WeakMap;var jb;class eae extends Lt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});I(this,jb,null)}render(){this.container.classList.add("circleAnnotation");const{data:n,width:r,height:i}=this,s=this.svgFactory.create(r,i,!0),a=n.borderStyle.width,o=_(this,jb,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",r/2),o.setAttribute("cy",i/2),o.setAttribute("rx",r/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!n.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return h(this,jb)}addHighlightArea(){this.container.classList.add("highlightArea")}}jb=new WeakMap;var Fb;class GH extends Lt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});I(this,Fb,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:r,borderStyle:i,popupRef:s},width:a,height:o}=this;if(!r)return this.container;const l=this.svgFactory.create(a,o,!0);let c=[];for(let d=0,f=r.length;d<f;d+=2){const p=r[d]-n[0],g=n[3]-r[d+1];c.push(`${p},${g}`)}c=c.join(" ");const u=_(this,Fb,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",c),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return h(this,Fb)}addHighlightArea(){this.container.classList.add("highlightArea")}}Fb=new WeakMap;class tae extends GH{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class nae extends Lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}var Bb,wd,$b,MI;class nD extends Lt{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});I(this,$b);I(this,Bb,null);I(this,wd,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Se.HIGHLIGHT:Se.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,rotation:r,inkLists:i,borderStyle:s,popupRef:a}}=this,{transform:o,width:l,height:c}=D(this,$b,MI).call(this,r,n),u=this.svgFactory.create(l,c,!0),d=_(this,Bb,this.svgFactory.createElement("svg:g"));u.append(d),d.setAttribute("stroke-width",s.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",o);for(let f=0,p=i.length;f<p;f++){const g=this.svgFactory.createElement(this.svgElementName);h(this,wd).push(g),g.setAttribute("points",i[f].join(",")),d.append(g)}return!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(u),this._editOnDoubleClick(),this.container}updateEdited(n){super.updateEdited(n);const{thickness:r,points:i,rect:s}=n,a=h(this,Bb);if(r>=0&&a.setAttribute("stroke-width",r||1),i)for(let o=0,l=h(this,wd).length;o<l;o++)h(this,wd)[o].setAttribute("points",i[o].join(","));if(s){const{transform:o,width:l,height:c}=D(this,$b,MI).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return h(this,wd)}addHighlightArea(){this.container.classList.add("highlightArea")}}Bb=new WeakMap,wd=new WeakMap,$b=new WeakSet,MI=function(n,r){switch(n){case 90:return{transform:`rotate(90) translate(${-r[0]},${r[1]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};case 180:return{transform:`rotate(180) translate(${-r[2]},${r[1]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]};case 270:return{transform:`rotate(270) translate(${-r[2]},${r[3]}) scale(1,-1)`,width:r[3]-r[1],height:r[2]-r[0]};default:return{transform:`translate(${-r[0]},${r[3]}) scale(1,-1)`,width:r[2]-r[0],height:r[3]-r[1]}}};class KH extends Lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Se.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class rae extends Lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class iae extends Lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class sae extends Lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class qH extends Lt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Se.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var Ub,Vb,DI;class aae extends Lt{constructor(n){var i;super(n,{isRenderable:!0});I(this,Vb);I(this,Ub,null);const{file:r}=this.data;this.filename=r.filename,this.content=r.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...r})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:r}=this;let i;r.hasAppearance||r.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(r.name)?"paperclip":"pushpin"}.svg`,r.fillAlpha&&r.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(r.fillAlpha*100)}%);`)),i.addEventListener("dblclick",D(this,Vb,DI).bind(this)),_(this,Ub,i);const{isMac:s}=or.platform;return n.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&D(this,Vb,DI).call(this)}),!r.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):i.classList.add("popupTriggerArea"),n.append(i),n}getElementsToTriggerPopup(){return h(this,Ub)}addHighlightArea(){this.container.classList.add("highlightArea")}}Ub=new WeakMap,Vb=new WeakSet,DI=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var xd,Sd,Rm,ru,zb,Ad,_i,Hb,Pl,W1,RI;const ER=class ER{constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o,commentManager:l,linkService:c,annotationStorage:u}){I(this,Pl);I(this,xd,null);I(this,Sd,null);I(this,Rm,null);I(this,ru,new Map);I(this,zb,null);I(this,Ad,null);I(this,_i,[]);I(this,Hb,!1);this.div=e,_(this,xd,n),_(this,Sd,r),_(this,zb,o||null),_(this,Ad,c||null),_(this,Rm,u||new ZM),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=l||null}hasEditableAnnotations(){return h(this,ru).size>0}async render(e){var o;const{annotations:n}=e,r=this.div;sf(r,this.viewport);const i=new Map,s=[],a={data:null,layer:r,linkService:h(this,Ad),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new rA,annotationStorage:h(this,Rm),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const l of n){if(l.noHTML)continue;const c=l.annotationType===nn.POPUP;if(c){const f=i.get(l.id);if(!f)continue;if(!this._commentManager){s.push(l);continue}a.elements=f}else if(l.rect[2]===l.rect[0]||l.rect[3]===l.rect[1])continue;a.data=l;const u=IT.create(a);if(!u.isRenderable)continue;if(!c&&(h(this,_i).push(u),l.popupRef)){const f=i.get(l.popupRef);f?f.push(u):i.set(l.popupRef,[u])}const d=u.render();l.hidden&&(d.style.visibility="hidden"),u._isEditable&&(h(this,ru).set(u.data.id,u),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(u))}await D(this,Pl,W1).call(this);for(const l of s){const c=a.elements=i.get(l.id);a.data=l;const u=IT.create(a);if(!u.isRenderable)continue;const d=u.render();u.contentElement.id=`${cp}${l.id}`,l.hidden&&(d.style.visibility="hidden"),c.at(-1).container.after(d)}D(this,Pl,RI).call(this)}async addLinkAnnotations(e){const n={data:null,layer:this.div,linkService:h(this,Ad),svgFactory:new rA,parent:this};for(const r of e){r.borderStyle||(r.borderStyle=ER._defaultBorderStyle),n.data=r;const i=IT.create(n);i.isRenderable&&(i.render(),i.contentElement.id=`${cp}${r.id}`,h(this,_i).push(i))}await D(this,Pl,W1).call(this)}update({viewport:e}){const n=this.div;this.viewport=e,sf(n,{rotation:e.rotation}),D(this,Pl,RI).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(h(this,ru).values())}getEditableAnnotation(e){return h(this,ru).get(e)}addFakeAnnotation(e){const{div:n}=this,{id:r,rotation:i}=e,s=new Hse({data:{id:r,rect:e.getPDFRect(),rotation:i},editor:e,layer:n,parent:this,enableComment:!!this._commentManager,linkService:h(this,Ad),annotationStorage:h(this,Rm)});return s.render(),s.contentElement.id=`${cp}${r}`,s.createOrUpdatePopup(),h(this,_i).push(s),s}removeAnnotation(e){var i;const n=h(this,_i).findIndex(s=>s.data.id===e);if(n<0)return;const[r]=h(this,_i).splice(n,1);(i=h(this,xd))==null||i.removePointerInTextLayer(r.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const n of e)n.updateFakeAnnotationElement(this);D(this,Pl,W1).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return we(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:jf.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};xd=new WeakMap,Sd=new WeakMap,Rm=new WeakMap,ru=new WeakMap,zb=new WeakMap,Ad=new WeakMap,_i=new WeakMap,Hb=new WeakMap,Pl=new WeakSet,W1=async function(){var r,i,s;if(h(this,_i).length===0)return;this.div.replaceChildren();const e=[];if(!h(this,Hb)){_(this,Hb,!0);for(const{contentElement:a,data:{id:o}}of h(this,_i)){const l=a.id=`${cp}${o}`;e.push((r=h(this,zb))==null?void 0:r.getAriaAttributes(l).then(c=>{if(c)for(const[u,d]of c)a.setAttribute(u,d)}))}}h(this,_i).sort(({data:{rect:[a,o,l,c]}},{data:{rect:[u,d,f,p]}})=>{if(a===l&&o===c)return 1;if(u===f&&d===p)return-1;const g=c,y=o,b=(o+c)/2,v=p,S=d,w=(d+p)/2;if(b>=v&&w<=y)return-1;if(w>=g&&b<=S)return 1;const T=(a+l)/2,P=(u+f)/2;return T-P});const n=document.createDocumentFragment();for(const a of h(this,_i))n.append(a.container),this._commentManager?(s=((i=a.extraPopupElement)==null?void 0:i.popup)||a.popup)==null||s.renderCommentButton():a.extraPopupElement&&n.append(a.extraPopupElement.render());if(this.div.append(n),await Promise.all(e),h(this,xd))for(const a of h(this,_i))h(this,xd).addPointerInTextLayer(a.contentElement,!1)},RI=function(){var n;if(!h(this,Sd))return;const e=this.div;for(const[r,i]of h(this,Sd)){const s=e.querySelector(`[data-annotation-id="${r}"]`);if(!s)continue;i.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(i):a.classList.contains("annotationContent")?a.after(i):a.before(i):s.append(i);const o=h(this,ru).get(r);o&&(o._hasNoCanvas?((n=this._annotationEditorUIManager)==null||n.setMissingCanvas(r,s.id,i),o._hasNoCanvas=!1):o.canvas=i)}h(this,Sd).clear()};let NI=ER;const $x=/\r\n?|\n/g;var Ei,Wb,_d,Pi,hn,XH,YH,JH,G1,Tl,K1,q1,ZH,jI,QH;const bt=class bt extends gt{constructor(n){super({...n,name:"freeTextEditor"});I(this,hn);I(this,Ei,"");I(this,Wb,`${this.id}-editor`);I(this,_d,null);I(this,Pi);q(this,"_colorPicker",null);this.color=n.color||bt._defaultColor||gt._defaultLineColor,_(this,Pi,n.fontSize||bt._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){const n=bt.prototype,r=a=>a.isEmpty(),i=af.TRANSLATE_SMALL,s=af.TRANSLATE_BIG;return we(this,"_keyboardManager",new Aw([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,s],checker:r}]]))}static initialize(n,r){gt.initialize(n,r);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,r){switch(n){case Me.FREETEXT_SIZE:bt._defaultFontSize=r;break;case Me.FREETEXT_COLOR:bt._defaultColor=r;break}}updateParams(n,r){switch(n){case Me.FREETEXT_SIZE:D(this,hn,XH).call(this,r);break;case Me.FREETEXT_COLOR:D(this,hn,YH).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Me.FREETEXT_SIZE,bt._defaultFontSize],[Me.FREETEXT_COLOR,bt._defaultColor||gt._defaultLineColor]]}get propertiesToUpdate(){return[[Me.FREETEXT_SIZE,h(this,Pi)],[Me.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new nA(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Me.FREETEXT_COLOR}onUpdatedColor(){var n;this.editorDiv.style.color=this.color,(n=this._colorPicker)==null||n.update(this.color),super.onUpdatedColor()}_translateEmpty(n,r){this._uiManager.translateSelectedEditors(n,r,!0)}getInitialTranslation(){const n=this.parentScale;return[-bt._internalPadding*n,-(bt._internalPadding+h(this,Pi))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),_(this,_d,new AbortController);const n=this._uiManager.combinedSignal(h(this,_d));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:n}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:n}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:n}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:n}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:n}),!0}disableEditMode(){var n;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,Wb)),this._isDraggable=!0,(n=h(this,_d))==null||n.abort(),_(this,_d,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(n){var r;this.width||(this.enableEditMode(),n&&this.editorDiv.focus(),(r=this._initialOptions)!=null&&r.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=h(this,Ei),r=_(this,Ei,D(this,hn,JH).call(this).trimEnd());if(n===r)return;const i=s=>{if(_(this,Ei,s),!s){this.remove();return}D(this,hn,q1).call(this),this._uiManager.rebuild(this),D(this,hn,G1).call(this)};this.addCommands({cmd:()=>{i(r)},undo:()=>{i(n)},mustExec:!1}),D(this,hn,G1).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){bt._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let n,r;(this._isCopy||this.annotationElementId)&&(n=this.x,r=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,Wb)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${h(this,Pi)}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,d]=this.pageDimensions,[f,p]=this.pageTranslation;let g,y;switch(this.rotation){case 0:g=n+(o[0]-f)/u,y=r+this.height-(o[1]-p)/d;break;case 90:g=n+(o[0]-f)/u,y=r-(o[1]-p)/d,[l,c]=[c,-l];break;case 180:g=n-this.width+(o[0]-f)/u,y=r-(o[1]-p)/d,[l,c]=[-l,-c];break;case 270:g=n+(o[0]-f-this.height*d)/u,y=r+(o[1]-p-this.width*u)/d,[l,c]=[-c,l];break}this.setAt(g*s,y*a,l,c)}else this._moveAfterPaste(n,r);D(this,hn,q1).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var g,y,b;const r=n.clipboardData||window.clipboardData,{types:i}=r;if(i.length===1&&i[0]==="text/plain")return;n.preventDefault();const s=D(g=bt,Tl,jI).call(g,r.getData("text")||"").replaceAll($x,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:c}=o,u=[],d=[];if(l.nodeType===Node.TEXT_NODE){const v=l.parentElement;if(d.push(l.nodeValue.slice(c).replaceAll($x,"")),v!==this.editorDiv){let S=u;for(const w of this.editorDiv.childNodes){if(w===v){S=d;continue}S.push(D(y=bt,Tl,K1).call(y,w))}}u.push(l.nodeValue.slice(0,c).replaceAll($x,""))}else if(l===this.editorDiv){let v=u,S=0;for(const w of this.editorDiv.childNodes)S++===c&&(v=d),v.push(D(b=bt,Tl,K1).call(b,w))}_(this,Ei,`${u.join(`
`)}${s}${d.join(`
`)}`),D(this,hn,q1).call(this);const f=new Range;let p=Math.sumPrecise(u.map(v=>v.length));for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const S=v.nodeValue.length;if(p<=S){f.setStart(v,p),f.setEnd(v,p);break}p-=S}a.removeAllRanges(),a.addRange(f)}get contentDiv(){return this.editorDiv}getPDFRect(){const n=bt._internalPadding*this.parentScale;return this.getRect(n,n)}static async deserialize(n,r,i){var o;let s=null;if(n instanceof WH){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:d,id:f,popupRef:p,richText:g,contentsObj:y,creationDate:b,modificationDate:v},textContent:S,textPosition:w,parent:{page:{pageNumber:T}}}=n;if(!S||S.length===0)return null;s=n={annotationType:Se.FREETEXT,color:Array.from(c),fontSize:l,value:S.join(`
`),position:w,pageIndex:T-1,rect:u.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:p,comment:(y==null?void 0:y.str)||null,richText:g,creationDate:b,modificationDate:v}}const a=await super.deserialize(n,r,i);return _(a,Pi,n.fontSize),a.color=ae.makeHexColor(...n.color),_(a,Ei,D(o=bt,Tl,jI).call(o,n.value)),a._initialData=s,n.comment&&a.setCommentData(n),a}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=gt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(n),{color:r,fontSize:h(this,Pi),value:D(this,hn,ZH).call(this)});return this.addComment(i),n?(i.isCopy=!0,i):this.annotationElementId&&!D(this,hn,QH).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(n){const r=super.renderAnnotationElement(n);if(!r)return null;const{style:i}=r;i.fontSize=`calc(${h(this,Pi)}px * var(--total-scale-factor))`,i.color=this.color,r.replaceChildren();for(const s of h(this,Ei).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),r.append(a)}return n.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:h(this,Ei)}}),r}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};Ei=new WeakMap,Wb=new WeakMap,_d=new WeakMap,Pi=new WeakMap,hn=new WeakSet,XH=function(n){const r=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-h(this,Pi))*this.parentScale),_(this,Pi,s),D(this,hn,G1).call(this)},i=h(this,Pi);this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Me.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},YH=function(n){const r=s=>{this.color=s,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Me.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},JH=function(){var i;const n=[];this.editorDiv.normalize();let r=null;for(const s of this.editorDiv.childNodes)(r==null?void 0:r.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(n.push(D(i=bt,Tl,K1).call(i,s)),r=s);return n.join(`
`)},G1=function(){const[n,r]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/n,this.height=i.height/r):(this.width=i.height/n,this.height=i.width/r),this.fixAndSetPosition()},Tl=new WeakSet,K1=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll($x,"")},q1=function(){if(this.editorDiv.replaceChildren(),!!h(this,Ei))for(const n of h(this,Ei).split(`
`)){const r=document.createElement("div");r.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(r)}},ZH=function(){return h(this,Ei).replaceAll(""," ")},jI=function(n){return n.replaceAll(" ","")},QH=function(n){const{value:r,fontSize:i,color:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||n.value!==r||n.fontSize!==i||n.color.some((o,l)=>o!==s[l])||n.pageIndex!==a},I(bt,Tl),q(bt,"_freeTextDefaultContent",""),q(bt,"_internalPadding",0),q(bt,"_defaultColor",null),q(bt,"_defaultFontSize",10),q(bt,"_type","freetext"),q(bt,"_editorType",Se.FREETEXT);let LI=bt;class ie{toSVGPath(){ut("Abstract method `toSVGPath` must be implemented.")}get box(){ut("Abstract getter `box` must be implemented.")}serialize(e,n){ut("Abstract method `serialize` must be implemented.")}static _rescale(e,n,r,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=n+e[o]*i,a[o+1]=r+e[o+1]*s;return a}static _rescaleAndSwap(e,n,r,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=n+e[o+1]*i,a[o+1]=r+e[o]*s;return a}static _translate(e,n,r,i){i||(i=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)i[s]=n+e[s],i[s+1]=r+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,n,r,i,s){switch(s){case 90:return[1-n/r,e/i];case 180:return[1-e/r,1-n/i];case 270:return[n/r,1-e/i];default:return[e/r,n/i]}}static _normalizePagePoint(e,n,r){switch(r){case 90:return[1-n,e];case 180:return[1-e,1-n];case 270:return[n,1-e];default:return[e,n]}}static createBezierPoints(e,n,r,i,s,a){return[(e+5*r)/6,(n+5*i)/6,(5*r+s)/6,(5*i+a)/6,(r+s)/2,(i+a)/2]}}q(ie,"PRECISION",1e-4);var Ti,Js,Lm,jm,Ga,Ce,Ed,Pd,Gb,Kb,Fm,Bm,iu,qb,P_,T_,xn,qy,e9,t9,n9,r9,i9,s9;const Co=class Co{constructor({x:e,y:n},r,i,s,a,o=0){I(this,xn);I(this,Ti);I(this,Js,[]);I(this,Lm);I(this,jm);I(this,Ga,[]);I(this,Ce,new Float32Array(18));I(this,Ed);I(this,Pd);I(this,Gb);I(this,Kb);I(this,Fm);I(this,Bm);I(this,iu,[]);_(this,Ti,r),_(this,Bm,s*i),_(this,jm,a),h(this,Ce).set([NaN,NaN,NaN,NaN,e,n],6),_(this,Lm,o),_(this,Kb,h(Co,qb)*i),_(this,Gb,h(Co,T_)*i),_(this,Fm,i),h(this,iu).push(e,n)}isEmpty(){return isNaN(h(this,Ce)[8])}add({x:e,y:n}){var N;_(this,Ed,e),_(this,Pd,n);const[r,i,s,a]=h(this,Ti);let[o,l,c,u]=h(this,Ce).subarray(8,12);const d=e-c,f=n-u,p=Math.hypot(d,f);if(p<h(this,Gb))return!1;const g=p-h(this,Kb),y=g/p,b=y*d,v=y*f;let S=o,w=l;o=c,l=u,c+=b,u+=v,(N=h(this,iu))==null||N.push(e,n);const T=-v/g,P=b/g,O=T*h(this,Bm),C=P*h(this,Bm);return h(this,Ce).set(h(this,Ce).subarray(2,8),0),h(this,Ce).set([c+O,u+C],4),h(this,Ce).set(h(this,Ce).subarray(14,18),12),h(this,Ce).set([c-O,u-C],16),isNaN(h(this,Ce)[6])?(h(this,Ga).length===0&&(h(this,Ce).set([o+O,l+C],2),h(this,Ga).push(NaN,NaN,NaN,NaN,(o+O-r)/s,(l+C-i)/a),h(this,Ce).set([o-O,l-C],14),h(this,Js).push(NaN,NaN,NaN,NaN,(o-O-r)/s,(l-C-i)/a)),h(this,Ce).set([S,w,o,l,c,u],6),!this.isEmpty()):(h(this,Ce).set([S,w,o,l,c,u],6),Math.abs(Math.atan2(w-l,S-o)-Math.atan2(v,b))<Math.PI/2?([o,l,c,u]=h(this,Ce).subarray(2,6),h(this,Ga).push(NaN,NaN,NaN,NaN,((o+c)/2-r)/s,((l+u)/2-i)/a),[o,l,S,w]=h(this,Ce).subarray(14,18),h(this,Js).push(NaN,NaN,NaN,NaN,((S+o)/2-r)/s,((w+l)/2-i)/a),!0):([S,w,o,l,c,u]=h(this,Ce).subarray(0,6),h(this,Ga).push(((S+5*o)/6-r)/s,((w+5*l)/6-i)/a,((5*o+c)/6-r)/s,((5*l+u)/6-i)/a,((o+c)/2-r)/s,((l+u)/2-i)/a),[c,u,o,l,S,w]=h(this,Ce).subarray(12,18),h(this,Js).push(((S+5*o)/6-r)/s,((w+5*l)/6-i)/a,((5*o+c)/6-r)/s,((5*l+u)/6-i)/a,((o+c)/2-r)/s,((l+u)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=h(this,Ga),n=h(this,Js);if(isNaN(h(this,Ce)[6])&&!this.isEmpty())return D(this,xn,e9).call(this);const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);D(this,xn,n9).call(this,r);for(let i=n.length-6;i>=6;i-=6)isNaN(n[i])?r.push(`L${n[i+4]} ${n[i+5]}`):r.push(`C${n[i]} ${n[i+1]} ${n[i+2]} ${n[i+3]} ${n[i+4]} ${n[i+5]}`);return D(this,xn,t9).call(this,r),r.join(" ")}newFreeDrawOutline(e,n,r,i,s,a){return new a9(e,n,r,i,s,a)}getOutlines(){var d;const e=h(this,Ga),n=h(this,Js),r=h(this,Ce),[i,s,a,o]=h(this,Ti),l=new Float32Array((((d=h(this,iu))==null?void 0:d.length)??0)+2);for(let f=0,p=l.length-2;f<p;f+=2)l[f]=(h(this,iu)[f]-i)/a,l[f+1]=(h(this,iu)[f+1]-s)/o;if(l[l.length-2]=(h(this,Ed)-i)/a,l[l.length-1]=(h(this,Pd)-s)/o,isNaN(r[6])&&!this.isEmpty())return D(this,xn,r9).call(this,l);const c=new Float32Array(h(this,Ga).length+24+h(this,Js).length);let u=e.length;for(let f=0;f<u;f+=2){if(isNaN(e[f])){c[f]=c[f+1]=NaN;continue}c[f]=e[f],c[f+1]=e[f+1]}u=D(this,xn,s9).call(this,c,u);for(let f=n.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(n[f+p])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=n[f+p],c[u+1]=n[f+p+1],u+=2}return D(this,xn,i9).call(this,c,u),this.newFreeDrawOutline(c,l,h(this,Ti),h(this,Fm),h(this,Lm),h(this,jm))}};Ti=new WeakMap,Js=new WeakMap,Lm=new WeakMap,jm=new WeakMap,Ga=new WeakMap,Ce=new WeakMap,Ed=new WeakMap,Pd=new WeakMap,Gb=new WeakMap,Kb=new WeakMap,Fm=new WeakMap,Bm=new WeakMap,iu=new WeakMap,qb=new WeakMap,P_=new WeakMap,T_=new WeakMap,xn=new WeakSet,qy=function(){const e=h(this,Ce).subarray(4,6),n=h(this,Ce).subarray(16,18),[r,i,s,a]=h(this,Ti);return[(h(this,Ed)+(e[0]-n[0])/2-r)/s,(h(this,Pd)+(e[1]-n[1])/2-i)/a,(h(this,Ed)+(n[0]-e[0])/2-r)/s,(h(this,Pd)+(n[1]-e[1])/2-i)/a]},e9=function(){const[e,n,r,i]=h(this,Ti),[s,a,o,l]=D(this,xn,qy).call(this);return`M${(h(this,Ce)[2]-e)/r} ${(h(this,Ce)[3]-n)/i} L${(h(this,Ce)[4]-e)/r} ${(h(this,Ce)[5]-n)/i} L${s} ${a} L${o} ${l} L${(h(this,Ce)[16]-e)/r} ${(h(this,Ce)[17]-n)/i} L${(h(this,Ce)[14]-e)/r} ${(h(this,Ce)[15]-n)/i} Z`},t9=function(e){const n=h(this,Js);e.push(`L${n[4]} ${n[5]} Z`)},n9=function(e){const[n,r,i,s]=h(this,Ti),a=h(this,Ce).subarray(4,6),o=h(this,Ce).subarray(16,18),[l,c,u,d]=D(this,xn,qy).call(this);e.push(`L${(a[0]-n)/i} ${(a[1]-r)/s} L${l} ${c} L${u} ${d} L${(o[0]-n)/i} ${(o[1]-r)/s}`)},r9=function(e){const n=h(this,Ce),[r,i,s,a]=h(this,Ti),[o,l,c,u]=D(this,xn,qy).call(this),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(n[2]-r)/s,(n[3]-i)/a,NaN,NaN,NaN,NaN,(n[4]-r)/s,(n[5]-i)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(n[16]-r)/s,(n[17]-i)/a,NaN,NaN,NaN,NaN,(n[14]-r)/s,(n[15]-i)/a],0),this.newFreeDrawOutline(d,e,h(this,Ti),h(this,Fm),h(this,Lm),h(this,jm))},i9=function(e,n){const r=h(this,Js);return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],n),n+=6},s9=function(e,n){const r=h(this,Ce).subarray(4,6),i=h(this,Ce).subarray(16,18),[s,a,o,l]=h(this,Ti),[c,u,d,f]=D(this,xn,qy).call(this);return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l],n),n+=24},I(Co,qb,8),I(Co,P_,2),I(Co,T_,h(Co,qb)+h(Co,P_));let iA=Co;var $m,Td,il,Xb,Ci,Yb,Jt,C_,o9;class a9 extends ie{constructor(n,r,i,s,a,o){super();I(this,C_);I(this,$m);I(this,Td,new Float32Array(4));I(this,il);I(this,Xb);I(this,Ci);I(this,Yb);I(this,Jt);_(this,Jt,n),_(this,Ci,r),_(this,$m,i),_(this,Yb,s),_(this,il,a),_(this,Xb,o),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],D(this,C_,o9).call(this,o);const[l,c,u,d]=h(this,Td);for(let f=0,p=n.length;f<p;f+=2)n[f]=(n[f]-l)/u,n[f+1]=(n[f+1]-c)/d;for(let f=0,p=r.length;f<p;f+=2)r[f]=(r[f]-l)/u,r[f+1]=(r[f+1]-c)/d}toSVGPath(){const n=[`M${h(this,Jt)[4]} ${h(this,Jt)[5]}`];for(let r=6,i=h(this,Jt).length;r<i;r+=6){if(isNaN(h(this,Jt)[r])){n.push(`L${h(this,Jt)[r+4]} ${h(this,Jt)[r+5]}`);continue}n.push(`C${h(this,Jt)[r]} ${h(this,Jt)[r+1]} ${h(this,Jt)[r+2]} ${h(this,Jt)[r+3]} ${h(this,Jt)[r+4]} ${h(this,Jt)[r+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,r,i,s],a){const o=i-n,l=s-r;let c,u;switch(a){case 0:c=ie._rescale(h(this,Jt),n,s,o,-l),u=ie._rescale(h(this,Ci),n,s,o,-l);break;case 90:c=ie._rescaleAndSwap(h(this,Jt),n,r,o,l),u=ie._rescaleAndSwap(h(this,Ci),n,r,o,l);break;case 180:c=ie._rescale(h(this,Jt),i,r,-o,l),u=ie._rescale(h(this,Ci),i,r,-o,l);break;case 270:c=ie._rescaleAndSwap(h(this,Jt),i,s,-o,-l),u=ie._rescaleAndSwap(h(this,Ci),i,s,-o,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return h(this,Td)}newOutliner(n,r,i,s,a,o=0){return new iA(n,r,i,s,a,o)}getNewOutline(n,r){const[i,s,a,o]=h(this,Td),[l,c,u,d]=h(this,$m),f=a*u,p=o*d,g=i*u+l,y=s*d+c,b=this.newOutliner({x:h(this,Ci)[0]*f+g,y:h(this,Ci)[1]*p+y},h(this,$m),h(this,Yb),n,h(this,Xb),r??h(this,il));for(let v=2;v<h(this,Ci).length;v+=2)b.add({x:h(this,Ci)[v]*f+g,y:h(this,Ci)[v+1]*p+y});return b.getOutlines()}}$m=new WeakMap,Td=new WeakMap,il=new WeakMap,Xb=new WeakMap,Ci=new WeakMap,Yb=new WeakMap,Jt=new WeakMap,C_=new WeakSet,o9=function(n){const r=h(this,Jt);let i=r[4],s=r[5];const a=[i,s,i,s];let o=i,l=s,c=i,u=s;const d=n?Math.max:Math.min,f=new Float32Array(4);for(let g=6,y=r.length;g<y;g+=6){const b=r[g+4],v=r[g+5];isNaN(r[g])?(ae.pointBoundingBox(b,v,a),l>v?(o=b,l=v):l===v&&(o=d(o,b)),u<v?(c=b,u=v):u===v&&(c=d(c,b))):(f[0]=f[1]=1/0,f[2]=f[3]=-1/0,ae.bezierBoundingBox(i,s,...r.slice(g,g+6),f),ae.rectBoundingBox(f[0],f[1],f[2],f[3],a),l>f[1]?(o=f[0],l=f[1]):l===f[1]&&(o=d(o,f[0])),u<f[3]?(c=f[2],u=f[3]):u===f[3]&&(c=d(c,f[2]))),i=b,s=v}const p=h(this,Td);p[0]=a[0]-h(this,il),p[1]=a[1]-h(this,il),p[2]=a[2]-a[0]+2*h(this,il),p[3]=a[3]-a[1]+2*h(this,il),this.firstPoint=[o,l],this.lastPoint=[c,u]};var Jb,Zb,Qb,su,Zs,Vr,l9,X1,c9,u9,BI;class FI{constructor(e,n=0,r=0,i=!0){I(this,Vr);I(this,Jb);I(this,Zb);I(this,Qb);I(this,su,[]);I(this,Zs,[]);const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:y,y:b,width:v,height:S}of e){const w=Math.floor((y-n)/a)*a,T=Math.ceil((y+v+n)/a)*a,P=Math.floor((b-n)/a)*a,O=Math.ceil((b+S+n)/a)*a,C=[w,P,O,!0],k=[T,P,O,!1];h(this,su).push(C,k),ae.rectBoundingBox(w,P,T,O,s)}const o=s[2]-s[0]+2*r,l=s[3]-s[1]+2*r,c=s[0]-r,u=s[1]-r;let d=i?-1/0:1/0,f=1/0;const p=h(this,su).at(i?-1:-2),g=[p[0],p[2]];for(const y of h(this,su)){const[b,v,S,w]=y;!w&&i?v<f?(f=v,d=b):v===f&&(d=Math.max(d,b)):w&&!i&&(v<f?(f=v,d=b):v===f&&(d=Math.min(d,b))),y[0]=(b-c)/o,y[1]=(v-u)/l,y[2]=(S-u)/l}_(this,Jb,new Float32Array([c,u,o,l])),_(this,Zb,[d,f]),_(this,Qb,g)}getOutlines(){h(this,su).sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of h(this,su))n[3]?(e.push(...D(this,Vr,BI).call(this,n)),D(this,Vr,c9).call(this,n)):(D(this,Vr,u9).call(this,n),e.push(...D(this,Vr,BI).call(this,n)));return D(this,Vr,l9).call(this,e)}}Jb=new WeakMap,Zb=new WeakMap,Qb=new WeakMap,su=new WeakMap,Zs=new WeakMap,Vr=new WeakSet,l9=function(e){const n=[],r=new Set;for(const a of e){const[o,l,c]=a;n.push([o,l,a],[o,c,a])}n.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=n.length;a<o;a+=2){const l=n[a][2],c=n[a+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const i=[];let s;for(;r.size>0;){const a=r.values().next().value;let[o,l,c,u,d]=a;r.delete(a);let f=o,p=l;for(s=[o,c],i.push(s);;){let g;if(r.has(u))g=u;else if(r.has(d))g=d;else break;r.delete(g),[o,l,c,u,d]=g,f!==o&&(s.push(f,p,o,p===l?l:c),f=o),p=p===l?c:l}s.push(f,p)}return new oae(i,h(this,Jb),h(this,Zb),h(this,Qb))},X1=function(e){const n=h(this,Zs);let r=0,i=n.length-1;for(;r<=i;){const s=r+i>>1,a=n[s][0];if(a===e)return s;a<e?r=s+1:i=s-1}return i+1},c9=function([,e,n]){const r=D(this,Vr,X1).call(this,e);h(this,Zs).splice(r,0,[e,n])},u9=function([,e,n]){const r=D(this,Vr,X1).call(this,e);for(let i=r;i<h(this,Zs).length;i++){const[s,a]=h(this,Zs)[i];if(s!==e)break;if(s===e&&a===n){h(this,Zs).splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,a]=h(this,Zs)[i];if(s!==e)break;if(s===e&&a===n){h(this,Zs).splice(i,1);return}}},BI=function(e){const[n,r,i]=e,s=[[n,r,i]],a=D(this,Vr,X1).call(this,i);for(let o=0;o<a;o++){const[l,c]=h(this,Zs)[o];for(let u=0,d=s.length;u<d;u++){const[,f,p]=s[u];if(!(c<=f||p<=l)){if(f>=l){if(p>c)s[u][1]=c;else{if(d===1)return[];s.splice(u,1),u--,d--}continue}s[u][2]=l,p>c&&s.push([n,c,p])}}}return s};var ew,Um;class oae extends ie{constructor(n,r,i,s){super();I(this,ew);I(this,Um);_(this,Um,n),_(this,ew,r),this.firstPoint=i,this.lastPoint=s}toSVGPath(){const n=[];for(const r of h(this,Um)){let[i,s]=r;n.push(`M${i} ${s}`);for(let a=2;a<r.length;a+=2){const o=r[a],l=r[a+1];o===i?(n.push(`V${l}`),s=l):l===s&&(n.push(`H${o}`),i=o)}n.push("Z")}return n.join(" ")}serialize([n,r,i,s],a){const o=[],l=i-n,c=s-r;for(const u of h(this,Um)){const d=new Array(u.length);for(let f=0;f<u.length;f+=2)d[f]=n+u[f]*l,d[f+1]=s-u[f+1]*c;o.push(d)}return o}get box(){return h(this,ew)}get classNamesForOutlining(){return["highlightOutline"]}}ew=new WeakMap,Um=new WeakMap;class $I extends iA{newFreeDrawOutline(e,n,r,i,s,a){return new lae(e,n,r,i,s,a)}}class lae extends a9{newOutliner(e,n,r,i,s,a=0){return new $I(e,n,r,i,s,a)}}var Vm,tw,sl,Cd,nw,ni,rw,iw,kd,ki,Ii,Yn,zm,Hm,br,Wm,ys,sw,Ee,UI,Y1,h9,d9,f9,VI,uh,xs,zf,p9,J1,Z1,m9,g9,y9,v9,b9;const Ve=class Ve extends gt{constructor(n){super({...n,name:"highlightEditor"});I(this,Ee);I(this,Vm,null);I(this,tw,0);I(this,sl);I(this,Cd,null);I(this,nw,null);I(this,ni,null);I(this,rw,null);I(this,iw,0);I(this,kd,null);I(this,ki,null);I(this,Ii,null);I(this,Yn,!1);I(this,zm,null);I(this,Hm,null);I(this,br,null);I(this,Wm,"");I(this,ys);I(this,sw,"");this.color=n.color||Ve._defaultColor,_(this,ys,n.thickness||Ve._defaultThickness),this.opacity=n.opacity||Ve._defaultOpacity,_(this,sl,n.boxes||null),_(this,sw,n.methodOfCreation||""),_(this,Wm,n.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",n.highlightId>-1?(_(this,Yn,!0),D(this,Ee,Y1).call(this,n),D(this,Ee,uh).call(this)):h(this,sl)&&(_(this,Vm,n.anchorNode),_(this,tw,n.anchorOffset),_(this,rw,n.focusNode),_(this,iw,n.focusOffset),D(this,Ee,UI).call(this),D(this,Ee,uh).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const n=Ve.prototype;return we(this,"_keyboardManager",new Aw([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:h(this,Yn)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:h(this,ys),methodOfCreation:h(this,sw)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,r){var i;gt.initialize(n,r),Ve._defaultColor||(Ve._defaultColor=((i=r.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(n,r){switch(n){case Me.HIGHLIGHT_COLOR:Ve._defaultColor=r;break;case Me.HIGHLIGHT_THICKNESS:Ve._defaultThickness=r;break}}translateInPage(n,r){}get toolbarPosition(){return h(this,Hm)}get commentButtonPosition(){return h(this,zm)}updateParams(n,r){switch(n){case Me.HIGHLIGHT_COLOR:D(this,Ee,h9).call(this,r);break;case Me.HIGHLIGHT_THICKNESS:D(this,Ee,d9).call(this,r);break}}static get defaultPropertiesToUpdate(){return[[Me.HIGHLIGHT_COLOR,Ve._defaultColor],[Me.HIGHLIGHT_THICKNESS,Ve._defaultThickness]]}get propertiesToUpdate(){return[[Me.HIGHLIGHT_COLOR,this.color||Ve._defaultColor],[Me.HIGHLIGHT_THICKNESS,h(this,ys)||Ve._defaultThickness],[Me.HIGHLIGHT_FREE,h(this,Yn)]]}onUpdatedColor(){var n,r;(n=this.parent)==null||n.drawLayer.updateProperties(h(this,Ii),{root:{fill:this.color,"fill-opacity":this.opacity}}),(r=h(this,nw))==null||r.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",_(this,nw,new tA({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(D(this,Ee,Z1).call(this))}getBaseTranslation(){return[0,0]}getRect(n,r){return super.getRect(n,r,D(this,Ee,Z1).call(this))}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),n&&this.div.focus()}remove(){D(this,Ee,VI).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(D(this,Ee,uh).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?D(this,Ee,VI).call(this):n&&(D(this,Ee,uh).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),r&&this.select()}rotate(n){var s,a,o;const{drawLayer:r}=this.parent;let i;h(this,Yn)?(n=(n-this.rotation+360)%360,i=D(s=Ve,xs,zf).call(s,h(this,ki).box,n)):i=D(a=Ve,xs,zf).call(a,[this.x,this.y,this.width,this.height],n),r.updateProperties(h(this,Ii),{bbox:i,root:{"data-main-rotation":n}}),r.updateProperties(h(this,br),{bbox:D(o=Ve,xs,zf).call(o,h(this,ni).box,n),root:{"data-main-rotation":n}})}render(){if(this.div)return this.div;const n=super.render();h(this,Wm)&&(n.setAttribute("aria-label",h(this,Wm)),n.setAttribute("role","mark")),h(this,Yn)?n.classList.add("free"):this.div.addEventListener("keydown",D(this,Ee,p9).bind(this),{signal:this._uiManager._signal});const r=_(this,kd,document.createElement("div"));return n.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",r.style.clipPath=h(this,Cd),this.setDims(),jz(this,h(this,kd),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(h(this,br),{rootClass:{hovered:!0}})}pointerleave(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(h(this,br),{rootClass:{hovered:!1}})}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:D(this,Ee,J1).call(this,!0);break;case 1:case 3:D(this,Ee,J1).call(this,!1);break}}select(){var n;super.select(),h(this,br)&&((n=this.parent)==null||n.drawLayer.updateProperties(h(this,br),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var n;super.unselect(),h(this,br)&&((n=this.parent)==null||n.drawLayer.updateProperties(h(this,br),{rootClass:{selected:!1}}),h(this,Yn)||D(this,Ee,J1).call(this,!1))}get _mustFixPosition(){return!h(this,Yn)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.updateProperties(h(this,Ii),{rootClass:{hidden:!n}}),this.parent.drawLayer.updateProperties(h(this,br),{rootClass:{hidden:!n}}))}static startHighlighting(n,r,{target:i,x:s,y:a}){const{x:o,y:l,width:c,height:u}=i.getBoundingClientRect(),d=new AbortController,f=n.combinedSignal(d),p=g=>{d.abort(),D(this,xs,v9).call(this,n,g)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",Gt,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",Os,{signal:f}),i.addEventListener("pointermove",D(this,xs,y9).bind(this,n),{signal:f}),this._freeHighlight=new $I({x:s,y:a},[o,l,c,u],n.scale,this._defaultThickness/2,r,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(n,r,i){var y,b,v,S;let s=null;if(n instanceof KH){const{data:{quadPoints:w,rect:T,rotation:P,id:O,color:C,opacity:k,popupRef:N,richText:L,contentsObj:R,creationDate:B,modificationDate:j},parent:{page:{pageNumber:G}}}=n;s=n={annotationType:Se.HIGHLIGHT,color:Array.from(C),opacity:k,quadPoints:w,boxes:null,pageIndex:G-1,rect:T.slice(0),rotation:P,annotationElementId:O,id:O,deleted:!1,popupRef:N,richText:L,comment:(R==null?void 0:R.str)||null,creationDate:B,modificationDate:j}}else if(n instanceof nD){const{data:{inkLists:w,rect:T,rotation:P,id:O,color:C,borderStyle:{rawWidth:k},popupRef:N,richText:L,contentsObj:R,creationDate:B,modificationDate:j},parent:{page:{pageNumber:G}}}=n;s=n={annotationType:Se.HIGHLIGHT,color:Array.from(C),thickness:k,inkLists:w,boxes:null,pageIndex:G-1,rect:T.slice(0),rotation:P,annotationElementId:O,id:O,deleted:!1,popupRef:N,richText:L,comment:(R==null?void 0:R.str)||null,creationDate:B,modificationDate:j}}const{color:a,quadPoints:o,inkLists:l,opacity:c}=n,u=await super.deserialize(n,r,i);u.color=ae.makeHexColor(...a),u.opacity=c||1,l&&_(u,ys,n.thickness),u._initialData=s,n.comment&&u.setCommentData(n);const[d,f]=u.pageDimensions,[p,g]=u.pageTranslation;if(o){const w=_(u,sl,[]);for(let T=0;T<o.length;T+=8)w.push({x:(o[T]-p)/d,y:1-(o[T+1]-g)/f,width:(o[T+2]-o[T])/d,height:(o[T+1]-o[T+5])/f});D(y=u,Ee,UI).call(y),D(b=u,Ee,uh).call(b),u.rotate(u.rotation)}else if(l){_(u,Yn,!0);const w=l[0],T={x:w[0]-p,y:f-(w[1]-g)},P=new $I(T,[0,0,d,f],1,h(u,ys)/2,!0,.001);for(let k=0,N=w.length;k<N;k+=2)T.x=w[k]-p,T.y=f-(w[k+1]-g),P.add(T);const{id:O,clipPathId:C}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:u.color,"fill-opacity":u._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:P.toSVGPath()}},!0,!0);D(v=u,Ee,Y1).call(v,{highlightOutlines:P.getOutlines(),highlightId:O,clipPathId:C}),D(S=u,Ee,uh).call(S),u.rotate(u.parentRotation)}return u}serialize(n=!1){if(this.isEmpty()||n)return null;if(this.deleted)return this.serializeDeleted();const r=gt._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(n);return Object.assign(i,{color:r,opacity:this.opacity,thickness:h(this,ys),quadPoints:D(this,Ee,m9).call(this),outlines:D(this,Ee,g9).call(this,i.rect)}),this.addComment(i),this.annotationElementId&&!D(this,Ee,b9).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(n){return this.deleted?(n.hide(),null):(n.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};Vm=new WeakMap,tw=new WeakMap,sl=new WeakMap,Cd=new WeakMap,nw=new WeakMap,ni=new WeakMap,rw=new WeakMap,iw=new WeakMap,kd=new WeakMap,ki=new WeakMap,Ii=new WeakMap,Yn=new WeakMap,zm=new WeakMap,Hm=new WeakMap,br=new WeakMap,Wm=new WeakMap,ys=new WeakMap,sw=new WeakMap,Ee=new WeakSet,UI=function(){const n=new FI(h(this,sl),.001);_(this,ki,n.getOutlines()),[this.x,this.y,this.width,this.height]=h(this,ki).box;const r=new FI(h(this,sl),.0025,.001,this._uiManager.direction==="ltr");_(this,ni,r.getOutlines());const{firstPoint:i}=h(this,ki);_(this,zm,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]);const{lastPoint:s}=h(this,ni);_(this,Hm,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},Y1=function({highlightOutlines:n,highlightId:r,clipPathId:i}){var f,p;if(_(this,ki,n),_(this,ni,n.getNewOutline(h(this,ys)/2+1.5,.0025)),r>=0)_(this,Ii,r),_(this,Cd,i),this.parent.drawLayer.finalizeDraw(r,{bbox:n.box,path:{d:n.toSVGPath()}}),_(this,br,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:h(this,ni).box,path:{d:h(this,ni).toSVGPath()}},!0));else if(this.parent){const g=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(h(this,Ii),{bbox:D(f=Ve,xs,zf).call(f,h(this,ki).box,(g-this.rotation+360)%360),path:{d:n.toSVGPath()}}),this.parent.drawLayer.updateProperties(h(this,br),{bbox:D(p=Ve,xs,zf).call(p,h(this,ni).box,g),path:{d:h(this,ni).toSVGPath()}})}const[a,o,l,c]=n.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=c;break;case 90:{const[g,y]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*y/g,this.height=c*g/y;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=c;break;case 270:{const[g,y]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*y/g,this.height=c*g/y;break}}const{firstPoint:u}=n;_(this,zm,[(u[0]-a)/l,(u[1]-o)/c]);const{lastPoint:d}=h(this,ni);_(this,Hm,[(d[0]-a)/l,(d[1]-o)/c])},h9=function(n){const r=(a,o)=>{this.color=a,this.opacity=o,this.onUpdatedColor()},i=this.color,s=this.opacity;this.addCommands({cmd:r.bind(this,n,Ve._defaultOpacity),undo:r.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Me.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(n)},!0)},d9=function(n){const r=h(this,ys),i=s=>{_(this,ys,s),D(this,Ee,f9).call(this,s)};this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Me.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},f9=function(n){h(this,Yn)&&(D(this,Ee,Y1).call(this,{highlightOutlines:h(this,ki).getNewOutline(n/2)}),this.fixAndSetPosition(),this.setDims())},VI=function(){h(this,Ii)===null||!this.parent||(this.parent.drawLayer.remove(h(this,Ii)),_(this,Ii,null),this.parent.drawLayer.remove(h(this,br)),_(this,br,null))},uh=function(n=this.parent){h(this,Ii)===null&&({id:fn(this,Ii)._,clipPathId:fn(this,Cd)._}=n.drawLayer.draw({bbox:h(this,ki).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:h(this,Yn)},path:{d:h(this,ki).toSVGPath()}},!1,!0),_(this,br,n.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:h(this,Yn)},bbox:h(this,ni).box,path:{d:h(this,ni).toSVGPath()}},h(this,Yn))),h(this,kd)&&(h(this,kd).style.clipPath=h(this,Cd)))},xs=new WeakSet,zf=function([n,r,i,s],a){switch(a){case 90:return[1-r-s,n,s,i];case 180:return[1-n-i,1-r-s,i,s];case 270:return[r,1-n-i,s,i]}return[n,r,i,s]},p9=function(n){Ve._keyboardManager.exec(this,n)},J1=function(n){if(!h(this,Vm))return;const r=window.getSelection();n?r.setPosition(h(this,Vm),h(this,tw)):r.setPosition(h(this,rw),h(this,iw))},Z1=function(){return h(this,Yn)?this.rotation:0},m9=function(){if(h(this,Yn))return null;const[n,r]=this.pageDimensions,[i,s]=this.pageTranslation,a=h(this,sl),o=new Float32Array(a.length*8);let l=0;for(const{x:c,y:u,width:d,height:f}of a){const p=c*n+i,g=(1-u)*r+s;o[l]=o[l+4]=p,o[l+1]=o[l+3]=g,o[l+2]=o[l+6]=p+d*n,o[l+5]=o[l+7]=g-f*r,l+=8}return o},g9=function(n){return h(this,ki).serialize(n,D(this,Ee,Z1).call(this))},y9=function(n,r){this._freeHighlight.add(r)&&n.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},v9=function(n,r){this._freeHighlight.isEmpty()?n.drawLayer.remove(this._freeHighlightId):n.createAndAddNewEditor(r,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},b9=function(n){const{color:r}=this._initialData;return this.hasEditedComment||n.color.some((i,s)=>i!==r[s])},I(Ve,xs),q(Ve,"_defaultColor",null),q(Ve,"_defaultOpacity",1),q(Ve,"_defaultThickness",12),q(Ve,"_type","highlight"),q(Ve,"_editorType",Se.HIGHLIGHT),q(Ve,"_freeHighlightId",-1),q(Ve,"_freeHighlight",null),q(Ve,"_freeHighlightClipId","");let sA=Ve;var Id;class w9{constructor(){I(this,Id,Object.create(null))}updateProperty(e,n){this[e]=n,this.updateSVGProperty(e,n)}updateProperties(e){if(e)for(const[n,r]of Object.entries(e))n.startsWith("_")||this.updateProperty(n,r)}updateSVGProperty(e,n){h(this,Id)[e]=n}toSVGProperties(){const e=h(this,Id);return _(this,Id,Object.create(null)),{root:e}}reset(){_(this,Id,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){ut("Not implemented")}}Id=new WeakMap;var Oi,Gm,On,Od,Md,Fe,zI,HI,WI,Xy,x9,Q1,Yy,Hf;const Oe=class Oe extends gt{constructor(n){super(n);I(this,Fe);I(this,Oi,null);I(this,Gm);q(this,"_colorPicker",null);q(this,"_drawId",null);_(this,Gm,n.mustBeCommitted||!1),this._addOutlines(n)}onUpdatedColor(){var n;(n=this._colorPicker)==null||n.update(this.color),super.onUpdatedColor()}_addOutlines(n){n.drawOutlines&&(D(this,Fe,zI).call(this,n),D(this,Fe,Xy).call(this))}static _mergeSVGProperties(n,r){const i=new Set(Object.keys(n));for(const[s,a]of Object.entries(r))i.has(s)?Object.assign(n[s],a):n[s]=a;return n}static getDefaultDrawingOptions(n){ut("Not implemented")}static get typesMap(){ut("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(n,r){const i=this.typesMap.get(n);i&&this._defaultDrawingOptions.updateProperty(i,r),this._currentParent&&(h(Oe,On).updateProperty(i,r),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(n,r){const i=this.constructor.typesMap.get(n);i&&this._updateProperty(n,i,r)}static get defaultPropertiesToUpdate(){const n=[],r=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)n.push([i,r[s]]);return n}get propertiesToUpdate(){const n=[],{_drawingOptions:r}=this;for(const[i,s]of this.constructor.typesMap)n.push([i,r[s]]);return n}_updateProperty(n,r,i){const s=this._drawingOptions,a=s[r],o=l=>{var u;s.updateProperty(r,l);const c=h(this,Oi).updateProperty(r,l);c&&D(this,Fe,Yy).call(this,c),(u=this.parent)==null||u.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),n===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:n,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Oe._mergeSVGProperties(h(this,Oi).getPathResizingSVGProperties(D(this,Fe,Q1).call(this)),{bbox:D(this,Fe,Hf).call(this)}))}_onResized(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Oe._mergeSVGProperties(h(this,Oi).getPathResizedSVGProperties(D(this,Fe,Q1).call(this)),{bbox:D(this,Fe,Hf).call(this)}))}_onTranslating(n,r){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:D(this,Fe,Hf).call(this)})}_onTranslated(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Oe._mergeSVGProperties(h(this,Oi).getPathTranslatedSVGProperties(D(this,Fe,Q1).call(this),this.parentDimensions),{bbox:D(this,Fe,Hf).call(this)}))}_onStartDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,h(this,Gm)&&(_(this,Gm,!1),this.commit(),this.parent.setSelected(this),n&&this.isOnScreen&&this.div.focus())}remove(){D(this,Fe,WI).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(D(this,Fe,Xy).call(this),D(this,Fe,Yy).call(this,h(this,Oi).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let r=!1;this.parent&&!n?(this._uiManager.removeShouldRescale(this),D(this,Fe,WI).call(this)):n&&(this._uiManager.addShouldRescale(this),D(this,Fe,Xy).call(this,n),r=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),r&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Oe._mergeSVGProperties({bbox:D(this,Fe,Hf).call(this)},h(this,Oi).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&D(this,Fe,Yy).call(this,h(this,Oi).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let n,r;this._isCopy&&(n=this.x,r=this.y);const i=super.render();i.classList.add("draw");const s=document.createElement("div");return i.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(n,r),i}static createDrawerInstance(n,r,i,s,a){ut("Not implemented")}static startDrawing(n,r,i,s){var b;const{target:a,offsetX:o,offsetY:l,pointerId:c,pointerType:u}=s;if(pr.isInitializedAndDifferentPointerType(u))return;const{viewport:{rotation:d}}=n,{width:f,height:p}=a.getBoundingClientRect(),g=_(Oe,Od,new AbortController),y=n.combinedSignal(g);if(pr.setPointer(u,c),window.addEventListener("pointerup",v=>{pr.isSamePointerIdOrRemove(v.pointerId)&&this._endDraw(v)},{signal:y}),window.addEventListener("pointercancel",v=>{pr.isSamePointerIdOrRemove(v.pointerId)&&this._currentParent.endDrawingSession()},{signal:y}),window.addEventListener("pointerdown",v=>{pr.isSamePointerType(v.pointerType)&&(pr.initializeAndAddPointerId(v.pointerId),h(Oe,On).isCancellable()&&(h(Oe,On).removeLastElement(),h(Oe,On).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",Os,{signal:y}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:y}),a.addEventListener("touchmove",v=>{pr.isSameTimeStamp(v.timeStamp)&&Gt(v)},{signal:y}),n.toggleDrawing(),(b=r._editorUndoBar)==null||b.hide(),h(Oe,On)){n.drawLayer.updateProperties(this._currentDrawId,h(Oe,On).startNew(o,l,f,p,d));return}r.updateUIForDefaultProperties(this),_(Oe,On,this.createDrawerInstance(o,l,f,p,d)),_(Oe,Md,this.getDefaultDrawingOptions()),this._currentParent=n,{id:this._currentDrawId}=n.drawLayer.draw(this._mergeSVGProperties(h(Oe,Md).toSVGProperties(),h(Oe,On).defaultSVGProperties),!0,!1)}static _drawMove(n){if(pr.isSameTimeStamp(n.timeStamp),!h(Oe,On))return;const{offsetX:r,offsetY:i,pointerId:s}=n;if(pr.isSamePointerId(s)){if(pr.isUsingMultiplePointers()){this._endDraw(n);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,h(Oe,On).add(r,i)),pr.setTimeStamp(n.timeStamp),Gt(n)}}static _cleanup(n){n&&(this._currentDrawId=-1,this._currentParent=null,_(Oe,On,null),_(Oe,Md,null),pr.clearPointerType(),pr.clearTimeStamp()),h(Oe,Od)&&(h(Oe,Od).abort(),_(Oe,Od,null),pr.clearPointerIds())}static _endDraw(n){const r=this._currentParent;if(r){if(r.toggleDrawing(!0),this._cleanup(!1),(n==null?void 0:n.target)===r.div&&r.drawLayer.updateProperties(this._currentDrawId,h(Oe,On).end(n.offsetX,n.offsetY)),this.supportMultipleDrawings){const i=h(Oe,On),s=this._currentDrawId,a=i.getLastElement();r.addCommands({cmd:()=>{r.drawLayer.updateProperties(s,i.setLastElement(a))},undo:()=>{r.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:Me.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(n){const r=this._currentParent;if(!r)return null;if(r.toggleDrawing(!0),r.cleanUndoStack(Me.DRAW_STEP),!h(Oe,On).isEmpty()){const{pageDimensions:[i,s],scale:a}=r,o=r.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:h(Oe,On).getOutlines(i*a,s*a,a,this._INNER_MARGIN),drawingOptions:h(Oe,Md),mustBeCommitted:!n});return this._cleanup(!0),o}return r.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(n){}static deserializeDraw(n,r,i,s,a,o){ut("Not implemented")}static async deserialize(n,r,i){var d,f;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}=r.viewport,c=this.deserializeDraw(o,l,s,a,this._INNER_MARGIN,n),u=await super.deserialize(n,r,i);return u.createDrawingOptions(n),D(d=u,Fe,zI).call(d,{drawOutlines:c}),D(f=u,Fe,Xy).call(f),u.onScaleChanging(),u.rotate(),u}serializeDraw(n){const[r,i]=this.pageTranslation,[s,a]=this.pageDimensions;return h(this,Oi).serialize([r,i,s,a],n)}renderAnnotationElement(n){return n.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};Oi=new WeakMap,Gm=new WeakMap,On=new WeakMap,Od=new WeakMap,Md=new WeakMap,Fe=new WeakSet,zI=function({drawOutlines:n,drawId:r,drawingOptions:i}){_(this,Oi,n),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),r>=0?(this._drawId=r,this.parent.drawLayer.finalizeDraw(r,n.defaultProperties)):this._drawId=D(this,Fe,HI).call(this,n,this.parent),D(this,Fe,Yy).call(this,n.box)},HI=function(n,r){const{id:i}=r.drawLayer.draw(Oe._mergeSVGProperties(this._drawingOptions.toSVGProperties(),n.defaultSVGProperties),!1,!1);return i},WI=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Xy=function(n=this.parent){if(!(this._drawId!==null&&this.parent===n)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,n.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=D(this,Fe,HI).call(this,h(this,Oi),n)}},x9=function([n,r,i,s]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[r,1-n,i*(o/a),s*(a/o)];case 180:return[1-n,1-r,i,s];case 270:return[1-r,n,i*(o/a),s*(a/o)];default:return[n,r,i,s]}},Q1=function(){const{x:n,y:r,width:i,height:s,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-r,n,i*(a/o),s*(o/a)];case 180:return[1-n,1-r,i,s];case 270:return[r,1-n,i*(a/o),s*(o/a)];default:return[n,r,i,s]}},Yy=function(n){[this.x,this.y,this.width,this.height]=D(this,Fe,x9).call(this,n),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Hf=function(){const{x:n,y:r,width:i,height:s,rotation:a,parentRotation:o,parentDimensions:[l,c]}=this;switch((a*4+o)/90){case 1:return[1-r-s,n,s,i];case 2:return[1-n-i,1-r-s,i,s];case 3:return[r,1-n-i,s,i];case 4:return[n,r-i*(l/c),s*(c/l),i*(l/c)];case 5:return[1-r,n,i*(l/c),s*(c/l)];case 6:return[1-n-s*(c/l),1-r,s*(c/l),i*(l/c)];case 7:return[r-i*(l/c),1-n-s*(c/l),i*(l/c),s*(c/l)];case 8:return[n-i,r-s,i,s];case 9:return[1-r,n-i,s,i];case 10:return[1-n,1-r,i,s];case 11:return[r-s,1-n,s,i];case 12:return[n-s*(c/l),r,s*(c/l),i*(l/c)];case 13:return[1-r-i*(l/c),n-s*(c/l),i*(l/c),s*(c/l)];case 14:return[1-n,1-r-i*(l/c),s*(c/l),i*(l/c)];case 15:return[r,1-n,i*(l/c),s*(c/l)];default:return[n,r,i,s]}},q(Oe,"_currentDrawId",-1),q(Oe,"_currentParent",null),I(Oe,On,null),I(Oe,Od,null),I(Oe,Md,null),q(Oe,"_INNER_MARGIN",3);let aA=Oe;var Ka,Mn,Dn,Dd,Km,Or,Jn,vs,Nd,Rd,Ld,qm,eS;class cae{constructor(e,n,r,i,s,a){I(this,qm);I(this,Ka,new Float64Array(6));I(this,Mn);I(this,Dn);I(this,Dd);I(this,Km);I(this,Or);I(this,Jn,"");I(this,vs,0);I(this,Nd,new Ew);I(this,Rd);I(this,Ld);_(this,Rd,r),_(this,Ld,i),_(this,Dd,s),_(this,Km,a),[e,n]=D(this,qm,eS).call(this,e,n);const o=_(this,Mn,[NaN,NaN,NaN,NaN,e,n]);_(this,Or,[e,n]),_(this,Dn,[{line:o,points:h(this,Or)}]),h(this,Ka).set(o,0)}updateProperty(e,n){e==="stroke-width"&&_(this,Km,n)}isEmpty(){return!h(this,Dn)||h(this,Dn).length===0}isCancellable(){return h(this,Or).length<=10}add(e,n){[e,n]=D(this,qm,eS).call(this,e,n);const[r,i,s,a]=h(this,Ka).subarray(2,6),o=e-s,l=n-a;return Math.hypot(h(this,Rd)*o,h(this,Ld)*l)<=2?null:(h(this,Or).push(e,n),isNaN(r)?(h(this,Ka).set([s,a,e,n],2),h(this,Mn).push(NaN,NaN,NaN,NaN,e,n),{path:{d:this.toSVGPath()}}):(isNaN(h(this,Ka)[0])&&h(this,Mn).splice(6,6),h(this,Ka).set([r,i,s,a,e,n],0),h(this,Mn).push(...ie.createBezierPoints(r,i,s,a,e,n)),{path:{d:this.toSVGPath()}}))}end(e,n){const r=this.add(e,n);return r||(h(this,Or).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,n,r,i,s){_(this,Rd,r),_(this,Ld,i),_(this,Dd,s),[e,n]=D(this,qm,eS).call(this,e,n);const a=_(this,Mn,[NaN,NaN,NaN,NaN,e,n]);_(this,Or,[e,n]);const o=h(this,Dn).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),h(this,Dn).push({line:a,points:h(this,Or)}),h(this,Ka).set(a,0),_(this,vs,0),this.toSVGPath(),null}getLastElement(){return h(this,Dn).at(-1)}setLastElement(e){return h(this,Dn)?(h(this,Dn).push(e),_(this,Mn,e.line),_(this,Or,e.points),_(this,vs,0),{path:{d:this.toSVGPath()}}):h(this,Nd).setLastElement(e)}removeLastElement(){if(!h(this,Dn))return h(this,Nd).removeLastElement();h(this,Dn).pop(),_(this,Jn,"");for(let e=0,n=h(this,Dn).length;e<n;e++){const{line:r,points:i}=h(this,Dn)[e];_(this,Mn,r),_(this,Or,i),_(this,vs,0),this.toSVGPath()}return{path:{d:h(this,Jn)}}}toSVGPath(){const e=ie.svgRound(h(this,Mn)[4]),n=ie.svgRound(h(this,Mn)[5]);if(h(this,Or).length===2)return _(this,Jn,`${h(this,Jn)} M ${e} ${n} Z`),h(this,Jn);if(h(this,Or).length<=6){const i=h(this,Jn).lastIndexOf("M");_(this,Jn,`${h(this,Jn).slice(0,i)} M ${e} ${n}`),_(this,vs,6)}if(h(this,Or).length===4){const i=ie.svgRound(h(this,Mn)[10]),s=ie.svgRound(h(this,Mn)[11]);return _(this,Jn,`${h(this,Jn)} L ${i} ${s}`),_(this,vs,12),h(this,Jn)}const r=[];h(this,vs)===0&&(r.push(`M ${e} ${n}`),_(this,vs,6));for(let i=h(this,vs),s=h(this,Mn).length;i<s;i+=6){const[a,o,l,c,u,d]=h(this,Mn).slice(i,i+6).map(ie.svgRound);r.push(`C${a} ${o} ${l} ${c} ${u} ${d}`)}return _(this,Jn,h(this,Jn)+r.join(" ")),_(this,vs,h(this,Mn).length),h(this,Jn)}getOutlines(e,n,r,i){const s=h(this,Dn).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),h(this,Nd).build(h(this,Dn),e,n,r,h(this,Dd),h(this,Km),i),_(this,Ka,null),_(this,Mn,null),_(this,Dn,null),_(this,Jn,null),h(this,Nd)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Ka=new WeakMap,Mn=new WeakMap,Dn=new WeakMap,Dd=new WeakMap,Km=new WeakMap,Or=new WeakMap,Jn=new WeakMap,vs=new WeakMap,Nd=new WeakMap,Rd=new WeakMap,Ld=new WeakMap,qm=new WeakSet,eS=function(e,n){return ie._normalizePoint(e,n,h(this,Rd),h(this,Ld),h(this,Dd))};var Mr,aw,ow,Mi,qa,Xa,Xm,Ym,jd,nr,Eo,S9,A9,_9;class Ew extends ie{constructor(){super(...arguments);I(this,nr);I(this,Mr);I(this,aw,0);I(this,ow);I(this,Mi);I(this,qa);I(this,Xa);I(this,Xm);I(this,Ym);I(this,jd)}build(n,r,i,s,a,o,l){_(this,qa,r),_(this,Xa,i),_(this,Xm,s),_(this,Ym,a),_(this,jd,o),_(this,ow,l??0),_(this,Mi,n),D(this,nr,A9).call(this)}get thickness(){return h(this,jd)}setLastElement(n){return h(this,Mi).push(n),{path:{d:this.toSVGPath()}}}removeLastElement(){return h(this,Mi).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const n=[];for(const{line:r}of h(this,Mi)){if(n.push(`M${ie.svgRound(r[4])} ${ie.svgRound(r[5])}`),r.length===6){n.push("Z");continue}if(r.length===12&&isNaN(r[6])){n.push(`L${ie.svgRound(r[10])} ${ie.svgRound(r[11])}`);continue}for(let i=6,s=r.length;i<s;i+=6){const[a,o,l,c,u,d]=r.subarray(i,i+6).map(ie.svgRound);n.push(`C${a} ${o} ${l} ${c} ${u} ${d}`)}}return n.join("")}serialize([n,r,i,s],a){const o=[],l=[],[c,u,d,f]=D(this,nr,S9).call(this);let p,g,y,b,v,S,w,T,P;switch(h(this,Ym)){case 0:P=ie._rescale,p=n,g=r+s,y=i,b=-s,v=n+c*i,S=r+(1-u-f)*s,w=n+(c+d)*i,T=r+(1-u)*s;break;case 90:P=ie._rescaleAndSwap,p=n,g=r,y=i,b=s,v=n+u*i,S=r+c*s,w=n+(u+f)*i,T=r+(c+d)*s;break;case 180:P=ie._rescale,p=n+i,g=r,y=-i,b=s,v=n+(1-c-d)*i,S=r+u*s,w=n+(1-c)*i,T=r+(u+f)*s;break;case 270:P=ie._rescaleAndSwap,p=n+i,g=r+s,y=-i,b=-s,v=n+(1-u-f)*i,S=r+(1-c-d)*s,w=n+(1-u)*i,T=r+(1-c)*s;break}for(const{line:O,points:C}of h(this,Mi))o.push(P(O,p,g,y,b,a?new Array(O.length):null)),l.push(P(C,p,g,y,b,a?new Array(C.length):null));return{lines:o,points:l,rect:[v,S,w,T]}}static deserialize(n,r,i,s,a,{paths:{lines:o,points:l},rotation:c,thickness:u}){const d=[];let f,p,g,y,b;switch(c){case 0:b=ie._rescale,f=-n/i,p=r/s+1,g=1/i,y=-1/s;break;case 90:b=ie._rescaleAndSwap,f=-r/s,p=-n/i,g=1/s,y=1/i;break;case 180:b=ie._rescale,f=n/i+1,p=-r/s,g=-1/i,y=1/s;break;case 270:b=ie._rescaleAndSwap,f=r/s+1,p=n/i+1,g=-1/s,y=-1/i;break}if(!o){o=[];for(const S of l){const w=S.length;if(w===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1]]));continue}if(w===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1],NaN,NaN,NaN,NaN,S[2],S[3]]));continue}const T=new Float32Array(3*(w-2));o.push(T);let[P,O,C,k]=S.subarray(0,4);T.set([NaN,NaN,NaN,NaN,P,O],0);for(let N=4;N<w;N+=2){const L=S[N],R=S[N+1];T.set(ie.createBezierPoints(P,O,C,k,L,R),(N-2)*3),[P,O,C,k]=[C,k,L,R]}}}for(let S=0,w=o.length;S<w;S++)d.push({line:b(o[S].map(T=>T??NaN),f,p,g,y),points:b(l[S].map(T=>T??NaN),f,p,g,y)});const v=new this.prototype.constructor;return v.build(d,i,s,1,c,u,a),v}get box(){return h(this,Mr)}updateProperty(n,r){return n==="stroke-width"?D(this,nr,_9).call(this,r):null}updateParentDimensions([n,r],i){const[s,a]=D(this,nr,Eo).call(this);_(this,qa,n),_(this,Xa,r),_(this,Xm,i);const[o,l]=D(this,nr,Eo).call(this),c=o-s,u=l-a,d=h(this,Mr);return d[0]-=c,d[1]-=u,d[2]+=2*c,d[3]+=2*u,d}updateRotation(n){return _(this,aw,n),{path:{transform:this.rotationTransform}}}get viewBox(){return h(this,Mr).map(ie.svgRound).join(" ")}get defaultProperties(){const[n,r]=h(this,Mr);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ie.svgRound(n)} ${ie.svgRound(r)}`}}}get rotationTransform(){const[,,n,r]=h(this,Mr);let i=0,s=0,a=0,o=0,l=0,c=0;switch(h(this,aw)){case 90:s=r/n,a=-n/r,l=n;break;case 180:i=-1,o=-1,l=n,c=r;break;case 270:s=-r/n,a=n/r,c=r;break;default:return""}return`matrix(${i} ${s} ${a} ${o} ${ie.svgRound(l)} ${ie.svgRound(c)})`}getPathResizingSVGProperties([n,r,i,s]){const[a,o]=D(this,nr,Eo).call(this),[l,c,u,d]=h(this,Mr);if(Math.abs(u-a)<=ie.PRECISION||Math.abs(d-o)<=ie.PRECISION){const b=n+i/2-(l+u/2),v=r+s/2-(c+d/2);return{path:{"transform-origin":`${ie.svgRound(n)} ${ie.svgRound(r)}`,transform:`${this.rotationTransform} translate(${b} ${v})`}}}const f=(i-2*a)/(u-2*a),p=(s-2*o)/(d-2*o),g=u/i,y=d/s;return{path:{"transform-origin":`${ie.svgRound(l)} ${ie.svgRound(c)}`,transform:`${this.rotationTransform} scale(${g} ${y}) translate(${ie.svgRound(a)} ${ie.svgRound(o)}) scale(${f} ${p}) translate(${ie.svgRound(-a)} ${ie.svgRound(-o)})`}}}getPathResizedSVGProperties([n,r,i,s]){const[a,o]=D(this,nr,Eo).call(this),l=h(this,Mr),[c,u,d,f]=l;if(l[0]=n,l[1]=r,l[2]=i,l[3]=s,Math.abs(d-a)<=ie.PRECISION||Math.abs(f-o)<=ie.PRECISION){const v=n+i/2-(c+d/2),S=r+s/2-(u+f/2);for(const{line:w,points:T}of h(this,Mi))ie._translate(w,v,S,w),ie._translate(T,v,S,T);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ie.svgRound(n)} ${ie.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(i-2*a)/(d-2*a),g=(s-2*o)/(f-2*o),y=-p*(c+a)+n+a,b=-g*(u+o)+r+o;if(p!==1||g!==1||y!==0||b!==0)for(const{line:v,points:S}of h(this,Mi))ie._rescale(v,y,b,p,g,v),ie._rescale(S,y,b,p,g,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ie.svgRound(n)} ${ie.svgRound(r)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([n,r],i){const[s,a]=i,o=h(this,Mr),l=n-o[0],c=r-o[1];if(h(this,qa)===s&&h(this,Xa)===a)for(const{line:u,points:d}of h(this,Mi))ie._translate(u,l,c,u),ie._translate(d,l,c,d);else{const u=h(this,qa)/s,d=h(this,Xa)/a;_(this,qa,s),_(this,Xa,a);for(const{line:f,points:p}of h(this,Mi))ie._rescale(f,l,c,u,d,f),ie._rescale(p,l,c,u,d,p);o[2]*=u,o[3]*=d}return o[0]=n,o[1]=r,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ie.svgRound(n)} ${ie.svgRound(r)}`}}}get defaultSVGProperties(){const n=h(this,Mr);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ie.svgRound(n[0])} ${ie.svgRound(n[1])}`,transform:this.rotationTransform||null},bbox:n}}}Mr=new WeakMap,aw=new WeakMap,ow=new WeakMap,Mi=new WeakMap,qa=new WeakMap,Xa=new WeakMap,Xm=new WeakMap,Ym=new WeakMap,jd=new WeakMap,nr=new WeakSet,Eo=function(n=h(this,jd)){const r=h(this,ow)+n/2*h(this,Xm);return h(this,Ym)%180===0?[r/h(this,qa),r/h(this,Xa)]:[r/h(this,Xa),r/h(this,qa)]},S9=function(){const[n,r,i,s]=h(this,Mr),[a,o]=D(this,nr,Eo).call(this,0);return[n+a,r+o,i-2*a,s-2*o]},A9=function(){const n=_(this,Mr,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of h(this,Mi)){if(s.length<=12){for(let l=4,c=s.length;l<c;l+=6)ae.pointBoundingBox(s[l],s[l+1],n);continue}let a=s[4],o=s[5];for(let l=6,c=s.length;l<c;l+=6){const[u,d,f,p,g,y]=s.subarray(l,l+6);ae.bezierBoundingBox(a,o,u,d,f,p,g,y,n),a=g,o=y}}const[r,i]=D(this,nr,Eo).call(this);n[0]=Rr(n[0]-r,0,1),n[1]=Rr(n[1]-i,0,1),n[2]=Rr(n[2]+r,0,1),n[3]=Rr(n[3]+i,0,1),n[2]-=n[0],n[3]-=n[1]},_9=function(n){const[r,i]=D(this,nr,Eo).call(this);_(this,jd,n);const[s,a]=D(this,nr,Eo).call(this),[o,l]=[s-r,a-i],c=h(this,Mr);return c[0]-=o,c[1]-=l,c[2]+=2*o,c[3]+=2*l,c};class rE extends w9{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:gt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,n){e==="stroke-width"&&(n??(n=this["stroke-width"]),n*=this._viewParameters.realScale),super.updateSVGProperty(e,n)}clone(){const e=new rE(this._viewParameters);return e.updateAll(this),e}}var k_,E9;const yp=class yp extends aA{constructor(n){super({...n,name:"inkEditor"});I(this,k_);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(n,r){gt.initialize(n,r),this._defaultDrawingOptions=new rE(r.viewParameters)}static getDefaultDrawingOptions(n){const r=this._defaultDrawingOptions.clone();return r.updateProperties(n),r}static get supportMultipleDrawings(){return!0}static get typesMap(){return we(this,"typesMap",new Map([[Me.INK_THICKNESS,"stroke-width"],[Me.INK_COLOR,"stroke"],[Me.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(n,r,i,s,a){return new cae(n,r,i,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(n,r,i,s,a,o){return Ew.deserialize(n,r,i,s,a,o)}static async deserialize(n,r,i){let s=null;if(n instanceof nD){const{data:{inkLists:o,rect:l,rotation:c,id:u,color:d,opacity:f,borderStyle:{rawWidth:p},popupRef:g,richText:y,contentsObj:b,creationDate:v,modificationDate:S},parent:{page:{pageNumber:w}}}=n;s=n={annotationType:Se.INK,color:Array.from(d),thickness:p,opacity:f,paths:{points:o},boxes:null,pageIndex:w-1,rect:l.slice(0),rotation:c,annotationElementId:u,id:u,deleted:!1,popupRef:g,richText:y,comment:(b==null?void 0:b.str)||null,creationDate:v,modificationDate:S}}const a=await super.deserialize(n,r,i);return a._initialData=s,n.comment&&a.setCommentData(n),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new nA(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Me.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:n,_drawingOptions:r,parent:i}=this;r.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(n,r.toSVGProperties())}static onScaleChangingWhenDrawing(){const n=this._currentParent;n&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:n,thickness:r,opacity:i}){this._drawingOptions=yp.getDefaultDrawingOptions({stroke:ae.makeHexColor(...n),"stroke-width":r,"stroke-opacity":i})}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:r,points:i}=this.serializeDraw(n),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":o}}=this,l=Object.assign(super.serialize(n),{color:gt._colorManager.convert(s),opacity:a,thickness:o,paths:{lines:r,points:i}});return this.addComment(l),n?(l.isCopy=!0,l):this.annotationElementId&&!D(this,k_,E9).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(n){if(this.deleted)return n.hide(),null;const{points:r,rect:i}=this.serializeDraw(!1);return n.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:r,popup:this.comment}),null}};k_=new WeakSet,E9=function(n){const{color:r,thickness:i,opacity:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||n.color.some((o,l)=>o!==r[l])||n.thickness!==i||n.opacity!==s||n.pageIndex!==a},q(yp,"_type","ink"),q(yp,"_editorType",Se.INK),q(yp,"_defaultDrawingOptions",null);let GI=yp;class KI extends Ew{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Ux=8,vy=3;var Fd,He,qI,Qs,P9,T9,XI,tS,C9,k9,I9,YI,JI,O9;class hl{static extractContoursFromText(e,{fontFamily:n,fontStyle:r,fontWeight:i},s,a,o,l){let c=new OffscreenCanvas(1,1),u=c.getContext("2d",{alpha:!1});const d=200,f=u.font=`${r} ${i} ${d}px ${n}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:g,actualBoundingBoxAscent:y,actualBoundingBoxDescent:b,fontBoundingBoxAscent:v,fontBoundingBoxDescent:S,width:w}=u.measureText(e),T=1.5,P=Math.ceil(Math.max(Math.abs(p)+Math.abs(g)||0,w)*T),O=Math.ceil(Math.max(Math.abs(y)+Math.abs(b)||d,Math.abs(v)+Math.abs(S)||d)*T);c=new OffscreenCanvas(P,O),u=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=f,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,P,O),u.fillStyle="black",u.fillText(e,P*(T-1)/2,O*(3-T)/2);const C=D(this,He,YI).call(this,u.getImageData(0,0,P,O).data),k=D(this,He,I9).call(this,C),N=D(this,He,JI).call(this,k),L=D(this,He,XI).call(this,C,P,O,N);return this.processDrawnLines({lines:{curves:L,width:P,height:O},pageWidth:s,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,n,r,i,s){const[a,o,l]=D(this,He,O9).call(this,e),[c,u]=D(this,He,k9).call(this,a,o,l,Math.hypot(o,l)*h(this,Fd).sigmaSFactor,h(this,Fd).sigmaR,h(this,Fd).kernelSize),d=D(this,He,JI).call(this,u),f=D(this,He,XI).call(this,c,o,l,d);return this.processDrawnLines({lines:{curves:f,width:o,height:l},pageWidth:n,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:a,areContours:o}){i%180!==0&&([n,r]=[r,n]);const{curves:l,width:c,height:u}=e,d=e.thickness??0,f=[],p=Math.min(n/c,r/u),g=p/n,y=p/r,b=[];for(const{points:S}of l){const w=a?D(this,He,C9).call(this,S):S;if(!w)continue;b.push(w);const T=w.length,P=new Float32Array(T),O=new Float32Array(3*(T===2?2:T-2));if(f.push({line:O,points:P}),T===2){P[0]=w[0]*g,P[1]=w[1]*y,O.set([NaN,NaN,NaN,NaN,P[0],P[1]],0);continue}let[C,k,N,L]=w;C*=g,k*=y,N*=g,L*=y,P.set([C,k,N,L],0),O.set([NaN,NaN,NaN,NaN,C,k],0);for(let R=4;R<T;R+=2){const B=P[R]=w[R]*g,j=P[R+1]=w[R+1]*y;O.set(ie.createBezierPoints(C,k,N,L,B,j),(R-2)*3),[C,k,N,L]=[N,L,B,j]}}if(f.length===0)return null;const v=o?new KI:new Ew;return v.build(f,n,r,1,i,o?0:d,s),{outline:v,newCurves:b,areContours:o,thickness:d,width:c,height:u}}static async compressSignature({outlines:e,areContours:n,thickness:r,width:i,height:s}){let a=1/0,o=-1/0,l=0;for(const w of e){l+=w.length;for(let T=2,P=w.length;T<P;T++){const O=w[T]-w[T-2];a=Math.min(a,O),o=Math.max(o,O)}}let c;a>=-128&&o<=127?c=Int8Array:a>=-32768&&o<=32767?c=Int16Array:c=Int32Array;const u=e.length,d=Ux+vy*u,f=new Uint32Array(d);let p=0;f[p++]=d*Uint32Array.BYTES_PER_ELEMENT+(l-2*u)*c.BYTES_PER_ELEMENT,f[p++]=0,f[p++]=i,f[p++]=s,f[p++]=n?0:1,f[p++]=Math.max(0,Math.floor(r??0)),f[p++]=u,f[p++]=c.BYTES_PER_ELEMENT;for(const w of e)f[p++]=w.length-2,f[p++]=w[0],f[p++]=w[1];const g=new CompressionStream("deflate-raw"),y=g.writable.getWriter();await y.ready,y.write(f);const b=c.prototype.constructor;for(const w of e){const T=new b(w.length-2);for(let P=2,O=w.length;P<O;P++)T[P-2]=w[P]-w[P-2];y.write(T)}y.close();const v=await new Response(g.readable).arrayBuffer(),S=new Uint8Array(v);return Cz(S)}static async decompressSignature(e){try{const n=Pie(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(n).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const w of r)a||(a=new Uint8Array(new Uint32Array(w.buffer,0,4)[0])),a.set(w,o),o+=w.length;const l=new Uint32Array(a.buffer,0,a.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const u=l[2],d=l[3],f=l[4]===0,p=l[5],g=l[6],y=l[7],b=[],v=(Ux+vy*g)*Uint32Array.BYTES_PER_ELEMENT;let S;switch(y){case Int8Array.BYTES_PER_ELEMENT:S=new Int8Array(a.buffer,v);break;case Int16Array.BYTES_PER_ELEMENT:S=new Int16Array(a.buffer,v);break;case Int32Array.BYTES_PER_ELEMENT:S=new Int32Array(a.buffer,v);break}o=0;for(let w=0;w<g;w++){const T=l[vy*w+Ux],P=new Float32Array(T+2);b.push(P);for(let O=0;O<vy-1;O++)P[O]=l[vy*w+Ux+O+1];for(let O=0;O<T;O++)P[O+2]=P[O]+S[o++]}return{areContours:f,thickness:p,outlines:b,width:u,height:d}}catch(n){return be(`decompressSignature: ${n}`),null}}}Fd=new WeakMap,He=new WeakSet,qI=function(e,n,r,i){return r-=e,i-=n,r===0?i>0?0:4:r===1?i+6:2-i},Qs=new WeakMap,P9=function(e,n,r,i,s,a,o){const l=D(this,He,qI).call(this,r,i,s,a);for(let c=0;c<8;c++){const u=(-c+l-o+16)%8,d=h(this,Qs)[2*u],f=h(this,Qs)[2*u+1];if(e[(r+d)*n+(i+f)]!==0)return u}return-1},T9=function(e,n,r,i,s,a,o){const l=D(this,He,qI).call(this,r,i,s,a);for(let c=0;c<8;c++){const u=(c+l+o+16)%8,d=h(this,Qs)[2*u],f=h(this,Qs)[2*u+1];if(e[(r+d)*n+(i+f)]!==0)return u}return-1},XI=function(e,n,r,i){const s=e.length,a=new Int32Array(s);for(let u=0;u<s;u++)a[u]=e[u]<=i?1:0;for(let u=1;u<r-1;u++)a[u*n]=a[u*n+n-1]=0;for(let u=0;u<n;u++)a[u]=a[n*r-1-u]=0;let o=1,l;const c=[];for(let u=1;u<r-1;u++){l=1;for(let d=1;d<n-1;d++){const f=u*n+d,p=a[f];if(p===0)continue;let g=u,y=d;if(p===1&&a[f-1]===0)o+=1,y-=1;else if(p>=1&&a[f+1]===0)o+=1,y+=1,p>1&&(l=p);else{p!==1&&(l=Math.abs(p));continue}const b=[d,u],v=y===d+1,S={isHole:v,points:b,id:o,parent:0};c.push(S);let w;for(const R of c)if(R.id===l){w=R;break}w?w.isHole?S.parent=v?w.parent:l:S.parent=v?l:w.parent:S.parent=v?l:0;const T=D(this,He,P9).call(this,a,n,u,d,g,y,0);if(T===-1){a[f]=-o,a[f]!==1&&(l=Math.abs(a[f]));continue}let P=h(this,Qs)[2*T],O=h(this,Qs)[2*T+1];const C=u+P,k=d+O;g=C,y=k;let N=u,L=d;for(;;){const R=D(this,He,T9).call(this,a,n,N,L,g,y,1);P=h(this,Qs)[2*R],O=h(this,Qs)[2*R+1];const B=N+P,j=L+O;b.push(j,B);const G=N*n+L;if(a[G+1]===0?a[G]=-o:a[G]===1&&(a[G]=o),B===u&&j===d&&N===C&&L===k){a[f]!==1&&(l=Math.abs(a[f]));break}else g=N,y=L,N=B,L=j}}}return c},tS=function(e,n,r,i){if(r-n<=4){for(let C=n;C<r-2;C+=2)i.push(e[C],e[C+1]);return}const s=e[n],a=e[n+1],o=e[r-4]-s,l=e[r-3]-a,c=Math.hypot(o,l),u=o/c,d=l/c,f=u*a-d*s,p=l/o,g=1/c,y=Math.atan(p),b=Math.cos(y),v=Math.sin(y),S=g*(Math.abs(b)+Math.abs(v)),w=g*(1-S+S**2),T=Math.max(Math.atan(Math.abs(v+b)*w),Math.atan(Math.abs(v-b)*w));let P=0,O=n;for(let C=n+2;C<r-2;C+=2){const k=Math.abs(f-u*e[C+1]+d*e[C]);k>P&&(O=C,P=k)}P>(c*T)**2?(D(this,He,tS).call(this,e,n,O+2,i),D(this,He,tS).call(this,e,O,r,i)):i.push(s,a)},C9=function(e){const n=[],r=e.length;return D(this,He,tS).call(this,e,0,r,n),n.push(e[r-2],e[r-1]),n.length<=4?null:n},k9=function(e,n,r,i,s,a){const o=new Float32Array(a**2),l=-2*i**2,c=a>>1;for(let y=0;y<a;y++){const b=(y-c)**2;for(let v=0;v<a;v++)o[y*a+v]=Math.exp((b+(v-c)**2)/l)}const u=new Float32Array(256),d=-2*s**2;for(let y=0;y<256;y++)u[y]=Math.exp(y**2/d);const f=e.length,p=new Uint8Array(f),g=new Uint32Array(256);for(let y=0;y<r;y++)for(let b=0;b<n;b++){const v=y*n+b,S=e[v];let w=0,T=0;for(let O=0;O<a;O++){const C=y+O-c;if(!(C<0||C>=r))for(let k=0;k<a;k++){const N=b+k-c;if(N<0||N>=n)continue;const L=e[C*n+N],R=o[O*a+k]*u[Math.abs(L-S)];w+=L*R,T+=R}}const P=p[v]=Math.round(w/T);g[P]++}return[p,g]},I9=function(e){const n=new Uint32Array(256);for(const r of e)n[r]++;return n},YI=function(e){const n=e.length,r=new Uint8ClampedArray(n>>2);let i=-1/0,s=1/0;for(let o=0,l=r.length;o<l;o++){const c=r[o]=e[o<<2];i=Math.max(i,c),s=Math.min(s,c)}const a=255/(i-s);for(let o=0,l=r.length;o<l;o++)r[o]=(r[o]-s)*a;return r},JI=function(e){let n,r=-1/0,i=-1/0;const s=e.findIndex(l=>l!==0);let a=s,o=s;for(n=s;n<256;n++){const l=e[n];l>r&&(n-a>i&&(i=n-a,o=n-1),r=l,a=n)}for(n=o-1;n>=0&&!(e[n]>e[n+1]);n--);return n},O9=function(e){const n=e,{width:r,height:i}=e,{maxDim:s}=h(this,Fd);let a=r,o=i;if(r>s||i>s){let f=r,p=i,g=Math.log2(Math.max(r,i)/s);const y=Math.floor(g);g=g===y?y-1:y;for(let v=0;v<g;v++){a=Math.ceil(f/2),o=Math.ceil(p/2);const S=new OffscreenCanvas(a,o);S.getContext("2d").drawImage(e,0,0,f,p,0,0,a,o),f=a,p=o,e!==n&&e.close(),e=S.transferToImageBitmap()}const b=Math.min(s/a,s/o);a=Math.round(a*b),o=Math.round(o*b)}const c=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});c.fillStyle="white",c.fillRect(0,0,a,o),c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,a,o);const u=c.getImageData(0,0,a,o).data;return[D(this,He,YI).call(this,u),a,o]},I(hl,He),I(hl,Fd,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),I(hl,Qs,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class rD extends w9{constructor(){super(),super.updateProperties({fill:gt._defaultLineColor,"stroke-width":0})}clone(){const e=new rD;return e.updateAll(this),e}}class iD extends rE{constructor(e){super(e),super.updateProperties({stroke:gt._defaultLineColor,"stroke-width":1})}clone(){const e=new iD(this._viewParameters);return e.updateAll(this),e}}var au,Ya,ou,Bd;const mi=class mi extends aA{constructor(n){super({...n,mustBeCommitted:!0,name:"signatureEditor"});I(this,au,!1);I(this,Ya,null);I(this,ou,null);I(this,Bd,null);this._willKeepAspectRatio=!0,_(this,ou,n.signatureData||null),_(this,Ya,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(n,r){gt.initialize(n,r),this._defaultDrawingOptions=new rD,this._defaultDrawnSignatureOptions=new iD(r.viewParameters)}static getDefaultDrawingOptions(n){const r=this._defaultDrawingOptions.clone();return r.updateProperties(n),r}static get supportMultipleDrawings(){return!1}static get typesMap(){return we(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!h(this,Ya)}}static computeTelemetryFinalData(n){const r=n.get("hasDescription");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let n,r;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,n=this.x,r=this.y),super.render(),this._drawId===null)if(h(this,ou)){const{lines:s,mustSmooth:a,areContours:o,description:l,uuid:c,heightInPage:u}=h(this,ou),{rawDims:{pageWidth:d,pageHeight:f},rotation:p}=this.parent.viewport,g=hl.processDrawnLines({lines:s,pageWidth:d,pageHeight:f,rotation:p,innerMargin:mi._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(g,u,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:h(this,Ya)||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(n,r)),this.div}setUuid(n){_(this,Bd,n),this.addEditToolbar()}getUuid(){return h(this,Bd)}get description(){return h(this,Ya)}set description(n){_(this,Ya,n),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:n})),super.addEditToolbar().then(r=>{r==null||r.updateEditSignatureButton(n)}))}getSignaturePreview(){const{newCurves:n,areContours:r,thickness:i,width:s,height:a}=h(this,ou),o=Math.max(s,a),l=hl.processDrawnLines({lines:{curves:n.map(c=>({points:c})),thickness:i,width:s,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:r});return{areContours:r,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(n,r,i,s){const{x:a,y:o}=this,{outline:l}=_(this,ou,n);_(this,au,l instanceof KI),this.description=i;let c;h(this,au)?c=mi.getDefaultDrawingOptions():(c=mi._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[,u]=this.pageDimensions;let d=r/u;d=d>=1?.5:d,this.width*=d/this.height,this.width>=1&&(d*=.9/this.width,this.width=.9),this.height=d,this.setDims(),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return hl.process(n,r,i,s,mi._INNER_MARGIN)}getFromText(n,r){const{rawDims:{pageWidth:i,pageHeight:s},rotation:a}=this.parent.viewport;return hl.extractContoursFromText(n,r,i,s,a,mi._INNER_MARGIN)}getDrawnSignature(n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return hl.processDrawnLines({lines:n,pageWidth:r,pageHeight:i,rotation:s,innerMargin:mi._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:n,thickness:r}){n?this._drawingOptions=mi.getDefaultDrawingOptions():(this._drawingOptions=mi._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":r}))}serialize(n=!1){if(this.isEmpty())return null;const{lines:r,points:i}=this.serializeDraw(n),{_drawingOptions:{"stroke-width":s}}=this,a=Object.assign(super.serialize(n),{isSignature:!0,areContours:h(this,au),color:[0,0,0],thickness:h(this,au)?0:s});return this.addComment(a),n?(a.paths={lines:r,points:i},a.uuid=h(this,Bd),a.isCopy=!0):a.lines=r,h(this,Ya)&&(a.accessibilityData={type:"Figure",alt:h(this,Ya)}),a}static deserializeDraw(n,r,i,s,a,o){return o.areContours?KI.deserialize(n,r,i,s,a,o):Ew.deserialize(n,r,i,s,a,o)}static async deserialize(n,r,i){var a;const s=await super.deserialize(n,r,i);return _(s,au,n.areContours),s.description=((a=n.accessibilityData)==null?void 0:a.alt)||"",_(s,Bd,n.uuid),s}};au=new WeakMap,Ya=new WeakMap,ou=new WeakMap,Bd=new WeakMap,q(mi,"_type","signature"),q(mi,"_editorType",Se.SIGNATURE),q(mi,"_defaultDrawingOptions",null);let ZI=mi;var Et,Nn,lu,al,cu,Jm,ol,$d,Ja,Di,Zm,Be,Jy,Zy,nS,rS,iS,e2,sS,M9;class QI extends gt{constructor(n){super({...n,name:"stampEditor"});I(this,Be);I(this,Et,null);I(this,Nn,null);I(this,lu,null);I(this,al,null);I(this,cu,null);I(this,Jm,"");I(this,ol,null);I(this,$d,!1);I(this,Ja,null);I(this,Di,!1);I(this,Zm,!1);_(this,al,n.bitmapUrl),_(this,cu,n.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(n,r){gt.initialize(n,r)}static isHandlingMimeForPasting(n){return Fk.includes(n)}static paste(n,r){r.pasteEditor({mode:Se.STAMP},{bitmapFile:n.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var n;return{type:"stamp",hasAltText:!!((n=this.altTextData)!=null&&n.altText)}}static computeTelemetryFinalData(n){const r=n.get("hasAltText");return{hasAltText:r.get(!0)??0,hasNoAltText:r.get(!1)??0}}async mlGuessAltText(n=null,r=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=n||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),r&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var n;h(this,Nn)&&(_(this,Et,null),this._uiManager.imageManager.deleteId(h(this,Nn)),(n=h(this,ol))==null||n.remove(),_(this,ol,null),h(this,Ja)&&(clearTimeout(h(this,Ja)),_(this,Ja,null))),super.remove()}rebuild(){if(!this.parent){h(this,Nn)&&D(this,Be,nS).call(this);return}super.rebuild(),this.div!==null&&(h(this,Nn)&&h(this,ol)===null&&D(this,Be,nS).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(n){this._isDraggable=!0,n&&this.div.focus()}isEmpty(){return!(h(this,lu)||h(this,Et)||h(this,al)||h(this,cu)||h(this,Nn)||h(this,$d))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let n,r;return this._isCopy&&(n=this.x,r=this.y),super.render(),this.div.hidden=!0,this.createAltText(),h(this,$d)||(h(this,Et)?D(this,Be,rS).call(this):D(this,Be,nS).call(this)),this._isCopy&&this._moveAfterPaste(n,r),this._uiManager.addShouldRescale(this),this.div}setCanvas(n,r){const{id:i,bitmap:s}=this._uiManager.imageManager.getFromCanvas(n,r);r.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(_(this,Nn,i),s&&_(this,Et,s),_(this,$d,!1),D(this,Be,rS).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;h(this,Ja)!==null&&clearTimeout(h(this,Ja)),_(this,Ja,setTimeout(()=>{_(this,Ja,null),D(this,Be,e2).call(this)},200))}copyCanvas(n,r,i=!1){n||(n=224);const{width:s,height:a}=h(this,Et),o=new fo;let l=h(this,Et),c=s,u=a,d=null;if(r){if(s>r||a>r){const C=Math.min(r/s,r/a);c=Math.floor(s*C),u=Math.floor(a*C)}d=document.createElement("canvas");const p=d.width=Math.ceil(c*o.sx),g=d.height=Math.ceil(u*o.sy);h(this,Di)||(l=D(this,Be,iS).call(this,p,g));const y=d.getContext("2d");y.filter=this._uiManager.hcmFilter;let b="white",v="#cfcfd8";this._uiManager.hcmFilter!=="none"?v="black":Mie.isDarkMode&&(b="#8f8f9d",v="#42414d");const S=15,w=S*o.sx,T=S*o.sy,P=new OffscreenCanvas(w*2,T*2),O=P.getContext("2d");O.fillStyle=b,O.fillRect(0,0,w*2,T*2),O.fillStyle=v,O.fillRect(0,0,w,T),O.fillRect(w,T,w,T),y.fillStyle=y.createPattern(P,"repeat"),y.fillRect(0,0,p,g),y.drawImage(l,0,0,l.width,l.height,0,0,p,g)}let f=null;if(i){let p,g;if(o.symmetric&&l.width<n&&l.height<n)p=l.width,g=l.height;else if(l=h(this,Et),s>n||a>n){const v=Math.min(n/s,n/a);p=Math.floor(s*v),g=Math.floor(a*v),h(this,Di)||(l=D(this,Be,iS).call(this,p,g))}const b=new OffscreenCanvas(p,g).getContext("2d",{willReadFrequently:!0});b.drawImage(l,0,0,l.width,l.height,0,0,p,g),f={width:p,height:g,data:b.getImageData(0,0,p,g).data}}return{canvas:d,width:c,height:u,imageData:f}}static async deserialize(n,r,i){var b;let s=null,a=!1;if(n instanceof qH){const{data:{rect:v,rotation:S,id:w,structParent:T,popupRef:P,richText:O,contentsObj:C,creationDate:k,modificationDate:N},container:L,parent:{page:{pageNumber:R}},canvas:B}=n;let j,G;B?(delete n.canvas,{id:j,bitmap:G}=i.imageManager.getFromCanvas(L.id,B),B.remove()):(a=!0,n._hasNoCanvas=!0);const Z=((b=await r._structTree.getAriaAttributes(`${cp}${w}`))==null?void 0:b.get("aria-label"))||"";s=n={annotationType:Se.STAMP,bitmapId:j,bitmap:G,pageIndex:R-1,rect:v.slice(0),rotation:S,annotationElementId:w,id:w,deleted:!1,accessibilityData:{decorative:!1,altText:Z},isSvg:!1,structParent:T,popupRef:P,richText:O,comment:(C==null?void 0:C.str)||null,creationDate:k,modificationDate:N}}const o=await super.deserialize(n,r,i),{rect:l,bitmap:c,bitmapUrl:u,bitmapId:d,isSvg:f,accessibilityData:p}=n;a?(i.addMissingCanvas(n.id,o),_(o,$d,!0)):d&&i.imageManager.isValidId(d)?(_(o,Nn,d),c&&_(o,Et,c)):_(o,al,u),_(o,Di,f);const[g,y]=o.pageDimensions;return o.width=(l[2]-l[0])/g,o.height=(l[3]-l[1])/y,p&&(o.altTextData=p),o._initialData=s,n.comment&&o.setCommentData(n),_(o,Zm,!!s),o}serialize(n=!1,r=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(n),{bitmapId:h(this,Nn),isSvg:h(this,Di)});if(this.addComment(i),n)return i.bitmapUrl=D(this,Be,sS).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=D(this,Be,M9).call(this,i);return l.isSame?null:(l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(r===null)return i;r.stamps||(r.stamps=new Map);const o=h(this,Di)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!r.stamps.has(h(this,Nn)))r.stamps.set(h(this,Nn),{area:o,serialized:i}),i.bitmap=D(this,Be,sS).call(this,!1);else if(h(this,Di)){const l=r.stamps.get(h(this,Nn));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=D(this,Be,sS).call(this,!1))}return i}renderAnnotationElement(n){return this.deleted?(n.hide(),null):(n.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Et=new WeakMap,Nn=new WeakMap,lu=new WeakMap,al=new WeakMap,cu=new WeakMap,Jm=new WeakMap,ol=new WeakMap,$d=new WeakMap,Ja=new WeakMap,Di=new WeakMap,Zm=new WeakMap,Be=new WeakSet,Jy=function(n,r=!1){if(!n){this.remove();return}_(this,Et,n.bitmap),r||(_(this,Nn,n.id),_(this,Di,n.isSvg)),n.file&&_(this,Jm,n.file.name),D(this,Be,rS).call(this)},Zy=function(){if(_(this,lu,null),this._uiManager.enableWaiting(!1),!!h(this,ol)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,Et)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,Et)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},nS=function(){if(h(this,Nn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,Nn)).then(i=>D(this,Be,Jy).call(this,i,!0)).finally(()=>D(this,Be,Zy).call(this));return}if(h(this,al)){const i=h(this,al);_(this,al,null),this._uiManager.enableWaiting(!0),_(this,lu,this._uiManager.imageManager.getFromUrl(i).then(s=>D(this,Be,Jy).call(this,s)).finally(()=>D(this,Be,Zy).call(this)));return}if(h(this,cu)){const i=h(this,cu);_(this,cu,null),this._uiManager.enableWaiting(!0),_(this,lu,this._uiManager.imageManager.getFromFile(i).then(s=>D(this,Be,Jy).call(this,s)).finally(()=>D(this,Be,Zy).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=Fk.join(",");const r=this._uiManager._signal;_(this,lu,new Promise(i=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(n.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),D(this,Be,Jy).call(this,s)}i()},{signal:r}),n.addEventListener("cancel",()=>{this.remove(),i()},{signal:r})}).finally(()=>D(this,Be,Zy).call(this))),n.click()},rS=function(){var c;const{div:n}=this;let{width:r,height:i}=h(this,Et);const[s,a]=this.pageDimensions,o=.75;if(this.width)r=this.width*s,i=this.height*a;else if(r>o*s||i>o*a){const u=Math.min(o*s/r,o*a/i);r*=u,i*=u}this._uiManager.enableWaiting(!1);const l=_(this,ol,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this.width=r/s,this.height=i/a,this.setDims(),(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(n.hidden=!1),D(this,Be,e2).call(this),h(this,Zm)||(this.parent.addUndoableEditor(this),_(this,Zm,!0)),this._reportTelemetry({action:"inserted_image"}),h(this,Jm)&&this.div.setAttribute("aria-description",h(this,Jm)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},iS=function(n,r){const{width:i,height:s}=h(this,Et);let a=i,o=s,l=h(this,Et);for(;a>2*n||o>2*r;){const c=a,u=o;a>2*n&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*r&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const d=new OffscreenCanvas(a,o);d.getContext("2d").drawImage(l,0,0,c,u,0,0,a,o),l=d.transferToImageBitmap()}return l},e2=function(){const[n,r]=this.parentDimensions,{width:i,height:s}=this,a=new fo,o=Math.ceil(i*n*a.sx),l=Math.ceil(s*r*a.sy),c=h(this,ol);if(!c||c.width===o&&c.height===l)return;c.width=o,c.height=l;const u=h(this,Di)?h(this,Et):D(this,Be,iS).call(this,o,l),d=c.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(u,0,0,u.width,u.height,0,0,o,l)},sS=function(n){if(n){if(h(this,Di)){const s=this._uiManager.imageManager.getSvgUrl(h(this,Nn));if(s)return s}const r=document.createElement("canvas");return{width:r.width,height:r.height}=h(this,Et),r.getContext("2d").drawImage(h(this,Et),0,0),r.toDataURL()}if(h(this,Di)){const[r,i]=this.pageDimensions,s=Math.round(this.width*r*Ru.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*Ru.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(h(this,Et),0,0,h(this,Et).width,h(this,Et).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(h(this,Et))},M9=function(n){var o;const{pageIndex:r,accessibilityData:{altText:i}}=this._initialData,s=n.pageIndex===r,a=(((o=n.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},q(QI,"_type","stamp"),q(QI,"_editorType",Se.STAMP);var Ud,Qm,uu,hu,ll,ri,du,eg,tg,ea,cl,Rn,ul,fu,ng,ce,pu,ct,n2,D9,Pa,r2,i2,aS;const Vs=class Vs{constructor({uiManager:e,pageIndex:n,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:c,l10n:u}){I(this,ct);I(this,Ud);I(this,Qm,!1);I(this,uu,null);I(this,hu,null);I(this,ll,null);I(this,ri,new Map);I(this,du,!1);I(this,eg,!1);I(this,tg,!1);I(this,ea,null);I(this,cl,null);I(this,Rn,null);I(this,ul,null);I(this,fu,null);I(this,ng,-1);I(this,ce);const d=[...h(Vs,pu).values()];if(!Vs._initialized){Vs._initialized=!0;for(const f of d)f.initialize(u,e)}e.registerEditorTypes(d),_(this,ce,e),this.pageIndex=n,this.div=r,_(this,Ud,s),_(this,uu,a),this.viewport=c,_(this,Rn,l),this.drawLayer=o,this._structTree=i,h(this,ce).addLayer(this)}get isEmpty(){return h(this,ri).size===0}get isInvisible(){return this.isEmpty&&h(this,ce).getMode()===Se.NONE}updateToolbar(e){h(this,ce).updateToolbar(e)}updateMode(e=h(this,ce).getMode()){switch(D(this,ct,aS).call(this),e){case Se.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Se.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Se.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;if(n.toggle("nonEditing",!1),e===Se.POPUP)n.toggle("commentEditing",!0);else{n.toggle("commentEditing",!1);for(const r of h(Vs,pu).values())n.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){var n;return e===((n=h(this,Rn))==null?void 0:n.div)}setEditingState(e){h(this,ce).setEditingState(e)}addCommands(e){h(this,ce).addCommands(e)}cleanUndoStack(e){h(this,ce).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var n;(n=h(this,uu))==null||n.togglePointerEvents(e)}async enable(){var r;_(this,tg,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(r=h(this,fu))==null||r.abort(),_(this,fu,null);const e=new Set;for(const i of h(this,ct,n2))i.enableEditing(),i.show(!0),i.annotationElementId&&(h(this,ce).removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const n=h(this,uu);if(n)for(const i of n.getEditableAnnotations()){if(i.hide(),h(this,ce).isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const s=await this.deserialize(i);s&&(this.addOrRebuild(s),s.enableEditing())}_(this,tg,!1),h(this,ce)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var i;if(_(this,eg,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),h(this,Rn)&&!h(this,fu)){_(this,fu,new AbortController);const s=h(this,ce).combinedSignal(h(this,fu));h(this,Rn).div.addEventListener("pointerdown",a=>{const{clientX:l,clientY:c,timeStamp:u}=a,d=h(this,ng);if(u-d>500){_(this,ng,u);return}_(this,ng,-1);const{classList:f}=this.div;f.toggle("getElements",!0);const p=document.elementsFromPoint(l,c);if(f.toggle("getElements",!1),!this.div.contains(p[0]))return;let g;const y=new RegExp(`^${Yv}[0-9]+$`);for(const v of p)if(y.test(v.id)){g=v.id;break}if(!g)return;const b=h(this,ri).get(g);(b==null?void 0:b.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),b.dblclick(a))},{signal:s,capture:!0})}const e=h(this,uu),n=[];if(e){const s=new Map,a=new Map;for(const l of h(this,ct,n2)){if(l.disableEditing(),!l.annotationElementId){n.push(l);continue}if(l.serialize()!==null){s.set(l.annotationElementId,l);continue}else a.set(l.annotationElementId,l);(i=this.getEditableAnnotation(l.annotationElementId))==null||i.show(),l.remove()}const o=e.getEditableAnnotations();for(const l of o){const{id:c}=l.data;if(h(this,ce).isDeletedAnnotationElement(c)){l.updateEdited({deleted:!0});continue}let u=a.get(c);if(u){u.resetAnnotationElement(l),u.show(!1),l.show();continue}u=s.get(c),u&&(h(this,ce).addChangedExistingAnnotation(u),u.renderAnnotationElement(l)&&u.show(!1)),l.show()}}D(this,ct,aS).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const s of h(Vs,pu).values())r.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e==null||e.updateFakeAnnotations(n),_(this,eg,!1)}getEditableAnnotation(e){var n;return((n=h(this,uu))==null?void 0:n.getEditableAnnotation(e))||null}setActiveEditor(e){h(this,ce).getActive()!==e&&h(this,ce).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=h(this,Rn))!=null&&e.div&&!h(this,ul)){_(this,ul,new AbortController);const n=h(this,ce).combinedSignal(h(this,ul));h(this,Rn).div.addEventListener("pointerdown",D(this,ct,D9).bind(this),{signal:n}),h(this,Rn).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=h(this,Rn))!=null&&e.div&&h(this,ul)&&(h(this,ul).abort(),_(this,ul,null),h(this,Rn).div.classList.remove("highlighting"))}enableClick(){if(h(this,hu))return;_(this,hu,new AbortController);const e=h(this,ce).combinedSignal(h(this,hu));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:e}),this.div.addEventListener("pointercancel",n,{signal:e})}disableClick(){var e;(e=h(this,hu))==null||e.abort(),_(this,hu,null)}attach(e){h(this,ri).set(e.id,e);const{annotationElementId:n}=e;n&&h(this,ce).isDeletedAnnotationElement(n)&&h(this,ce).removeDeletedAnnotationElement(e)}detach(e){var n;h(this,ri).delete(e.id),(n=h(this,Ud))==null||n.removePointerInTextLayer(e.contentDiv),!h(this,eg)&&e.annotationElementId&&h(this,ce).addDeletedAnnotationElement(e)}remove(e){this.detach(e),h(this,ce).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var n;e.parent!==this&&(e.parent&&e.annotationElementId&&(h(this,ce).addDeletedAnnotationElement(e),gt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(n=e.parent)==null||n.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),h(this,ce).addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!h(this,tg)),h(this,ce).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var r;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!h(this,ll)&&(e._focusEventsAllowed=!1,_(this,ll,setTimeout(()=>{_(this,ll,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:h(this,ce)._signal}),n.focus())},0))),e._structTreeParentId=(r=h(this,Ud))==null?void 0:r.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getEditorByUID(e){for(const n of h(this,ri).values())if(n.uid===e)return n;return null}getNextId(){return h(this,ce).getId()}combinedSignal(e){return h(this,ce).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=h(this,ct,Pa))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,n){this.updateToolbar(e),await h(this,ce).updateMode(e.mode);const{offsetX:r,offsetY:i}=D(this,ct,i2).call(this),s=this.getNextId(),a=D(this,ct,r2).call(this,{parent:this,id:s,x:r,y:i,uiManager:h(this,ce),isCentered:!0,...n});a&&this.add(a)}async deserialize(e){var n;return await((n=h(Vs,pu).get(e.annotationType??e.annotationEditorType))==null?void 0:n.deserialize(e,this,h(this,ce)))||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),s=D(this,ct,r2).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:h(this,ce),isCentered:n,...r});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(D(this,ct,i2).call(this),!0,e)}setSelected(e){h(this,ce).setSelected(e)}toggleSelected(e){h(this,ce).toggleSelected(e)}unselect(e){h(this,ce).unselect(e)}pointerup(e){var i;const{isMac:n}=or.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div||!h(this,du)||(_(this,du,!1),(i=h(this,ct,Pa))!=null&&i.isDrawer&&h(this,ct,Pa).supportMultipleDrawings))return;if(!h(this,Qm)){_(this,Qm,!0);return}const r=h(this,ce).getMode();if(r===Se.STAMP||r===Se.SIGNATURE){h(this,ce).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var i;if(h(this,ce).getMode()===Se.HIGHLIGHT&&this.enableTextSelection(),h(this,du)){_(this,du,!1);return}const{isMac:n}=or.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;if(_(this,du,!0),(i=h(this,ct,Pa))!=null&&i.isDrawer){this.startDrawingSession(e);return}const r=h(this,ce).getActive();_(this,Qm,!r||r.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),h(this,ea)){h(this,ct,Pa).startDrawing(this,h(this,ce),!1,e);return}h(this,ce).setCurrentDrawingSession(this),_(this,ea,new AbortController);const n=h(this,ce).combinedSignal(h(this,ea));this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(_(this,cl,null),this.commitOrRemove())},{signal:n}),h(this,ct,Pa).startDrawing(this,h(this,ce),!1,e)}pause(e){if(e){const{activeElement:n}=document;this.div.contains(n)&&_(this,cl,n);return}h(this,cl)&&setTimeout(()=>{var n;(n=h(this,cl))==null||n.focus(),_(this,cl,null)},0)}endDrawingSession(e=!1){return h(this,ea)?(h(this,ce).setCurrentDrawingSession(null),h(this,ea).abort(),_(this,ea,null),_(this,cl,null),h(this,ct,Pa).endDrawing(e)):null}findNewParent(e,n,r){const i=h(this,ce).findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return h(this,ea)?(this.endDrawingSession(),!0):!1}onScaleChanging(){h(this,ea)&&h(this,ct,Pa).onScaleChangingWhenDrawing(this)}destroy(){var e,n;this.commitOrRemove(),((e=h(this,ce).getActive())==null?void 0:e.parent)===this&&(h(this,ce).commitOrRemove(),h(this,ce).setActiveEditor(null)),h(this,ll)&&(clearTimeout(h(this,ll)),_(this,ll,null));for(const r of h(this,ri).values())(n=h(this,Ud))==null||n.removePointerInTextLayer(r.contentDiv),r.setParent(null),r.isAttachedToDOM=!1,r.div.remove();this.div=null,h(this,ri).clear(),h(this,ce).removeLayer(this)}render({viewport:e}){this.viewport=e,sf(this.div,e);for(const n of h(this,ce).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){h(this,ce).commitOrRemove(),D(this,ct,aS).call(this);const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,sf(this.div,{rotation:r}),n!==r)for(const i of h(this,ri).values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return h(this,ce).viewParameters.realScale}};Ud=new WeakMap,Qm=new WeakMap,uu=new WeakMap,hu=new WeakMap,ll=new WeakMap,ri=new WeakMap,du=new WeakMap,eg=new WeakMap,tg=new WeakMap,ea=new WeakMap,cl=new WeakMap,Rn=new WeakMap,ul=new WeakMap,fu=new WeakMap,ng=new WeakMap,ce=new WeakMap,pu=new WeakMap,ct=new WeakSet,n2=function(){return h(this,ri).size!==0?h(this,ri).values():h(this,ce).getEditors(this.pageIndex)},D9=function(e){h(this,ce).unselectAll();const{target:n}=e;if(n===h(this,Rn).div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&h(this,Rn).div.contains(n)){const{isMac:r}=or.platform;if(e.button!==0||e.ctrlKey&&r)return;h(this,ce).showAllEditors("highlight",!0,!0),h(this,Rn).div.classList.add("free"),this.toggleDrawing(),sA.startHighlighting(this,h(this,ce).direction==="ltr",{target:h(this,Rn).div,x:e.x,y:e.y}),h(this,Rn).div.addEventListener("pointerup",()=>{h(this,Rn).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:h(this,ce)._signal}),e.preventDefault()}},Pa=function(){return h(Vs,pu).get(h(this,ce).getMode())},r2=function(e){const n=h(this,ct,Pa);return n?new n.prototype.constructor(e):null},i2=function(){const{x:e,y:n,width:r,height:i}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,n),o=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,n+i),c=(s+o)/2-e,u=(a+l)/2-n,[d,f]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:d,offsetY:f}},aS=function(){for(const e of h(this,ri).values())e.isEmpty()&&e.remove()},q(Vs,"_initialized",!1),I(Vs,pu,new Map([LI,GI,QI,sA,ZI].map(e=>[e._editorType,e])));let t2=Vs;var ta,Dr,Vd,lw,I_,N9,bo,a2,R9,o2;const mn=class mn{constructor({pageIndex:e}){I(this,bo);I(this,ta,null);I(this,Dr,new Map);I(this,Vd,new Map);this.pageIndex=e}setParent(e){if(!h(this,ta)){_(this,ta,e);return}if(h(this,ta)!==e){if(h(this,Dr).size>0)for(const n of h(this,Dr).values())n.remove(),e.append(n);_(this,ta,e)}}static get _svgFactory(){return we(this,"_svgFactory",new rA)}draw(e,n=!1,r=!1){const i=fn(mn,lw)._++,s=D(this,bo,a2).call(this),a=mn._svgFactory.createElement("defs");s.append(a);const o=mn._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),n&&h(this,Vd).set(i,o);const c=r?D(this,bo,R9).call(this,a,l):null,u=mn._svgFactory.createElement("use");return s.append(u),u.setAttribute("href",`#${l}`),this.updateProperties(s,e),h(this,Dr).set(i,s),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,n){const r=fn(mn,lw)._++,i=D(this,bo,a2).call(this),s=mn._svgFactory.createElement("defs");i.append(s);const a=mn._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(n){const d=mn._svgFactory.createElement("mask");s.append(d),l=`mask_p${this.pageIndex}_${r}`,d.setAttribute("id",l),d.setAttribute("maskUnits","objectBoundingBox");const f=mn._svgFactory.createElement("rect");d.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=mn._svgFactory.createElement("use");d.append(p),p.setAttribute("href",`#${o}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const c=mn._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${o}`),l&&c.setAttribute("mask",`url(#${l})`);const u=c.cloneNode();return i.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(i,e),h(this,Dr).set(r,i),r}finalizeDraw(e,n){h(this,Vd).delete(e),this.updateProperties(e,n)}updateProperties(e,n){var l;if(!n)return;const{root:r,bbox:i,rootClass:s,path:a}=n,o=typeof e=="number"?h(this,Dr).get(e):e;if(o){if(r&&D(this,bo,o2).call(this,o,r),i&&D(l=mn,I_,N9).call(l,o,i),s){const{classList:c}=o;for(const[u,d]of Object.entries(s))c.toggle(u,d)}if(a){const u=o.firstElementChild.firstElementChild;D(this,bo,o2).call(this,u,a)}}}updateParent(e,n){if(n===this)return;const r=h(this,Dr).get(e);r&&(h(n,ta).append(r),h(this,Dr).delete(e),h(n,Dr).set(e,r))}remove(e){h(this,Vd).delete(e),h(this,ta)!==null&&(h(this,Dr).get(e).remove(),h(this,Dr).delete(e))}destroy(){_(this,ta,null);for(const e of h(this,Dr).values())e.remove();h(this,Dr).clear(),h(this,Vd).clear()}};ta=new WeakMap,Dr=new WeakMap,Vd=new WeakMap,lw=new WeakMap,I_=new WeakSet,N9=function(e,[n,r,i,s]){const{style:a}=e;a.top=`${100*r}%`,a.left=`${100*n}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},bo=new WeakSet,a2=function(){const e=mn._svgFactory.create(1,1,!0);return h(this,ta).append(e),e.setAttribute("aria-hidden",!0),e},R9=function(e,n){const r=mn._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=mn._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${n}`),s.classList.add("clip"),i},o2=function(e,n){for(const[r,i]of Object.entries(n))i===null?e.removeAttribute(r):e.setAttribute(r,i)},I(mn,I_),I(mn,lw,0);let s2=mn;globalThis._pdfjsTestingUtils={HighlightOutliner:FI};globalThis.pdfjsLib={AbortException:Nu,AnnotationEditorLayer:t2,AnnotationEditorParamsType:Me,AnnotationEditorType:Se,AnnotationEditorUIManager:af,AnnotationLayer:NI,AnnotationMode:vc,AnnotationType:nn,applyOpacity:Nie,build:$se,ColorPicker:tA,createValidAbsoluteUrl:_z,CSSConstants:Die,DOMSVGFactory:rA,DrawLayer:s2,FeatureTest:or,fetchData:ww,findContrastColor:Rie,getDocument:MH,getFilenameFromUrl:Tie,getPdfFilenameFromUrl:Cie,getRGB:Sw,getUuid:Tz,getXfaPageViewport:Iie,GlobalWorkerOptions:to,ImageKind:T1,InvalidPDFException:Lk,isDataScheme:tE,isPdfFile:JM,isValidExplicitDest:Wie,MathClamp:Rr,noContextMenu:Os,normalizeUnicode:_ie,OPS:Jv,OutputScale:fo,PasswordResponses:mie,PDFDataRangeTransport:DH,PDFDateString:XS,PDFWorker:e0,PermissionFlag:pie,PixelsPerInch:Ru,RenderingCancelledException:YM,renderRichText:Iz,ResponseException:qS,setLayerDimensions:sf,shadow:we,SignatureExtractor:hl,stopEvent:Gt,SupportedImageMimeTypes:Fk,TextLayer:Qv,TouchManager:JS,updateUrlHash:Ez,Util:ae,VerbosityLevel:Z_,version:LH,XfaLayer:kz};to.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${LH}/pdf.worker.min.js`;const uae="",hae="https://api-inference.huggingface.co/models/facebook/bart-large-cnn";async function dae(t){return new Promise((e,n)=>{const r=new FileReader;r.onload=async i=>{try{const s=await MH({data:i.target.result}).promise;let a="";for(let o=1;o<=Math.min(s.numPages,5);o++){const u=(await(await s.getPage(o)).getTextContent()).items.map(d=>d.str).join(" ");a+=u+`
`}e(a)}catch(s){n(new Error("PDF   : "+s.message))}},r.onerror=()=>n(new Error("  ")),r.readAsArrayBuffer(t)})}async function fae(t){var e;try{const r=t.substring(0,1024),i=await fetch(hae,{headers:{Authorization:`Bearer ${uae}`},method:"POST",body:JSON.stringify({inputs:r})});if(!i.ok)throw new Error(`API : ${i.status}`);const s=await i.json();if(Array.isArray(s)&&((e=s[0])!=null&&e.summary_text))return s[0].summary_text;throw new Error("  ")}catch(n){throw console.error("AI  :",n),n}}function pae(t){const e=t.match(/[^.!?]+[.!?]+/g)||[],n=["","","","","","",""];return e.map((s,a)=>{let o=n.reduce((l,c)=>l+(s.toLowerCase().includes(c)?1:0),0);return o+=1/(a+1),{sentence:s.trim(),score:o}}).sort((s,a)=>a.score-s.score).slice(0,3).map(s=>s.sentence).join(" ")||"  "}async function mae(t){try{return{summary:await fae(t),method:"AI"}}catch(e){return console.warn("AI  ,    :",e),{summary:pae(t),method:"Rule-based"}}}const gae={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};function yae(){const[t,e]=A.useState(null),[n,r]=A.useState(!1),[i,s]=A.useState(null),[a,o]=A.useState(null),[l,c]=A.useState(""),[u,d]=A.useState(""),f=g=>{var b;const y=(b=g.target.files)==null?void 0:b[0];y&&(y.type==="application/pdf"?(e(y),c(y.name.replace(".pdf","")),o(null)):(o("PDF   ."),e(null)))},p=async()=>{if(!t){o("PDF  .");return}r(!0),o(null),s(null);try{const g=await dae(t);if(!g||g.trim().length<100)throw new Error("   .  PDF .");const y=await mae(g);s(y.summary),d(y.method)}catch(g){o(g.message||"    ."),console.error(" :",g)}finally{r(!1)}};return x.jsx("div",{className:"min-h-screen bg-white dark:bg-dark-50 pt-24 pb-12",children:x.jsxs(ee.div,{className:"max-w-4xl mx-auto px-4",variants:gae,initial:"hidden",animate:"visible",children:[x.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:"   AI"}),x.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:"PDF   AI   ."}),x.jsxs(ee.div,{className:"bg-gray-50 dark:bg-dark-100 rounded-lg p-8 mb-8 border-2 border-dashed border-blue-400",whileHover:{scale:1.02},children:[x.jsxs("div",{className:"text-center",children:[x.jsx("input",{type:"file",accept:".pdf",onChange:f,className:"hidden",id:"pdf-upload"}),x.jsxs("label",{htmlFor:"pdf-upload",className:"cursor-pointer block",children:[x.jsx("div",{className:"text-6xl mb-4",children:""}),x.jsx("p",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"PDF    "}),x.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"( 5 )"})]})]}),t&&x.jsx("div",{className:"mt-6 p-4 bg-blue-100 dark:bg-blue-900/30 rounded-lg border border-blue-400",children:x.jsxs("p",{className:"text-blue-900 dark:text-blue-100",children:[" : ",x.jsx("strong",{children:t.name})]})})]}),x.jsxs("div",{className:"flex gap-4 mb-8",children:[x.jsx(ee.button,{onClick:p,disabled:!t||n,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-bold py-3 px-6 rounded-lg transition",children:n?"   ...":" AI "}),x.jsx(ee.button,{onClick:()=>{e(null),c(""),s(null),o(null)},whileHover:{scale:1.05},className:"bg-gray-400 hover:bg-gray-500 text-white font-bold py-3 px-6 rounded-lg transition",children:" "})]}),a&&x.jsxs(ee.div,{className:"bg-red-100 dark:bg-red-900/30 border border-red-400 text-red-700 dark:text-red-200 px-6 py-4 rounded-lg mb-8",initial:{opacity:0},animate:{opacity:1},children:[x.jsx("strong",{children:":"})," ",a]}),i&&x.jsxs(ee.div,{className:"bg-green-50 dark:bg-green-900/20 border-l-4 border-green-500 p-6 rounded-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[x.jsxs("div",{className:"flex items-center mb-4",children:[x.jsx("span",{className:"text-2xl mr-3",children:""}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:l}),x.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[": ",u==="AI"?" AI  (Hugging Face)":"   "]})]})]}),x.jsx("div",{className:"bg-white dark:bg-dark-100 p-4 rounded-lg",children:x.jsx("p",{className:"text-gray-800 dark:text-gray-200 leading-relaxed",children:i})}),x.jsxs("div",{className:"mt-4 flex gap-2",children:[x.jsx(ee.button,{onClick:()=>{const g=document.createElement("a");g.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(i)),g.setAttribute("download",`${l}_summary.txt`),g.style.display="none",document.body.appendChild(g),g.click(),document.body.removeChild(g)},whileHover:{scale:1.05},className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded transition text-sm",children:"  "}),x.jsx(ee.button,{onClick:()=>{navigator.clipboard.writeText(i),alert(" !")},whileHover:{scale:1.05},className:"bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded transition text-sm",children:" "})]})]}),x.jsxs(ee.div,{className:"mt-12 bg-blue-50 dark:bg-blue-900/20 p-6 rounded-lg border border-blue-200 dark:border-blue-800",initial:{opacity:0},whileInView:{opacity:1},children:[x.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:"  "}),x.jsxs("ol",{className:"space-y-2 text-gray-700 dark:text-gray-300",children:[x.jsxs("li",{children:[x.jsx("strong",{children:"1."}),"   PDF  "]}),x.jsxs("li",{children:[x.jsx("strong",{children:"2."}),' "AI "  ']}),x.jsxs("li",{children:[x.jsx("strong",{children:"3."})," AI    "]}),x.jsxs("li",{children:[x.jsx("strong",{children:"4."}),"      "]})]}),x.jsx("div",{className:"mt-4 p-4 bg-yellow-50 dark:bg-yellow-900/30 rounded border border-yellow-200 dark:border-yellow-800",children:x.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[" ",x.jsx("strong",{children:":"})," PDF   5 .       ."]})})]})]})})}function vae(){const[t,e]=A.useState(()=>{const u=localStorage.getItem("forumPosts");return u?JSON.parse(u):Az});A.useEffect(()=>{localStorage.setItem("forumPosts",JSON.stringify(t))},[t]);const[n,r]=A.useState(null),[i,s]=A.useState({title:"",category:1,content:""}),[a,o]=A.useState(!1),l=u=>{if(u.preventDefault(),!i.title.trim()||!i.content.trim()){alert("  .");return}const d={id:t.length+1,...i,author:"user",date:new Date().toISOString().split("T")[0],replies:0};e([d,...t]),s({title:"",category:1,content:""}),o(!1)},c=n?t.filter(u=>u.category===n):t;return x.jsxs("div",{className:"space-y-8 sm:space-y-12",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-4 text-gray-900 dark:text-white",children:" "}),x.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm sm:text-base",children:" ,  ,  ,        ."})]}),x.jsx("button",{onClick:()=>o(!a),className:"w-full sm:w-auto px-6 py-3 bg-blue-600 dark:bg-blue-600 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-700 transition font-medium text-sm sm:text-base",children:a?"":"  "}),a&&x.jsxs("form",{onSubmit:l,className:"bg-white dark:bg-dark-100 border border-gray-200 dark:border-dark-300 p-4 sm:p-6 rounded-lg space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-2 text-sm font-medium",children:""}),x.jsx("input",{type:"text",value:i.title,onChange:u=>s({...i,title:u.target.value}),className:"w-full bg-gray-50 dark:bg-dark-200 border border-gray-300 dark:border-dark-300 px-4 py-2 rounded text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:" "})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-2 text-sm font-medium",children:""}),x.jsx("select",{value:i.category,onChange:u=>s({...i,category:parseInt(u.target.value)}),className:"w-full bg-gray-50 dark:bg-dark-200 border border-gray-300 dark:border-dark-300 px-4 py-2 rounded text-gray-900 dark:text-white",children:_1.map(u=>x.jsx("option",{value:u.id,children:u.name},u.id))})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-gray-700 dark:text-gray-300 mb-2 text-sm font-medium",children:""}),x.jsx("textarea",{rows:"6",value:i.content,onChange:u=>s({...i,content:u.target.value}),className:"w-full bg-gray-50 dark:bg-dark-200 border border-gray-300 dark:border-dark-300 px-4 py-2 rounded text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 resize-none",placeholder:" "})]}),x.jsx("button",{type:"submit",className:"w-full bg-green-600 dark:bg-green-600 hover:bg-green-700 dark:hover:bg-green-700 text-white px-6 py-2 rounded font-bold transition text-sm sm:text-base",children:""})]}),x.jsxs("div",{className:"flex flex-wrap gap-2",children:[x.jsx("button",{onClick:()=>r(null),className:`px-3 sm:px-4 py-2 rounded transition text-sm sm:text-base ${n===null?"bg-blue-600 text-white":"bg-gray-200 dark:bg-dark-300 text-gray-900 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-dark-200"}`,children:""}),_1.map(u=>x.jsx("button",{onClick:()=>r(u.id),className:`px-3 sm:px-4 py-2 rounded transition text-sm sm:text-base ${n===u.id?"bg-blue-600 text-white":"bg-gray-200 dark:bg-dark-300 text-gray-900 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-dark-200"}`,children:u.name},u.id))]}),x.jsx("div",{className:"space-y-3 sm:space-y-4",children:c.map(u=>{var d;return x.jsx(lt,{to:`/forum/${u.id}`,children:x.jsx("div",{className:"bg-white dark:bg-dark-100 border border-gray-200 dark:border-dark-300 p-4 sm:p-6 rounded-lg hover:border-blue-400 dark:hover:border-blue-500 hover:shadow-md transition cursor-pointer",children:x.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2",children:[x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:x.jsx("span",{className:"text-xs bg-gray-200 dark:bg-dark-300 text-gray-700 dark:text-gray-300 px-2 py-1 rounded",children:(d=_1.find(f=>f.id===u.category))==null?void 0:d.name})}),x.jsx("h3",{className:"text-base sm:text-lg font-bold text-blue-600 dark:text-blue-400 break-words",children:u.title}),x.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mt-2 line-clamp-2",children:u.content}),x.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 mt-2",children:[u.author,"  ",u.date]})]}),x.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 dark:text-gray-400 whitespace-nowrap",children:[" ",u.replies]})]})})},u.id)})})]})}function bae(){const{postId:t}=FU();xf();const{isDark:e}=Rs(),[n,r]=A.useState([{id:1,author:"1",content:" .       .",date:"2025-12-04",likes:3},{id:2,author:"2",content:"    .  .",date:"2025-12-05",likes:1}]),[i,s]=A.useState(""),a=Az.find(c=>c.id===parseInt(t)),o=_1.find(c=>c.id===(a==null?void 0:a.category));if(!a)return x.jsxs("div",{className:"text-center py-12",children:[x.jsx("h1",{className:`text-2xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:"   ."}),x.jsx(lt,{to:"/forum",className:"text-blue-600 hover:text-blue-700 font-medium",children:" "})]});const l=c=>{if(c.preventDefault(),!i.trim()){alert(" .");return}const u={id:n.length+1,author:" ",content:i,date:new Date().toISOString().split("T")[0],likes:0};r([...n,u]),s("")};return x.jsxs("div",{className:"space-y-8",children:[x.jsxs(ee.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[x.jsx(lt,{to:"/forum",className:`inline-flex items-center gap-2 mb-4 transition ${e?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:"  "}),x.jsxs("div",{className:`p-6 rounded-lg border ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[x.jsx("div",{className:"mb-3",children:x.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${e?"bg-blue-900 text-blue-300":"bg-blue-100 text-blue-700"}`,children:o==null?void 0:o.name})}),x.jsx("h1",{className:`text-3xl sm:text-4xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:a.title}),x.jsxs("div",{className:`flex flex-wrap gap-4 mb-6 pb-6 border-b ${e?"border-gray-700 text-gray-300":"border-gray-200 text-gray-600"} text-sm`,children:[x.jsxs("div",{children:[x.jsx("span",{className:"font-medium",children:":"})," ",a.author]}),x.jsxs("div",{children:[x.jsx("span",{className:"font-medium",children:":"})," ",a.date]}),x.jsxs("div",{children:[x.jsx("span",{className:"font-medium",children:":"})," ",a.replies,""]}),x.jsxs("div",{children:[x.jsx("span",{className:"font-medium",children:":"})," ",a.views||0,""]})]}),x.jsx("div",{className:`prose prose-sm ${e?"prose-invert":""} max-w-none mb-8`,children:x.jsx("div",{className:`${e?"text-gray-200":"text-gray-700"} leading-7 whitespace-pre-wrap`,children:a.content})})]})]}),x.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:`p-6 rounded-lg border ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[x.jsx("h2",{className:`text-xl font-bold mb-4 ${e?"text-white":"text-gray-900"}`,children:" "}),x.jsxs("form",{onSubmit:l,className:"space-y-4",children:[x.jsx("textarea",{value:i,onChange:c=>s(c.target.value),placeholder:" ...",rows:"4",className:`w-full px-4 py-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-blue-500 ${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-400":"bg-white border-gray-300 text-gray-900 placeholder-gray-500"}`}),x.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium",children:" "})]})]}),x.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},className:"space-y-4",children:[x.jsxs("h2",{className:`text-2xl font-bold ${e?"text-white":"text-gray-900"}`,children:[" ",n.length,""]}),n.map(c=>x.jsxs(ee.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:`p-4 rounded-lg border ${e?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[x.jsxs("div",{className:`flex justify-between items-start mb-2 ${e?"text-gray-300":"text-gray-600"} text-sm`,children:[x.jsxs("div",{children:[x.jsx("span",{className:"font-medium",children:c.author}),x.jsx("span",{className:"ml-4",children:c.date})]}),x.jsxs("button",{className:`transition ${e?"text-gray-400 hover:text-gray-200":"text-gray-400 hover:text-gray-600"}`,children:[" ",c.likes]})]}),x.jsx("p",{className:`${e?"text-gray-200":"text-gray-700"} leading-6`,children:c.content})]},c.id))]})]})}function wae(){const[t,e]=A.useState(""),n=qF.filter(r=>r.term.toLowerCase().includes(t.toLowerCase())||r.definition.toLowerCase().includes(t.toLowerCase()));return x.jsxs("div",{className:"space-y-6 sm:space-y-8",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-4 text-gray-900 dark:text-white",children:" "}),x.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm sm:text-base mb-6",children:"      ."}),x.jsx("input",{type:"search",placeholder:"   ...",value:t,onChange:r=>e(r.target.value),className:"w-full max-w-md bg-gray-50 dark:bg-dark-200 border border-gray-300 dark:border-dark-300 px-4 py-2 rounded text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 text-sm sm:text-base"})]}),x.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[n.map((r,i)=>x.jsxs("div",{className:"bg-white dark:bg-dark-100 border border-gray-200 dark:border-dark-300 p-4 sm:p-6 rounded-lg hover:shadow-md transition",children:[x.jsx("h3",{className:"text-base sm:text-lg font-bold text-blue-600 dark:text-blue-400 mb-2",children:r.term}),x.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm sm:text-base",children:r.definition})]},i)),n.length===0&&x.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8 text-sm sm:text-base",children:"  ."})]}),x.jsxs("div",{className:"bg-gray-100 dark:bg-dark-100 border border-gray-200 dark:border-dark-300 p-4 rounded-lg text-center text-gray-600 dark:text-gray-400 text-sm sm:text-base",children:[" ",qF.length,"   ",n.length,"  "]})]})}function xae(){return x.jsxs("div",{className:"space-y-8 sm:space-y-12",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-4 text-gray-900 dark:text-white",children:" "}),x.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm sm:text-base",children:"    , ,  ."})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:" "}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:xT.textbooks.map((t,e)=>x.jsxs("div",{className:"bg-white dark:bg-dark-100 border border-gray-200 dark:border-dark-300 p-4 sm:p-6 rounded-lg hover:shadow-md transition",children:[x.jsx("h3",{className:"text-base sm:text-lg font-bold text-blue-600 dark:text-blue-400 mb-1",children:t.title}),x.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:[t.authors," (",t.year,")"]})]},e))})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:"  "}),x.jsx("div",{className:"space-y-3 sm:space-y-4",children:xT.databases.map((t,e)=>x.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"block bg-white dark:bg-dark-100 border border-gray-200 dark:border-dark-300 p-4 sm:p-6 rounded-lg hover:border-blue-400 dark:hover:border-blue-500 hover:shadow-md transition",children:[x.jsx("h3",{className:"text-base sm:text-lg font-bold text-blue-600 dark:text-blue-400",children:t.name}),x.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:t.desc}),x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2 break-all",children:t.url})]},e))})]}),x.jsxs("section",{children:[x.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:"   "}),x.jsx("div",{className:"space-y-3 sm:space-y-4",children:xT.tools.map((t,e)=>x.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"block bg-white dark:bg-dark-100 border border-gray-200 dark:border-dark-300 p-4 sm:p-6 rounded-lg hover:border-blue-400 dark:hover:border-blue-500 hover:shadow-md transition",children:[x.jsx("h3",{className:"text-base sm:text-lg font-bold text-blue-600 dark:text-blue-400",children:t.name}),x.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400",children:t.desc}),x.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-2 break-all",children:t.url})]},e))})]})]})}function Sae(){const{isDark:t}=Rs(),e=hk(),[n,r]=A.useState(()=>{const f=JSON.parse(localStorage.getItem("user")||"{}");return{username:f.username||(e==null?void 0:e.username)||"",email:f.email||(e==null?void 0:e.email)||"",affiliation:f.affiliation||(e==null?void 0:e.affiliation)||"",bio:f.bio||(e==null?void 0:e.bio)||""}});A.useEffect(()=>{const f=JSON.parse(localStorage.getItem("user")||"{}");r({username:f.username||(e==null?void 0:e.username)||"",email:f.email||(e==null?void 0:e.email)||"",affiliation:f.affiliation||(e==null?void 0:e.affiliation)||"",bio:f.bio||(e==null?void 0:e.bio)||""})},[e]);const[i,s]=A.useState(!1),[a,o]=A.useState(!1),[l,c]=A.useState(""),u=f=>{const{name:p,value:g}=f.target;r(y=>({...y,[p]:g}))},d=async f=>{f.preventDefault(),o(!0),c("");try{const g={...JSON.parse(localStorage.getItem("user")||"{}"),username:n.username,affiliation:n.affiliation,bio:n.bio};localStorage.setItem("user",JSON.stringify(g)),c(" ."),s(!1),setTimeout(()=>c(""),2e3),window.dispatchEvent(new Event("profile-updated"))}catch(p){c("  : "+p.message)}finally{o(!1)}};return e?x.jsxs("div",{className:"max-w-2xl mx-auto",children:[x.jsx("h1",{className:`text-3xl font-bold mb-8 ${t?"text-white":"text-gray-900"}`,children:""}),l&&x.jsx("div",{className:`mb-4 p-4 rounded-lg ${l.includes("")?"bg-red-50 text-red-700 dark:bg-red-900 dark:text-red-200":"bg-green-50 text-green-700 dark:bg-green-900 dark:text-green-200"}`,children:l}),x.jsxs("div",{className:`rounded-lg p-8 ${t?"bg-gray-800":"bg-white"} border ${t?"border-gray-700":"border-gray-200"}`,children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h2",{className:`text-xl font-bold ${t?"text-white":"text-gray-900"}`,children:" "}),x.jsx("button",{onClick:()=>s(!i),className:`px-4 py-2 rounded-lg transition ${t?"bg-blue-600 hover:bg-blue-700":"bg-blue-500 hover:bg-blue-600"} text-white`,children:i?"":""})]}),i?x.jsxs("form",{onSubmit:d,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:""}),x.jsx("input",{type:"text",name:"username",value:n.username,onChange:u,className:`w-full px-4 py-2 border rounded-lg ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:""}),x.jsx("input",{type:"email",name:"email",value:n.email,onChange:u,disabled:!0,className:`w-full px-4 py-2 border rounded-lg opacity-50 cursor-not-allowed ${t?"bg-gray-700 border-gray-600 text-gray-400":"bg-gray-100 border-gray-300 text-gray-600"}`})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:" "}),x.jsx("input",{type:"text",name:"affiliation",value:n.affiliation,onChange:u,placeholder:",  ",className:`w-full px-4 py-2 border rounded-lg ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-gray-300":"text-gray-700"}`,children:""}),x.jsx("textarea",{name:"bio",value:n.bio,onChange:u,placeholder:" ...",rows:"4",className:`w-full px-4 py-2 border rounded-lg ${t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`})]}),x.jsx("button",{type:"submit",disabled:a,className:`w-full py-2 px-4 rounded-lg font-medium text-white transition ${a?"bg-blue-400 cursor-not-allowed opacity-50":"bg-blue-600 hover:bg-blue-700"}`,children:a?" ...":""})]}):x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:""}),x.jsx("p",{className:`text-lg font-medium ${t?"text-white":"text-gray-900"}`,children:n.username})]}),x.jsxs("div",{children:[x.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:""}),x.jsx("p",{className:`text-lg font-medium ${t?"text-white":"text-gray-900"}`,children:n.email})]}),x.jsxs("div",{children:[x.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:" "}),x.jsx("p",{className:`text-lg font-medium ${t?"text-white":"text-gray-900"}`,children:n.affiliation||""})]}),x.jsxs("div",{children:[x.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:""}),x.jsx("p",{className:`text-lg font-medium ${t?"text-white":"text-gray-900"}`,children:n.bio||""})]}),x.jsxs("div",{children:[x.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:" "}),x.jsxs("p",{className:"text-lg font-medium text-yellow-500",children:[e.reputation_score||0," "]})]}),x.jsx("hr",{className:t?"border-gray-700":"border-gray-200"}),x.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[x.jsxs(lt,{to:"/bookmarks",className:`p-4 rounded-lg border text-center transition hover:shadow-md ${t?"bg-gray-700 border-gray-600 text-gray-200 hover:bg-gray-600":"bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:[x.jsx("p",{className:"text-2xl mb-1",children:""}),x.jsx("p",{className:"font-semibold",children:""})]}),x.jsxs(lt,{to:"/notes",className:`p-4 rounded-lg border text-center transition hover:shadow-md ${t?"bg-gray-700 border-gray-600 text-gray-200 hover:bg-gray-600":"bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:[x.jsx("p",{className:"text-2xl mb-1",children:""}),x.jsx("p",{className:"font-semibold",children:""})]})]})]})]})]}):x.jsx("div",{className:`text-center py-12 ${t?"text-gray-400":"text-gray-600"}`,children:"   ."})}function Aae(){const{isDark:t}=Rs(),[e,n]=A.useState([]),[r,i]=A.useState(!0),[s,a]=A.useState("");A.useEffect(()=>{o()},[]);const o=async()=>{try{const c=await fetch("/api/users/bookmarks",{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!c.ok)throw new Error("   .");const u=await c.json();n(u.bookmarks||[])}catch(c){a(c.message)}finally{i(!1)}},l=async c=>{try{if(!(await fetch(`/api/users/bookmarks/${c}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).ok)throw new Error("  ");n(d=>d.filter(f=>f.id!==c))}catch(u){a(u.message)}};return x.jsxs("div",{className:"max-w-4xl mx-auto",children:[x.jsx("h1",{className:`text-3xl font-bold mb-8 ${t?"text-white":"text-gray-900"}`,children:""}),s&&x.jsx("div",{className:`mb-4 p-4 rounded-lg ${t?"bg-red-900 text-red-200 border border-red-700":"bg-red-50 text-red-700 border border-red-200"}`,children:s}),r?x.jsx("div",{className:`text-center py-12 ${t?"text-gray-400":"text-gray-600"}`,children:" ..."}):e.length===0?x.jsxs("div",{className:`text-center py-12 ${t?"text-gray-400":"text-gray-600"}`,children:[x.jsx("p",{className:"mb-4",children:"  ."}),x.jsx(lt,{to:"/concepts",className:`px-4 py-2 rounded-lg inline-block transition ${t?"bg-blue-600 hover:bg-blue-700":"bg-blue-500 hover:bg-blue-600"} text-white`,children:" "})]}):x.jsx("div",{className:"space-y-4",children:e.map(c=>x.jsxs("div",{className:`p-6 rounded-lg border transition ${t?"bg-gray-800 border-gray-700 hover:border-gray-600":"bg-white border-gray-200 hover:border-gray-300"}`,children:[x.jsxs("div",{className:"flex justify-between items-start gap-4",children:[x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("h2",{className:`text-xl font-bold mb-2 ${t?"text-white":"text-gray-900"}`,children:c.title}),x.jsxs("p",{className:`text-sm mb-3 ${t?"text-gray-400":"text-gray-600"}`,children:[": ",x.jsx("span",{className:"font-medium",children:c.type==="paper"?"":""})]}),x.jsx("p",{className:`line-clamp-2 ${t?"text-gray-300":"text-gray-700"}`,children:c.description})]}),x.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[x.jsx(lt,{to:c.type==="paper"?`/papers/${c.slug}`:`/concepts/${c.slug}`,className:`px-4 py-2 rounded-lg transition ${t?"bg-blue-600 hover:bg-blue-700":"bg-blue-500 hover:bg-blue-600"} text-white text-sm`,children:""}),x.jsx("button",{onClick:()=>l(c.id),className:`px-4 py-2 rounded-lg transition ${t?"bg-red-600 hover:bg-red-700":"bg-red-500 hover:bg-red-600"} text-white text-sm`,children:""})]})]}),x.jsxs("p",{className:`text-xs mt-4 ${t?"text-gray-500":"text-gray-400"}`,children:[" : ",new Date(c.created_at).toLocaleDateString("ko-KR")]})]},c.id))})]})}function _ae(){const{isDark:t}=Rs();xf();const[e,n]=A.useState([]),[r,i]=A.useState(null),[s,a]=A.useState(!1),[o,l]=A.useState(""),[c,u]=A.useState(""),[d,f]=A.useState("");A.useEffect(()=>{const O=localStorage.getItem("notes");if(O)try{n(JSON.parse(O))}catch(C){console.error("  :",C)}},[]);const p=O=>{localStorage.setItem("notes",JSON.stringify(O))},g=()=>{a(!0),i(null),l(""),u(""),f("")},y=O=>{i(O.id),a(!1),l(O.title),u(O.content),f(O.tags.join(", "))},b=()=>{if(!o.trim()){alert(" .");return}if(s){const O={id:Date.now(),title:o,content:c,tags:d.split(",").map(k=>k.trim()).filter(k=>k),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},C=[O,...e];n(C),p(C),a(!1),i(O.id)}else if(r){const O=e.map(C=>C.id===r?{...C,title:o,content:c,tags:d.split(",").map(k=>k.trim()).filter(k=>k),updatedAt:new Date().toISOString()}:C);n(O),p(O)}},v=O=>{if(confirm("  ?")){const C=e.filter(k=>k.id!==O);n(C),p(C),r===O&&(i(null),a(!1))}},S=O=>new Date(O).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"}),w=t?"bg-gray-800 border-gray-700":"bg-white border-gray-200",T=t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300",P=t?"text-gray-300":"text-gray-700";return x.jsxs("div",{className:"min-h-screen space-y-8",children:[x.jsxs(ee.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6},children:[x.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4 bg-gradient-to-r from-indigo-600 to-blue-600 dark:from-indigo-400 dark:to-blue-400 bg-clip-text text-transparent",children:" "}),x.jsx("p",{className:`text-sm sm:text-base ${t?"text-gray-300":"text-gray-600"}`,children:", ,    "})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[x.jsxs(ee.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6},className:`p-6 rounded-lg border ${w}`,children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h2",{className:"text-xl font-bold",children:" "}),x.jsx("button",{onClick:g,className:"px-3 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium",children:"+  "})]}),x.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:e.length===0?x.jsx("p",{className:`text-sm ${t?"text-gray-400":"text-gray-500"}`,children:" ."}):e.map(O=>x.jsxs("div",{onClick:()=>y(O),className:`p-3 rounded-lg cursor-pointer transition-all ${r===O.id?t?"bg-blue-900 border-blue-500":"bg-blue-100 border-blue-400":t?"bg-gray-700 hover:bg-gray-600":"bg-gray-100 hover:bg-gray-200"} border`,children:[x.jsx("p",{className:"font-semibold text-sm truncate",children:O.title}),x.jsx("p",{className:`text-xs ${t?"text-gray-400":"text-gray-500"}`,children:S(O.updatedAt)})]},O.id))})]}),x.jsx(ee.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:`p-6 rounded-lg border lg:col-span-2 ${w}`,children:s||r?x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-semibold mb-2 ${P}`,children:""}),x.jsx("input",{type:"text",value:o,onChange:O=>l(O.target.value),placeholder:"  ",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${T}`})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-semibold mb-2 ${P}`,children:" ( )"}),x.jsx("input",{type:"text",value:d,onChange:O=>f(O.target.value),placeholder:": , Kerr metric, ",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${T}`})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-semibold mb-2 ${P}`,children:""}),x.jsx("textarea",{value:c,onChange:O=>u(O.target.value),placeholder:"  ",rows:"12",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none ${T}`})]}),x.jsxs("div",{className:"flex gap-2 justify-end",children:[x.jsx("button",{onClick:()=>{a(!1),i(null)},className:`px-4 py-2 rounded-lg font-medium ${t?"bg-gray-700 hover:bg-gray-600 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-900"}`,children:""}),r&&x.jsx("button",{onClick:()=>v(r),className:"px-4 py-2 rounded-lg font-medium bg-red-600 hover:bg-red-700 text-white",children:""}),x.jsx("button",{onClick:b,className:"px-4 py-2 rounded-lg font-medium bg-blue-600 hover:bg-blue-700 text-white",children:""})]})]}):x.jsxs("div",{className:`text-center py-12 ${t?"text-gray-400":"text-gray-500"}`,children:[x.jsx("p",{className:"text-lg",children:"     "}),x.jsx("p",{className:"text-sm mt-2",children:" : ,  ,      !"})]})})]}),e.length>0&&x.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.2},className:`p-6 rounded-lg border ${w}`,children:[x.jsx("h3",{className:"text-lg font-bold mb-3",children:""}),x.jsx("div",{className:"flex flex-wrap gap-2",children:[...new Set(e.flatMap(O=>O.tags).sort())].map(O=>x.jsxs("button",{onClick:()=>{const C=e.filter(k=>k.tags.includes(O));C.length>0&&y(C[0])},className:`px-3 py-1 rounded-full text-sm font-medium transition-all ${t?"bg-gray-700 text-gray-200 hover:bg-blue-600":"bg-gray-200 text-gray-800 hover:bg-blue-500 hover:text-white"}`,children:["#",O]},O))})]})]})}function L9(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=L9(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Xe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=L9(t))&&(r&&(r+=" "),r+=e);return r}var Eae=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function sD(t){if(typeof t!="string")return!1;var e=Eae;return e.includes(t)}var Pae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Tae=new Set(Pae);function j9(t){return typeof t!="string"?!1:Tae.has(t)}function F9(t){return typeof t=="string"&&t.startsWith("data-")}function Ms(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(j9(n)||F9(n))&&(e[n]=t[n]);return e}function Pw(t){if(t==null)return null;if(A.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Ms(e)}return typeof t=="object"&&!Array.isArray(t)?Ms(t):null}function zr(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(j9(n)||F9(n)||sD(n))&&(e[n]=t[n]);return e}function Cae(t){return t==null?null:A.isValidElement(t)?zr(t.props):typeof t=="object"&&!Array.isArray(t)?zr(t):null}var kae=["children","width","height","viewBox","className","style","title","desc"];function l2(){return l2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l2.apply(null,arguments)}function Iae(t,e){if(t==null)return{};var n,r,i=Oae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Oae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var aD=A.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:a,style:o,title:l,desc:c}=t,u=Iae(t,kae),d=s||{width:r,height:i,x:0,y:0},f=Xe("recharts-surface",a);return A.createElement("svg",l2({},zr(u),{className:f,width:r,height:i,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:e}),A.createElement("title",null,l),A.createElement("desc",null,c),n)}),Mae=["children","className"];function c2(){return c2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c2.apply(null,arguments)}function Dae(t,e){if(t==null)return{};var n,r,i=Nae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ki=A.forwardRef((t,e)=>{var{children:n,className:r}=t,i=Dae(t,Mae),s=Xe("recharts-layer",r);return A.createElement("g",c2({className:s},zr(i),{ref:e}),n)}),B9=A.createContext(null),Rae=()=>A.useContext(B9);function pt(t){return function(){return t}}const $9=Math.cos,oA=Math.sin,ba=Math.sqrt,lA=Math.PI,iE=2*lA,u2=Math.PI,h2=2*u2,hh=1e-6,Lae=h2-hh;function U9(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function jae(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return U9;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Fae{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?U9:jae(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,c=i-n,u=a-e,d=o-n,f=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>hh)if(!(Math.abs(d*l-c*u)>hh)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,g=i-o,y=l*l+c*c,b=p*p+g*g,v=Math.sqrt(y),S=Math.sqrt(f),w=s*Math.tan((u2-Math.acos((y+f-b)/(2*v*S)))/2),T=w/S,P=w/v;Math.abs(T-1)>hh&&this._append`L${e+T*u},${n+T*d}`,this._append`A${s},${s},0,0,${+(d*p>u*g)},${this._x1=e+P*l},${this._y1=n+P*c}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,u=n+l,d=1^a,f=a?i-s:s-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>hh||Math.abs(this._y1-u)>hh)&&this._append`L${c},${u}`,r&&(f<0&&(f=f%h2+h2),f>Lae?this._append`A${r},${r},0,1,${d},${e-o},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:f>hh&&this._append`A${r},${r},0,${+(f>=u2)},${d},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function oD(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Fae(e)}function lD(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function V9(t){this._context=t}V9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function sE(t){return new V9(t)}function z9(t){return t[0]}function H9(t){return t[1]}function W9(t,e){var n=pt(!0),r=null,i=sE,s=null,a=oD(o);t=typeof t=="function"?t:t===void 0?z9:pt(t),e=typeof e=="function"?e:e===void 0?H9:pt(e);function o(l){var c,u=(l=lD(l)).length,d,f=!1,p;for(r==null&&(s=i(p=a())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(d,c,l),+e(d,c,l));if(p)return s=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:pt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:pt(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:pt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function Vx(t,e,n){var r=null,i=pt(!0),s=null,a=sE,o=null,l=oD(c);t=typeof t=="function"?t:t===void 0?z9:pt(+t),e=typeof e=="function"?e:pt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?H9:pt(+n);function c(d){var f,p,g,y=(d=lD(d)).length,b,v=!1,S,w=new Array(y),T=new Array(y);for(s==null&&(o=a(S=l())),f=0;f<=y;++f){if(!(f<y&&i(b=d[f],f,d))===v)if(v=!v)p=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=f-1;g>=p;--g)o.point(w[g],T[g]);o.lineEnd(),o.areaEnd()}v&&(w[f]=+t(b,f,d),T[f]=+e(b,f,d),o.point(r?+r(b,f,d):w[f],n?+n(b,f,d):T[f]))}if(S)return o=null,S+""||null}function u(){return W9().defined(i).curve(a).context(s)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:pt(+d),r=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:pt(+d),c):t},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:pt(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:pt(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:pt(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:pt(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:pt(!!d),c):i},c.curve=function(d){return arguments.length?(a=d,s!=null&&(o=a(s)),c):a},c.context=function(d){return arguments.length?(d==null?s=o=null:o=a(s=d),c):s},c}class G9{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Bae(t){return new G9(t,!0)}function $ae(t){return new G9(t,!1)}const cD={draw(t,e){const n=ba(e/lA);t.moveTo(n,0),t.arc(0,0,n,0,iE)}},Uae={draw(t,e){const n=ba(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},K9=ba(1/3),Vae=K9*2,zae={draw(t,e){const n=ba(e/Vae),r=n*K9;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Hae={draw(t,e){const n=ba(e),r=-n/2;t.rect(r,r,n,n)}},Wae=.8908130915292852,q9=oA(lA/10)/oA(7*lA/10),Gae=oA(iE/10)*q9,Kae=-$9(iE/10)*q9,qae={draw(t,e){const n=ba(e*Wae),r=Gae*n,i=Kae*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=iE*s/5,o=$9(a),l=oA(a);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},OT=ba(3),Xae={draw(t,e){const n=-ba(e/(OT*3));t.moveTo(0,n*2),t.lineTo(-OT*n,-n),t.lineTo(OT*n,-n),t.closePath()}},ns=-.5,rs=ba(3)/2,d2=1/ba(12),Yae=(d2/2+1)*3,Jae={draw(t,e){const n=ba(e/Yae),r=n/2,i=n*d2,s=r,a=n*d2+n,o=-s,l=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(ns*r-rs*i,rs*r+ns*i),t.lineTo(ns*s-rs*a,rs*s+ns*a),t.lineTo(ns*o-rs*l,rs*o+ns*l),t.lineTo(ns*r+rs*i,ns*i-rs*r),t.lineTo(ns*s+rs*a,ns*a-rs*s),t.lineTo(ns*o+rs*l,ns*l-rs*o),t.closePath()}};function Zae(t,e){let n=null,r=oD(i);t=typeof t=="function"?t:pt(t||cD),e=typeof e=="function"?e:pt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:pt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:pt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function cA(){}function uA(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function X9(t){this._context=t}X9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:uA(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:uA(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Qae(t){return new X9(t)}function Y9(t){this._context=t}Y9.prototype={areaStart:cA,areaEnd:cA,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:uA(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eoe(t){return new Y9(t)}function J9(t){this._context=t}J9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:uA(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function toe(t){return new J9(t)}function Z9(t){this._context=t}Z9.prototype={areaStart:cA,areaEnd:cA,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function noe(t){return new Z9(t)}function x3(t){return t<0?-1:1}function S3(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(x3(s)+x3(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function A3(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function MT(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*n,s,a)}function hA(t){this._context=t}hA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:MT(this,this._t0,A3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,MT(this,A3(this,n=S3(this,t,e)),n);break;default:MT(this,this._t0,n=S3(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Q9(t){this._context=new e8(t)}(Q9.prototype=Object.create(hA.prototype)).point=function(t,e){hA.prototype.point.call(this,e,t)};function e8(t){this._context=t}e8.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function roe(t){return new hA(t)}function ioe(t){return new Q9(t)}function t8(t){this._context=t}t8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=_3(t),i=_3(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function _3(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function soe(t){return new t8(t)}function aE(t,e){this._context=t,this._t=e}aE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function aoe(t){return new aE(t,.5)}function ooe(t){return new aE(t,0)}function loe(t){return new aE(t,1)}function dg(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,o=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function f2(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function coe(t,e){return t[e]}function uoe(t){const e=[];return e.key=t,e}function hoe(){var t=pt([]),e=f2,n=dg,r=coe;function i(s){var a=Array.from(t.apply(this,arguments),uoe),o,l=a.length,c=-1,u;for(const d of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+r(d,a[o].key,c,s)]).data=d;for(o=0,u=lD(e(a));o<l;++o)a[u[o]].index=o;return n(a,u),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:pt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:pt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?f2:typeof s=="function"?s:pt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??dg,i):n},i}function doe(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}dg(t,e)}}function foe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}dg(t,e)}}function poe(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,c=0;o<a;++o){for(var u=t[e[o]],d=u[r][1]||0,f=u[r-1][1]||0,p=(d-f)/2,g=0;g<o;++g){var y=t[e[g]],b=y[r][1]||0,v=y[r-1][1]||0;p+=b-v}l+=d,c+=p*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,dg(t,e)}}var oE={},n8={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(n8);var uD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(uD);var lE={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(lE);var cE={},r8={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(r8);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=r8,n=lE;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],a=i.length;if(a===0)return s;let o=0,l="",c="",u=!1;for(i.charCodeAt(0)===46&&(s.push(""),o++);o<a;){const d=i[o];c?d==="\\"&&o+1<a?(o++,l+=i[o]):d===c?c="":l+=d:u?d==='"'||d==="'"?c=d:d==="]"?(u=!1,s.push(l),l=""):l+=d:d==="["?(u=!0,l&&(s.push(l),l="")):d==="."?l&&(s.push(l),l=""):l+=d,o++}return l&&s.push(l),s}t.toPath=r})(cE);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=n8,n=uD,r=lE,i=cE;function s(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?n.isDeepKey(l)?s(o,i.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const u=o[l];return u===void 0?c:u}default:{if(Array.isArray(l))return a(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?c:u}}}function a(o,l,c){if(l.length===0)return c;let u=o;for(let d=0;d<l.length;d++){if(u==null||e.isUnsafeProperty(l[d]))return c;u=u[l[d]]}return u===void 0?c:u}t.get=s})(oE);var moe=oE.get;const fg=Hl(moe);var _s=t=>t===0?0:t>0?1:-1,po=t=>typeof t=="number"&&t!=+t,Nl=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,he=t=>(typeof t=="number"||t instanceof Number)&&!po(t),mo=t=>he(t)||typeof t=="string",goe=0,t0=t=>{var e=++goe;return"".concat(t||"").concat(e)},Lu=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!he(e)&&typeof e!="string")return r;var s;if(Nl(e)){if(n==null)return r;var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return po(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},i8=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Fn(t,e,n){return he(t)&&he(e)?t+n*(e-t):e}function s8(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):fg(r,e))===n)}var yoe=t=>{for(var e=t.length,n=0,r=0,i=0,s=0,a=1/0,o=-1/0,l=0,c=0,u=0;u<e;u++)l=t[u].cx||0,c=t[u].cy||0,n+=l,r+=c,i+=l*c,s+=l*l,a=Math.min(a,l),o=Math.max(o,l);var d=e*s!==n*n?(e*i-n*r)/(e*s-n*n):0;return{xmin:a,xmax:o,a:d,b:(r-d*n)/e}},Ct=t=>t===null||typeof t>"u",Tw=t=>Ct(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function voe(t){return t!=null}function Cw(){}var boe=["type","size","sizeType"];function p2(){return p2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p2.apply(null,arguments)}function E3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E3(Object(n),!0).forEach(function(r){woe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function woe(t,e,n){return(e=xoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xoe(t){var e=Soe(t,"string");return typeof e=="symbol"?e:e+""}function Soe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aoe(t,e){if(t==null)return{};var n,r,i=_oe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _oe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var a8={symbolCircle:cD,symbolCross:Uae,symbolDiamond:zae,symbolSquare:Hae,symbolStar:qae,symbolTriangle:Xae,symbolWye:Jae},Eoe=Math.PI/180,Poe=t=>{var e="symbol".concat(Tw(t));return a8[e]||cD},Toe=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Eoe;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Coe=(t,e)=>{a8["symbol".concat(Tw(t))]=e},uE=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Aoe(t,boe),s=P3(P3({},i),{},{type:e,size:n,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var o=()=>{var f=Poe(a),p=Zae().type(f).size(Toe(n,r,a)),g=p();if(g!==null)return g},{className:l,cx:c,cy:u}=s,d=zr(s);return he(c)&&he(u)&&he(n)?A.createElement("path",p2({},d,{className:Xe("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:o()})):null};uE.registerSymbol=Coe;var o8=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,hD=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(A.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{sD(i)&&(r[i]=s=>n[i](n,s))}),r},koe=(t,e,n)=>r=>(t(e,n,r),null),dD=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];sD(i)&&typeof s=="function"&&(r||(r={}),r[i]=koe(s,e,n))}),r},Ioe=t=>Array.isArray(t)&&t.length>0;function T3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ooe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T3(Object(n),!0).forEach(function(r){Moe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Moe(t,e,n){return(e=Doe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Doe(t){var e=Noe(t,"string");return typeof e=="symbol"?e:e+""}function Noe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Un(t,e){var n=Ooe({},t),r=e,i=Object.keys(e),s=i.reduce((a,o)=>(a[o]===void 0&&r[o]!==void 0&&(a[o]=r[o]),a),n);return s}function dA(){return dA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dA.apply(null,arguments)}function C3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Roe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C3(Object(n),!0).forEach(function(r){Loe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Loe(t,e,n){return(e=joe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function joe(t){var e=Foe(t,"string");return typeof e=="symbol"?e:e+""}function Foe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var as=32,Boe={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function $oe(t){var{data:e,iconType:n,inactiveColor:r}=t,i=as/2,s=as/6,a=as/3,o=e.inactive?r:e.color,l=n??e.type;if(l==="none")return null;if(l==="plainline"){var c;return A.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(c=e.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:i,x2:as,y2:i,className:"recharts-legend-icon"})}if(l==="line")return A.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(as,"M").concat(2*a,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return A.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(as/8,"h").concat(as,"v").concat(as*3/4,"h").concat(-as,"z"),className:"recharts-legend-icon"});if(A.isValidElement(e.legendIcon)){var u=Roe({},e);return delete u.legendIcon,A.cloneElement(e.legendIcon,u)}return A.createElement(uE,{fill:o,cx:i,cy:i,size:as,sizeType:"diameter",type:l})}function Uoe(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:a}=t,o={x:0,y:0,width:as,height:as},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((u,d)=>{var f=u.formatter||i,p=Xe({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:u.inactive});if(u.type==="none")return null;var g=u.inactive?s:u.color,y=f?f(u.value,u,d):u.value;return A.createElement("li",dA({className:p,style:l,key:"legend-item-".concat(d)},dD(t,u,d)),A.createElement(aD,{width:n,height:n,viewBox:o,style:c,"aria-label":"".concat(y," legend icon")},A.createElement($oe,{data:u,iconType:a,inactiveColor:s})),A.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},y))})}var Voe=t=>{var e=Un(t,Boe),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return A.createElement("ul",{className:"recharts-default-legend",style:s},A.createElement(Uoe,dA({},e,{payload:n})))},l8={},c8={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const a=n[s],o=r(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}t.uniqBy=e})(c8);var fD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(fD);var u8={},hE={},h8={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(h8);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h8;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(hE);var d8={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(d8);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hE,n=d8;function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(u8);var f8={},p8={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oE;function n(r){return function(i){return e.get(i,r)}}t.property=n})(p8);var m8={},pD={},g8={},mD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(mD);var gD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(gD);var yD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(yD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mD,n=gD,r=yD;function i(u,d,f){return typeof f!="function"?i(u,d,()=>{}):s(u,d,function p(g,y,b,v,S,w){const T=f(g,y,b,v,S,w);return T!==void 0?!!T:s(g,y,p,w)},new Map)}function s(u,d,f,p){if(d===u)return!0;switch(typeof d){case"object":return a(u,d,f,p);case"function":return Object.keys(d).length>0?s(u,{...d},f,p):r.eq(u,d);default:return e.isObject(u)?typeof d=="string"?d==="":!0:r.eq(u,d)}}function a(u,d,f,p){if(d==null)return!0;if(Array.isArray(d))return l(u,d,f,p);if(d instanceof Map)return o(u,d,f,p);if(d instanceof Set)return c(u,d,f,p);const g=Object.keys(d);if(u==null)return g.length===0;if(g.length===0)return!0;if(p!=null&&p.has(d))return p.get(d)===u;p==null||p.set(d,u);try{for(let y=0;y<g.length;y++){const b=g[y];if(!n.isPrimitive(u)&&!(b in u)||d[b]===void 0&&u[b]!==void 0||d[b]===null&&u[b]!==null||!f(u[b],d[b],b,u,d,p))return!1}return!0}finally{p==null||p.delete(d)}}function o(u,d,f,p){if(d.size===0)return!0;if(!(u instanceof Map))return!1;for(const[g,y]of d.entries()){const b=u.get(g);if(f(b,y,g,u,d,p)===!1)return!1}return!0}function l(u,d,f,p){if(d.length===0)return!0;if(!Array.isArray(u))return!1;const g=new Set;for(let y=0;y<d.length;y++){const b=d[y];let v=!1;for(let S=0;S<u.length;S++){if(g.has(S))continue;const w=u[S];let T=!1;if(f(w,b,y,u,d,p)&&(T=!0),T){g.add(S),v=!0;break}}if(!v)return!1}return!0}function c(u,d,f,p){return d.size===0?!0:u instanceof Set?l([...u],[...d],f,p):!1}t.isMatchWith=i,t.isSetMatch=c})(g8);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g8;function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(pD);var y8={},vD={},v8={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(v8);var bD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(bD);var wD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",d="[object Function]",f="[object ArrayBuffer]",p="[object Object]",g="[object Error]",y="[object DataView]",b="[object Uint8Array]",v="[object Uint8ClampedArray]",S="[object Uint16Array]",w="[object Uint32Array]",T="[object BigUint64Array]",P="[object Int8Array]",O="[object Int16Array]",C="[object Int32Array]",k="[object BigInt64Array]",N="[object Float32Array]",L="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=f,t.arrayTag=u,t.bigInt64ArrayTag=k,t.bigUint64ArrayTag=T,t.booleanTag=i,t.dataViewTag=y,t.dateTag=o,t.errorTag=g,t.float32ArrayTag=N,t.float64ArrayTag=L,t.functionTag=d,t.int16ArrayTag=O,t.int32ArrayTag=C,t.int8ArrayTag=P,t.mapTag=l,t.numberTag=r,t.objectTag=p,t.regexpTag=e,t.setTag=c,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=S,t.uint32ArrayTag=w,t.uint8ArrayTag=b,t.uint8ClampedArrayTag=v})(wD);var b8={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(b8);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=v8,n=bD,r=wD,i=gD,s=b8;function a(u,d){return o(u,void 0,u,new Map,d)}function o(u,d,f,p=new Map,g=void 0){const y=g==null?void 0:g(u,d,f,p);if(y!==void 0)return y;if(i.isPrimitive(u))return u;if(p.has(u))return p.get(u);if(Array.isArray(u)){const b=new Array(u.length);p.set(u,b);for(let v=0;v<u.length;v++)b[v]=o(u[v],v,f,p,g);return Object.hasOwn(u,"index")&&(b.index=u.index),Object.hasOwn(u,"input")&&(b.input=u.input),b}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const b=new RegExp(u.source,u.flags);return b.lastIndex=u.lastIndex,b}if(u instanceof Map){const b=new Map;p.set(u,b);for(const[v,S]of u)b.set(v,o(S,v,f,p,g));return b}if(u instanceof Set){const b=new Set;p.set(u,b);for(const v of u)b.add(o(v,void 0,f,p,g));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(s.isTypedArray(u)){const b=new(Object.getPrototypeOf(u)).constructor(u.length);p.set(u,b);for(let v=0;v<u.length;v++)b[v]=o(u[v],v,f,p,g);return b}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const b=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return p.set(u,b),l(b,u,f,p,g),b}if(typeof File<"u"&&u instanceof File){const b=new File([u],u.name,{type:u.type});return p.set(u,b),l(b,u,f,p,g),b}if(typeof Blob<"u"&&u instanceof Blob){const b=new Blob([u],{type:u.type});return p.set(u,b),l(b,u,f,p,g),b}if(u instanceof Error){const b=new u.constructor;return p.set(u,b),b.message=u.message,b.name=u.name,b.stack=u.stack,b.cause=u.cause,l(b,u,f,p,g),b}if(u instanceof Boolean){const b=new Boolean(u.valueOf());return p.set(u,b),l(b,u,f,p,g),b}if(u instanceof Number){const b=new Number(u.valueOf());return p.set(u,b),l(b,u,f,p,g),b}if(u instanceof String){const b=new String(u.valueOf());return p.set(u,b),l(b,u,f,p,g),b}if(typeof u=="object"&&c(u)){const b=Object.create(Object.getPrototypeOf(u));return p.set(u,b),l(b,u,f,p,g),b}return u}function l(u,d,f=u,p,g){const y=[...Object.keys(d),...e.getSymbols(d)];for(let b=0;b<y.length;b++){const v=y[b],S=Object.getOwnPropertyDescriptor(u,v);(S==null||S.writable)&&(u[v]=o(d[v],v,f,p,g))}}function c(u){switch(n.getTag(u)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=o,t.copyProperties=l})(vD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vD;function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(y8);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pD,n=y8;function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(m8);var w8={},x8={},S8={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vD,n=wD;function r(i,s){return e.cloneDeepWith(i,(a,o,l,c)=>{const u=s==null?void 0:s(a,o,l,c);if(u!==void 0)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(d,i),d}case n.argumentsTag:{const d={};return e.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}t.cloneDeepWith=r})(S8);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=S8;function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(x8);var A8={},xD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(xD);var _8={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bD;function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(_8);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uD,n=xD,r=_8,i=cE;function s(a,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=a;for(let u=0;u<l.length;u++){const d=l[u];if((c==null||!Object.hasOwn(c,d))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(d)&&d<c.length))return!1;c=c[d]}return!0}t.has=s})(A8);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pD,n=lE,r=x8,i=oE,s=A8;function a(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(c){const u=i.get(c,o);return u===void 0?s.has(c,o):l===void 0?u===void 0:e.isMatch(u,l)}}t.matchesProperty=a})(w8);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fD,n=p8,r=m8,i=w8;function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=s})(f8);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=c8,n=fD,r=u8,i=f8;function s(a,o=n.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(o)):[]}t.uniqBy=s})(l8);var zoe=l8.uniqBy;const k3=Hl(zoe);function E8(t,e,n){return e===!0?k3(t,n):typeof e=="function"?k3(t,e):t}var P8={exports:{}},T8={},C8={exports:{}},k8={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg=A;function Hoe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Woe=typeof Object.is=="function"?Object.is:Hoe,Goe=pg.useState,Koe=pg.useEffect,qoe=pg.useLayoutEffect,Xoe=pg.useDebugValue;function Yoe(t,e){var n=e(),r=Goe({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return qoe(function(){i.value=n,i.getSnapshot=e,DT(i)&&s({inst:i})},[t,n,e]),Koe(function(){return DT(i)&&s({inst:i}),t(function(){DT(i)&&s({inst:i})})},[t]),Xoe(n),n}function DT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Woe(t,n)}catch{return!0}}function Joe(t,e){return e()}var Zoe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Joe:Yoe;k8.useSyncExternalStore=pg.useSyncExternalStore!==void 0?pg.useSyncExternalStore:Zoe;C8.exports=k8;var Qoe=C8.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE=A,ele=Qoe;function tle(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nle=typeof Object.is=="function"?Object.is:tle,rle=ele.useSyncExternalStore,ile=dE.useRef,sle=dE.useEffect,ale=dE.useMemo,ole=dE.useDebugValue;T8.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=ile(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=ale(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),i!==void 0&&a.hasValue){var g=a.value;if(i(g,p))return d=g}return d=p}if(g=d,nle(u,p))return g;var y=r(p);return i!==void 0&&i(g,y)?(u=p,g):(u=p,d=y)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var o=rle(t,s[0],s[1]);return sle(function(){a.hasValue=!0,a.value=o},[o]),ole(o),o};P8.exports=T8;var lle=P8.exports,SD=A.createContext(null),cle=t=>t,Ft=()=>{var t=A.useContext(SD);return t?t.store.dispatch:cle},oS=()=>{},ule=()=>oS,hle=(t,e)=>t===e;function ue(t){var e=A.useContext(SD);return lle.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:ule,e?e.store.getState:oS,e?e.store.getState:oS,e?t:oS,hle)}function dle(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function fle(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function ple(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var I3=t=>Array.isArray(t)?t:[t];function mle(t){const e=Array.isArray(t[0])?t[0]:t;return ple(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function gle(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var yle=class{constructor(t){this.value=t}deref(){return this.value}},vle=typeof WeakRef<"u"?WeakRef:yle,ble=0,O3=1;function zx(){return{s:ble,v:void 0,o:null,p:null}}function I8(t,e={}){let n=zx();const{resultEqualityCheck:r}=e;let i,s=0;function a(){var d;let o=n;const{length:l}=arguments;for(let f=0,p=l;f<p;f++){const g=arguments[f];if(typeof g=="function"||typeof g=="object"&&g!==null){let y=o.o;y===null&&(o.o=y=new WeakMap);const b=y.get(g);b===void 0?(o=zx(),y.set(g,o)):o=b}else{let y=o.p;y===null&&(o.p=y=new Map);const b=y.get(g);b===void 0?(o=zx(),y.set(g,o)):o=b}}const c=o;let u;if(o.s===O3)u=o.v;else if(u=t.apply(null,arguments),s++,r){const f=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;f!=null&&r(f,u)&&(u=f,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new vle(u):u}return c.s=O3,c.v=u,u}return a.clearCache=()=>{n=zx(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function wle(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,a=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),dle(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...l},{memoize:d,memoizeOptions:f=[],argsMemoize:p=I8,argsMemoizeOptions:g=[]}=u,y=I3(f),b=I3(g),v=mle(i),S=d(function(){return s++,c.apply(null,arguments)},...y),w=p(function(){a++;const P=gle(v,arguments);return o=S.apply(null,P),o},...b);return Object.assign(w,{resultFunc:c,memoizedResultFunc:S,dependencies:v,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var z=wle(I8),xle=Object.assign((t,e=z)=>{fle(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((a,o,l)=>(a[n[l]]=o,a),{}))},{withTypes:()=>xle}),O8={},M8={},D8={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const a=e(r),o=e(i);if(a===o&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};t.compareValues=n})(D8);var N8={},AD={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(AD);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AD,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(N8);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=D8,n=N8,r=cE;function i(s,a,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const c=(p,g)=>{let y=p;for(let b=0;b<g.length&&y!=null;++b)y=y[g[b]];return y},u=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:c(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?c(g,p):typeof g=="object"?g[p]:g,d=a.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return s.map(p=>({original:p,criteria:d.map(g=>u(g,p))})).slice().sort((p,g)=>{for(let y=0;y<d.length;y++){const b=e.compareValues(p.criteria[y],g.criteria[y],o[y]);if(b!==0)return b}return 0}).map(p=>p.original)}t.orderBy=i})(M8);var R8={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),a=(o,l)=>{for(let c=0;c<o.length;c++){const u=o[c];Array.isArray(u)&&l<s?a(u,l+1):i.push(u)}};return a(n,0),i}t.flatten=e})(R8);var _D={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xD,n=hE,r=mD,i=yD;function s(a,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],a):!1}t.isIterateeCall=s})(_D);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=M8,n=R8,r=_D;function i(s,...a){const o=a.length;return o>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,n.flatten(a),["asc"])}t.sortBy=i})(O8);var Sle=O8.sortBy;const fE=Hl(Sle);var L8=t=>t.legend.settings,Ale=t=>t.legend.size,_le=t=>t.legend.payload,Ele=z([_le,L8],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?fE(r,n):r});function Ple(){return ue(Ele)}var Hx=1;function j8(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>Hx||Math.abs(a.left-e.left)>Hx||Math.abs(a.top-e.top)>Hx||Math.abs(a.width-e.width)>Hx)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Zn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Tle=typeof Symbol=="function"&&Symbol.observable||"@@observable",M3=Tle,NT=()=>Math.random().toString(36).substring(7).split("").join("."),Cle={INIT:`@@redux/INIT${NT()}`,REPLACE:`@@redux/REPLACE${NT()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${NT()}`},fA=Cle;function ED(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function F8(t,e,n){if(typeof t!="function")throw new Error(Zn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Zn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Zn(1));return n(F8)(t,e)}let r=t,i=e,s=new Map,a=s,o=0,l=!1;function c(){a===s&&(a=new Map,s.forEach((b,v)=>{a.set(v,b)}))}function u(){if(l)throw new Error(Zn(3));return i}function d(b){if(typeof b!="function")throw new Error(Zn(4));if(l)throw new Error(Zn(5));let v=!0;c();const S=o++;return a.set(S,b),function(){if(v){if(l)throw new Error(Zn(6));v=!1,c(),a.delete(S),s=null}}}function f(b){if(!ED(b))throw new Error(Zn(7));if(typeof b.type>"u")throw new Error(Zn(8));if(typeof b.type!="string")throw new Error(Zn(17));if(l)throw new Error(Zn(9));try{l=!0,i=r(i,b)}finally{l=!1}return(s=a).forEach(S=>{S()}),b}function p(b){if(typeof b!="function")throw new Error(Zn(10));r=b,f({type:fA.REPLACE})}function g(){const b=d;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Zn(11));function S(){const T=v;T.next&&T.next(u())}return S(),{unsubscribe:b(S)}},[M3](){return this}}}return f({type:fA.INIT}),{dispatch:f,subscribe:d,getState:u,replaceReducer:p,[M3]:g}}function kle(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:fA.INIT})>"u")throw new Error(Zn(12));if(typeof n(void 0,{type:fA.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Zn(13))})}function B8(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{kle(n)}catch(s){i=s}return function(a={},o){if(i)throw i;let l=!1;const c={};for(let u=0;u<r.length;u++){const d=r[u],f=n[d],p=a[d],g=f(p,o);if(typeof g>"u")throw o&&o.type,new Error(Zn(14));c[d]=g,l=l||g!==p}return l=l||r.length!==Object.keys(a).length,l?c:a}}function pA(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Ile(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Zn(15))};const a={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},o=t.map(l=>l(a));return s=pA(...o)(i.dispatch),{...i,dispatch:s}}}function $8(t){return ED(t)&&"type"in t&&typeof t.type=="string"}var U8=Symbol.for("immer-nothing"),D3=Symbol.for("immer-draftable"),Hr=Symbol.for("immer-state");function sa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Vi=Object,mg=Vi.getPrototypeOf,mA="constructor",pE="prototype",m2="configurable",gA="enumerable",lS="writable",n0="value",Rl=t=>!!t&&!!t[Hr];function ga(t){var e;return t?V8(t)||mE(t)||!!t[D3]||!!((e=t[mA])!=null&&e[D3])||gE(t)||yE(t):!1}var Ole=Vi[pE][mA].toString(),N3=new WeakMap;function V8(t){if(!t||!PD(t))return!1;const e=mg(t);if(e===null||e===Vi[pE])return!0;const n=Vi.hasOwnProperty.call(e,mA)&&e[mA];if(n===Object)return!0;if(!Wf(n))return!1;let r=N3.get(n);return r===void 0&&(r=Function.toString.call(n),N3.set(n,r)),r===Ole}function kw(t,e,n=!0){Iw(t)===0?(n?Reflect.ownKeys(t):Vi.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Iw(t){const e=t[Hr];return e?e.type_:mE(t)?1:gE(t)?2:yE(t)?3:0}var R3=(t,e,n=Iw(t))=>n===2?t.has(e):Vi[pE].hasOwnProperty.call(t,e),g2=(t,e,n=Iw(t))=>n===2?t.get(e):t[e],yA=(t,e,n,r=Iw(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function Mle(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var mE=Array.isArray,gE=t=>t instanceof Map,yE=t=>t instanceof Set,PD=t=>typeof t=="object",Wf=t=>typeof t=="function",RT=t=>typeof t=="boolean",Io=t=>t.copy_||t.base_,TD=t=>t.modified_?t.copy_:t.base_;function y2(t,e){if(gE(t))return new Map(t);if(yE(t))return new Set(t);if(mE(t))return Array[pE].slice.call(t);const n=V8(t);if(e===!0||e==="class_only"&&!n){const r=Vi.getOwnPropertyDescriptors(t);delete r[Hr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o[lS]===!1&&(o[lS]=!0,o[m2]=!0),(o.get||o.set)&&(r[a]={[m2]:!0,[lS]:!0,[gA]:o[gA],[n0]:t[a]})}return Vi.create(mg(t),r)}else{const r=mg(t);if(r!==null&&n)return{...t};const i=Vi.create(r);return Vi.assign(i,t)}}function CD(t,e=!1){return vE(t)||Rl(t)||!ga(t)||(Iw(t)>1&&Vi.defineProperties(t,{set:Wx,add:Wx,clear:Wx,delete:Wx}),Vi.freeze(t),e&&kw(t,(n,r)=>{CD(r,!0)},!1)),t}function Dle(){sa(2)}var Wx={[n0]:Dle};function vE(t){return t===null||!PD(t)?!0:Vi.isFrozen(t)}var vA="MapSet",v2="Patches",z8={};function gg(t){const e=z8[t];return e||sa(0,t),e}var Nle=t=>!!z8[t],r0,H8=()=>r0,Rle=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Nle(vA)?gg(vA):void 0});function L3(t,e){e&&(t.patchPlugin_=gg(v2),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function b2(t){w2(t),t.drafts_.forEach(Lle),t.drafts_=null}function w2(t){t===r0&&(r0=t.parent_)}var j3=t=>r0=Rle(r0,t);function Lle(t){const e=t[Hr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function F3(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Hr].modified_&&(b2(e),sa(4)),ga(t)&&(t=B3(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Hr].base_,t,e)}else t=B3(e,n);return jle(e,t,!0),b2(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==U8?t:void 0}function B3(t,e){if(vE(e))return e;const n=e[Hr];if(!n)return kD(e,t.handledSet_,t);if(!bE(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);K8(n,t)}return n.copy_}function jle(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&CD(e,n)}function W8(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var bE=(t,e)=>t.scope_===e,Fle=[];function G8(t,e,n,r){const i=Io(t),s=t.type_;if(r!==void 0&&g2(i,r,s)===e){yA(i,r,n,s);return}if(!t.draftLocations_){const o=t.draftLocations_=new Map;kw(i,(l,c)=>{if(Rl(c)){const u=o.get(c)||[];u.push(l),o.set(c,u)}})}const a=t.draftLocations_.get(e)??Fle;for(const o of a)yA(i,o,n,s)}function Ble(t,e,n){t.callbacks_.push(function(i){var o;const s=e;if(!s||!bE(s,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(s);const a=TD(s);G8(t,s.draft_??s,a,n),K8(s,i)})}function K8(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const s=i.getPath(t);s&&i.generatePatches_(t,s,e)}W8(t)}}function $le(t,e,n){const{scope_:r}=t;if(Rl(n)){const i=n[Hr];bE(i,r)&&i.callbacks_.push(function(){cS(t);const a=TD(i);G8(t,n,a,e)})}else ga(n)&&t.callbacks_.push(function(){const s=Io(t);g2(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&kD(g2(t.copy_,e,t.type_),r.handledSet_,r)})}function kD(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Rl(t)||e.has(t)||!ga(t)||vE(t)||(e.add(t),kw(t,(r,i)=>{if(Rl(i)){const s=i[Hr];if(bE(s,n)){const a=TD(s);yA(t,r,a,t.type_),W8(s)}}else ga(i)&&kD(i,e,n)})),t}function Ule(t,e){const n=mE(t),r={type_:n?1:0,scope_:e?e.scope_:H8(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=ID;n&&(i=[r],s=i0);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,[o,r]}var ID={get(t,e){if(e===Hr)return t;const n=Io(t);if(!R3(n,e,t.type_))return Vle(t,n,e);const r=n[e];if(t.finalized_||!ga(r))return r;if(r===LT(t.base_,e)){cS(t);const i=t.type_===1?+e:e,s=S2(t.scope_,r,t,i);return t.copy_[i]=s}return r},has(t,e){return e in Io(t)},ownKeys(t){return Reflect.ownKeys(Io(t))},set(t,e,n){const r=q8(Io(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=LT(Io(t),e),s=i==null?void 0:i[Hr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(Mle(n,i)&&(n!==void 0||R3(t.base_,e,t.type_)))return!0;cS(t),x2(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),$le(t,e,n)),!0},deleteProperty(t,e){return cS(t),LT(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),x2(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Io(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[lS]:!0,[m2]:t.type_!==1||e!=="length",[gA]:r[gA],[n0]:n[e]}},defineProperty(){sa(11)},getPrototypeOf(t){return mg(t.base_)},setPrototypeOf(){sa(12)}},i0={};kw(ID,(t,e)=>{i0[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});i0.deleteProperty=function(t,e){return i0.set.call(this,t,e,void 0)};i0.set=function(t,e,n){return ID.set.call(this,t[0],e,n,t[0])};function LT(t,e){const n=t[Hr];return(n?Io(n):t)[e]}function Vle(t,e,n){var i;const r=q8(e,n);return r?n0 in r?r[n0]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function q8(t,e){if(!(e in t))return;let n=mg(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=mg(n)}}function x2(t){t.modified_||(t.modified_=!0,t.parent_&&x2(t.parent_))}function cS(t){t.copy_||(t.assigned_=new Map,t.copy_=y2(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var zle=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Wf(n)&&!Wf(r)){const a=r;r=n;const o=this;return function(c=a,...u){return o.produce(c,d=>r.call(this,d,...u))}}Wf(r)||sa(6),i!==void 0&&!Wf(i)&&sa(7);let s;if(ga(n)){const a=j3(this),o=S2(a,n,void 0);let l=!0;try{s=r(o),l=!1}finally{l?b2(a):w2(a)}return L3(a,i),F3(s,a)}else if(!n||!PD(n)){if(s=r(n),s===void 0&&(s=n),s===U8&&(s=void 0),this.autoFreeze_&&CD(s,!0),i){const a=[],o=[];gg(v2).generateReplacementPatches_(n,s,{patches_:a,inversePatches_:o}),i(a,o)}return s}else sa(1,n)},this.produceWithPatches=(n,r)=>{if(Wf(n))return(o,...l)=>this.produceWithPatches(o,c=>n(c,...l));let i,s;return[this.produce(n,r,(o,l)=>{i=o,s=l}),i,s]},RT(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),RT(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),RT(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ga(e)||sa(8),Rl(e)&&(e=pa(e));const n=j3(this),r=S2(n,e,void 0);return r[Hr].isManual_=!0,w2(n),r}finishDraft(e,n){const r=e&&e[Hr];(!r||!r.isManual_)&&sa(9);const{scope_:i}=r;return L3(i,n),F3(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=gg(v2).applyPatches_;return Rl(e)?i(e,n):this.produce(e,s=>i(s,n))}};function S2(t,e,n,r){const[i,s]=gE(e)?gg(vA).proxyMap_(e,n):yE(e)?gg(vA).proxySet_(e,n):Ule(e,n);return((n==null?void 0:n.scope_)??H8()).drafts_.push(i),s.callbacks_=(n==null?void 0:n.callbacks_)??[],s.key_=r,n&&r!==void 0?Ble(n,s,r):s.callbacks_.push(function(l){var u;(u=l.mapSetPlugin_)==null||u.fixSetContents(s);const{patchPlugin_:c}=l;s.modified_&&c&&c.generatePatches_(s,[],l)}),i}function pa(t){return Rl(t)||sa(10,t),X8(t)}function X8(t){if(!ga(t)||vE(t))return t;const e=t[Hr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=y2(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=y2(t,!0);return kw(n,(i,s)=>{yA(n,i,X8(s))},r),e&&(e.finalized_=!1),n}var Hle=new zle,Y8=Hle.produce;function J8(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var Wle=J8(),Gle=J8,Kle=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?pA:pA.apply(null,arguments)};function Ds(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Hi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>$8(r)&&r.type===t,n}var Z8=class Qy extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Qy.prototype)}static get[Symbol.species](){return Qy}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Qy(...e[0].concat(this)):new Qy(...e.concat(this))}};function $3(t){return ga(t)?Y8(t,()=>{}):t}function Gx(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function qle(t){return typeof t=="boolean"}var Xle=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new Z8;return n&&(qle(n)?a.push(Wle):a.push(Gle(n.extraArgument))),a},Q8="RTK_autoBatch",Pt=()=>t=>({payload:t,meta:{[Q8]:!0}}),U3=t=>e=>{setTimeout(e,t)},eW=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,a=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:U3(10):t.type==="callback"?t.queueNotification:U3(t.timeout),c=()=>{a=!1,s&&(s=!1,o.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const d=()=>i&&u(),f=r.subscribe(d);return o.add(u),()=>{f(),o.delete(u)}},dispatch(u){var d;try{return i=!((d=u==null?void 0:u.meta)!=null&&d[Q8]),s=!i,s&&(a||(a=!0,l(c))),r.dispatch(u)}finally{i=!0}}})},Yle=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new Z8(t);return r&&i.push(eW(typeof r=="object"?r:void 0)),i};function Jle(t){const e=Xle(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(ED(n))o=B8(n);else throw new Error(Hi(1));let l;typeof r=="function"?l=r(e):l=e();let c=pA;i&&(c=Kle({trace:!1,...typeof i=="object"&&i}));const u=Ile(...l),d=Yle(u);let f=typeof a=="function"?a(d):d();const p=c(...f);return F8(o,s,p)}function tW(t){const e={},n=[];let r;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(Hi(28));if(o in e)throw new Error(Hi(29));return e[o]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function Zle(t){return typeof t=="function"}function Qle(t,e){let[n,r,i]=tW(e),s;if(Zle(t))s=()=>$3(t());else{const o=$3(t);s=()=>o}function a(o=s(),l){let c=[n[l.type],...r.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,d)=>{if(d)if(Rl(u)){const p=d(u,l);return p===void 0?u:p}else{if(ga(u))return Y8(u,f=>d(f,l));{const f=d(u,l);if(f===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return u},o)}return a.getInitialState=s,a}var ece="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",tce=(t=21)=>{let e="",n=t;for(;n--;)e+=ece[Math.random()*64|0];return e},nce=Symbol.for("rtk-slice-createasyncthunk");function rce(t,e){return`${t}/${e}`}function ice({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[nce];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(Hi(11));const o=(typeof i.reducers=="function"?i.reducers(ace()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(T,P){const O=typeof T=="string"?T:T.type;if(!O)throw new Error(Hi(12));if(O in c.sliceCaseReducersByType)throw new Error(Hi(13));return c.sliceCaseReducersByType[O]=P,u},addMatcher(T,P){return c.sliceMatchers.push({matcher:T,reducer:P}),u},exposeAction(T,P){return c.actionCreators[T]=P,u},exposeCaseReducer(T,P){return c.sliceCaseReducersByName[T]=P,u}};l.forEach(T=>{const P=o[T],O={reducerName:T,type:rce(s,T),createNotation:typeof i.reducers=="function"};lce(P)?uce(O,P,u,e):oce(O,P,u)});function d(){const[T={},P=[],O=void 0]=typeof i.extraReducers=="function"?tW(i.extraReducers):[i.extraReducers],C={...T,...c.sliceCaseReducersByType};return Qle(i.initialState,k=>{for(let N in C)k.addCase(N,C[N]);for(let N of c.sliceMatchers)k.addMatcher(N.matcher,N.reducer);for(let N of P)k.addMatcher(N.matcher,N.reducer);O&&k.addDefaultCase(O)})}const f=T=>T,p=new Map,g=new WeakMap;let y;function b(T,P){return y||(y=d()),y(T,P)}function v(){return y||(y=d()),y.getInitialState()}function S(T,P=!1){function O(k){let N=k[T];return typeof N>"u"&&P&&(N=Gx(g,O,v)),N}function C(k=f){const N=Gx(p,P,()=>new WeakMap);return Gx(N,k,()=>{const L={};for(const[R,B]of Object.entries(i.selectors??{}))L[R]=sce(B,k,()=>Gx(g,k,v),P);return L})}return{reducerPath:T,getSelectors:C,get selectors(){return C(O)},selectSlice:O}}const w={name:s,reducer:b,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:v,...S(a),injectInto(T,{reducerPath:P,...O}={}){const C=P??a;return T.inject({reducerPath:C,reducer:b},O),{...w,...S(C,!0)}}};return w}}function sce(t,e,n,r){function i(s,...a){let o=e(s);return typeof o>"u"&&r&&(o=n()),t(o,...a)}return i.unwrapped=t,i}var pi=ice();function ace(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function oce({type:t,reducerName:e,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!cce(r))throw new Error(Hi(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?Ds(t,a):Ds(t))}function lce(t){return t._reducerDefinitionType==="asyncThunk"}function cce(t){return t._reducerDefinitionType==="reducerWithPrepare"}function uce({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Hi(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:c,options:u}=n,d=i(t,s,u);r.exposeAction(e,d),a&&r.addCase(d.fulfilled,a),o&&r.addCase(d.pending,o),l&&r.addCase(d.rejected,l),c&&r.addMatcher(d.settled,c),r.exposeCaseReducer(e,{fulfilled:a||Kx,pending:o||Kx,rejected:l||Kx,settled:c||Kx})}function Kx(){}var hce="task",nW="listener",rW="completed",OD="cancelled",dce=`task-${OD}`,fce=`task-${rW}`,A2=`${nW}-${OD}`,pce=`${nW}-${rW}`,wE=class{constructor(t){q(this,"name","TaskAbortError");q(this,"message");this.code=t,this.message=`${hce} ${OD} (reason: ${t})`}},MD=(t,e)=>{if(typeof t!="function")throw new TypeError(Hi(32))},bA=()=>{},iW=(t,e=bA)=>(t.catch(e),t),sW=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Kd=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},qd=t=>{if(t.aborted){const{reason:e}=t;throw new wE(e)}};function aW(t,e){let n=bA;return new Promise((r,i)=>{const s=()=>i(new wE(t.reason));if(t.aborted){s();return}n=sW(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=bA})}var mce=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof wE?"cancelled":"rejected",error:n}}finally{e==null||e()}},wA=t=>e=>iW(aW(t,e).then(n=>(qd(t),n))),oW=t=>{const e=wA(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Pp}=Object,V3={},xE="listenerMiddleware",gce=(t,e)=>{const n=r=>sW(t,()=>Kd(r,t.reason));return(r,i)=>{MD(r);const s=new AbortController;n(s);const a=mce(async()=>{qd(t),qd(s.signal);const o=await r({pause:wA(s.signal),delay:oW(s.signal),signal:s.signal});return qd(s.signal),o},()=>Kd(s,fce));return i!=null&&i.autoJoin&&e.push(a.catch(bA)),{result:wA(t)(a),cancel(){Kd(s,dce)}}}},yce=(t,e)=>{const n=async(r,i)=>{qd(e);let s=()=>{};const o=[new Promise((l,c)=>{let u=t({predicate:r,effect:(d,f)=>{f.unsubscribe(),l([d,f.getState(),f.getOriginalState()])}});s=()=>{u(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await aW(e,Promise.race(o));return qd(e),l}finally{s()}};return(r,i)=>iW(n(r,i))},lW=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Ds(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Hi(21));return MD(s),{predicate:i,type:e,effect:s}},cW=Pp(t=>{const{type:e,predicate:n,effect:r}=lW(t);return{id:tce(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Hi(22))}}},{withTypes:()=>cW}),z3=(t,e)=>{const{type:n,effect:r,predicate:i}=lW(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},_2=t=>{t.pending.forEach(e=>{Kd(e,A2)})},vce=(t,e)=>()=>{for(const n of e.keys())_2(n);t.clear()},H3=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},uW=Pp(Ds(`${xE}/add`),{withTypes:()=>uW}),bce=Ds(`${xE}/removeAll`),hW=Pp(Ds(`${xE}/remove`),{withTypes:()=>hW}),wce=(...t)=>{console.error(`${xE}/error`,...t)},Ow=(t={})=>{const e=new Map,n=new Map,r=p=>{const g=n.get(p)??0;n.set(p,g+1)},i=p=>{const g=n.get(p)??1;g===1?n.delete(p):n.set(p,g-1)},{extra:s,onError:a=wce}=t;MD(a);const o=p=>(p.unsubscribe=()=>e.delete(p.id),e.set(p.id,p),g=>{p.unsubscribe(),g!=null&&g.cancelActive&&_2(p)}),l=p=>{const g=z3(e,p)??cW(p);return o(g)};Pp(l,{withTypes:()=>l});const c=p=>{const g=z3(e,p);return g&&(g.unsubscribe(),p.cancelActive&&_2(g)),!!g};Pp(c,{withTypes:()=>c});const u=async(p,g,y,b)=>{const v=new AbortController,S=yce(l,v.signal),w=[];try{p.pending.add(v),r(p),await Promise.resolve(p.effect(g,Pp({},y,{getOriginalState:b,condition:(T,P)=>S(T,P).then(Boolean),take:S,delay:oW(v.signal),pause:wA(v.signal),extra:s,signal:v.signal,fork:gce(v.signal,w),unsubscribe:p.unsubscribe,subscribe:()=>{e.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((T,P,O)=>{T!==v&&(Kd(T,A2),O.delete(T))})},cancel:()=>{Kd(v,A2),p.pending.delete(v)},throwIfCancelled:()=>{qd(v.signal)}})))}catch(T){T instanceof wE||H3(a,T,{raisedBy:"effect"})}finally{await Promise.all(w),Kd(v,pce),i(p),p.pending.delete(v)}},d=vce(e,n);return{middleware:p=>g=>y=>{if(!$8(y))return g(y);if(uW.match(y))return l(y.payload);if(bce.match(y)){d();return}if(hW.match(y))return c(y.payload);let b=p.getState();const v=()=>{if(b===V3)throw new Error(Hi(23));return b};let S;try{if(S=g(y),e.size>0){const w=p.getState(),T=Array.from(e.values());for(const P of T){let O=!1;try{O=P.predicate(y,w,b)}catch(C){O=!1,H3(a,C,{raisedBy:"predicate"})}O&&u(P,y,p,v)}}}finally{b=V3}return S},startListening:l,stopListening:c,clearListeners:d}};function Hi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var xce={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},dW=pi({name:"chartLayout",initialState:xce,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Sce,setLayout:Ace,setChartSize:_ce,setScale:Ece}=dW.actions,Pce=dW.reducer;function fW(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function W3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W3(Object(n),!0).forEach(function(r){Tce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tce(t,e,n){return(e=Cce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cce(t){var e=kce(t,"string");return typeof e=="symbol"?e:e+""}function kce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cn(t,e,n){return Ct(t)||Ct(e)?n:mo(e)?fg(t,e,n):typeof e=="function"?e(t):n}var Ice=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&he(t[s]))return hp(hp({},t),{},{[s]:t[s]+(r||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&he(t[a]))return hp(hp({},t),{},{[a]:t[a]+(i||0)})}return t},Gu=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",pW=(t,e,n,r)=>{if(r)return t.map(o=>o.coordinate);var i,s,a=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===n&&(s=!0),o.coordinate));return i||a.push(e),s||a.push(n),a},mW=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:a,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:f,axisType:p}=t;if(!a)return null;var g=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,y=i==="category"&&a.bandwidth?a.bandwidth()/g:0;if(y=p==="angleAxis"&&s&&s.length>=2?_s(s[0]-s[1])*2*y:y,d||f){var b=(d||f||[]).map((v,S)=>{var w=r?r.indexOf(v):v;return{coordinate:a(w)+y,value:v,offset:y,index:S}});return b.filter(v=>!po(v.coordinate))}return l&&c?c.map((v,S)=>({coordinate:a(v)+y,value:v,index:S,offset:y})):a.ticks&&u!=null?a.ticks(u).map((v,S)=>({coordinate:a(v)+y,value:v,offset:y,index:S})):a.domain().map((v,S)=>({coordinate:a(v)+y,value:r?r[v]:v,index:S,offset:y}))},G3=1e-4,Oce=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-G3,s=Math.max(r[0],r[1])+G3,a=t(e[0]),o=t(e[n-1]);(a<i||a>s||o<i||o>s)&&t.domain([e[0],e[n-1]])}},Mce=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0,a=0;a<e;++a){var o=po(t[a][n][1])?t[a][n][0]:t[a][n][1];o>=0?(t[a][n][0]=i,t[a][n][1]=i+o,i=t[a][n][1]):(t[a][n][0]=s,t[a][n][1]=s+o,s=t[a][n][1])}},Dce=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0;s<e;++s){var a=po(t[s][n][1])?t[s][n][0]:t[s][n][1];a>=0?(t[s][n][0]=i,t[s][n][1]=i+a,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},Nce={sign:Mce,expand:doe,none:dg,silhouette:foe,wiggle:poe,positive:Dce},Rce=(t,e,n)=>{var r=Nce[n],i=hoe().keys(e).value((s,a)=>Number(cn(s,a,0))).order(f2).offset(r);return i(t)};function xA(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ct(i[e.dataKey])){var o=s8(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=cn(i,Ct(a)?e.dataKey:a);return Ct(l)?null:e.scale(l)}var Lce=t=>{var e=t.flat(2).filter(he);return[Math.min(...e),Math.max(...e)]},jce=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Fce=(t,e,n)=>{if(t!=null)return jce(Object.keys(t).reduce((r,i)=>{var s=t[i],{stackedData:a}=s,o=a.reduce((l,c)=>{var u=fW(c,e,n),d=Lce(u);return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},K3=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,q3=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SA=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=fE(e,u=>u.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var l=i[a],c=i[a-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function X3(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return hp(hp({},e),{},{dataKey:n,payload:r,value:i,name:s})}function SE(t,e){if(t)return String(t);if(typeof e=="string")return e}var Bce=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},$ce=(t,e)=>e==="centric"?t.angle:t.radius,Gl=t=>t.layout.width,Kl=t=>t.layout.height,Uce=t=>t.layout.scale,gW=t=>t.layout.margin,AE=z(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),_E=z(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),yW="data-recharts-item-index",vW="data-recharts-item-data-key",Mw=60;function Y3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y3(Object(n),!0).forEach(function(r){Vce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vce(t,e,n){return(e=zce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zce(t){var e=Hce(t,"string");return typeof e=="symbol"?e:e+""}function Hce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wce=t=>t.brush.height;function Gce(t){var e=_E(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Mw;return n+i}return n},0)}function Kce(t){var e=_E(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Mw;return n+i}return n},0)}function qce(t){var e=AE(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Xce(t){var e=AE(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var cr=z([Gl,Kl,gW,Wce,Gce,Kce,qce,Xce,L8,Ale],(t,e,n,r,i,s,a,o,l,c)=>{var u={left:(n.left||0)+i,right:(n.right||0)+s},d={top:(n.top||0)+a,bottom:(n.bottom||0)+o},f=qx(qx({},d),u),p=f.bottom;f.bottom+=r,f=Ice(f,l,c);var g=t-f.left-f.right,y=e-f.top-f.bottom;return qx(qx({brushBottom:p},f),{},{width:Math.max(g,0),height:Math.max(y,0)})}),Yce=z(cr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),bW=z(Gl,Kl,(t,e)=>({x:0,y:0,width:t,height:e})),Jce=A.createContext(null),Er=()=>A.useContext(Jce)!=null,EE=t=>t.brush,PE=z([EE,cr,gW],(t,e,n)=>({height:t.height,x:he(t.x)?t.x:e.left,y:he(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:he(t.width)?t.width:e.width})),wW={},xW={},SW={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let a,o=null;const l=s!=null&&s.includes("leading"),c=s==null||s.includes("trailing"),u=()=>{o!==null&&(n.apply(a,o),a=void 0,o=null)},d=()=>{c&&u(),y()};let f=null;const p=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,d()},r)},g=()=>{f!==null&&(clearTimeout(f),f=null)},y=()=>{g(),a=void 0,o=null},b=()=>{u()},v=function(...S){if(i!=null&&i.aborted)return;a=this,o=S;const w=f==null;p(),l&&w&&u()};return v.schedule=p,v.cancel=y,v.flush=b,i==null||i.addEventListener("abort",y,{once:!0}),v}t.debounce=e})(SW);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=SW;function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:l}=s,c=Array(2);a&&(c[0]="leading"),o&&(c[1]="trailing");let u,d=null;const f=e.debounce(function(...y){u=r.apply(this,y),d=null},i,{edges:c}),p=function(...y){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(u=r.apply(this,y),d=Date.now(),f.cancel(),f.schedule(),u):(f.apply(this,y),u)},g=()=>(f.flush(),u);return p.cancel=f.cancel,p.flush=g,p}t.debounce=n})(xW);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xW;function n(r,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(r,i,{leading:a,maxWait:i,trailing:o})}t.throttle=n})(wW);var Zce=wW.throttle;const Qce=Hl(Zce);var AA=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>i[a++]))}},AW=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:a}=n,o=Nl(r)?t:Number(r),l=Nl(i)?e:Number(i);return s&&s>0&&(o?l=o/s:l&&(o=l*s),a&&l!=null&&l>a&&(l=a)),{calculatedWidth:o,calculatedHeight:l}},eue={width:0,height:0,overflow:"visible"},tue={width:0,overflowX:"visible"},nue={height:0,overflowY:"visible"},rue={},iue=t=>{var{width:e,height:n}=t,r=Nl(e),i=Nl(n);return r&&i?eue:r?tue:i?nue:rue};function sue(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function $n(t){return Number.isFinite(t)}function go(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function E2(){return E2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E2.apply(null,arguments)}function J3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J3(Object(n),!0).forEach(function(r){aue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aue(t,e,n){return(e=oue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oue(t){var e=lue(t,"string");return typeof e=="symbol"?e:e+""}function lue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _W=A.createContext({width:-1,height:-1});function cue(t){return go(t.width)&&go(t.height)}function EW(t){var{children:e,width:n,height:r}=t,i=A.useMemo(()=>({width:n,height:r}),[n,r]);return cue(i)?A.createElement(_W.Provider,{value:i},e):null}var DD=()=>A.useContext(_W),uue=A.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:a=0,minHeight:o,maxHeight:l,children:c,debounce:u=0,id:d,className:f,onResize:p,style:g={}}=t,y=A.useRef(null),b=A.useRef();b.current=p,A.useImperativeHandle(e,()=>y.current);var[v,S]=A.useState({containerWidth:r.width,containerHeight:r.height}),w=A.useCallback((k,N)=>{S(L=>{var R=Math.round(k),B=Math.round(N);return L.containerWidth===R&&L.containerHeight===B?L:{containerWidth:R,containerHeight:B}})},[]);A.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return Cw;var k=B=>{var j,{width:G,height:Z}=B[0].contentRect;w(G,Z),(j=b.current)===null||j===void 0||j.call(b,G,Z)};u>0&&(k=Qce(k,u,{trailing:!0,leading:!1}));var N=new ResizeObserver(k),{width:L,height:R}=y.current.getBoundingClientRect();return w(L,R),N.observe(y.current),()=>{N.disconnect()}},[w,u]);var{containerWidth:T,containerHeight:P}=v;AA(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:O,calculatedHeight:C}=AW(T,P,{width:i,height:s,aspect:n,maxHeight:l});return AA(O!=null&&O>0||C!=null&&C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,C,i,s,a,o,n),A.createElement("div",{id:d?"".concat(d):void 0,className:Xe("recharts-responsive-container",f),style:Z3(Z3({},g),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:l}),ref:y},A.createElement("div",{style:iue({width:i,height:s})},A.createElement(EW,{width:O,height:C},c)))}),rh=A.forwardRef((t,e)=>{var n=DD();if(go(n.width)&&go(n.height))return t.children;var{width:r,height:i}=sue({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:a}=AW(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return he(s)&&he(a)?A.createElement(EW,{width:s,height:a},t.children):A.createElement(uue,E2({},t,{width:r,height:i,ref:e}))});function PW(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Dw=()=>{var t,e=Er(),n=ue(Yce),r=ue(PE),i=(t=ue(EE))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},hue={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},TW=()=>{var t;return(t=ue(cr))!==null&&t!==void 0?t:hue},ND=()=>ue(Gl),RD=()=>ue(Kl),due=()=>ue(t=>t.layout.margin),St=t=>t.layout.layoutType,TE=()=>ue(St),fue=()=>{var t=TE();return t!==void 0},CE=t=>{var e=Ft(),n=Er(),{width:r,height:i}=t,s=DD(),a=r,o=i;return s&&(a=s.width>0?s.width:r,o=s.height>0?s.height:i),A.useEffect(()=>{!n&&go(a)&&go(o)&&e(_ce({width:a,height:o}))},[e,n,a,o]),null},CW=Symbol.for("immer-nothing"),Q3=Symbol.for("immer-draftable"),qi=Symbol.for("immer-state");function aa(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var s0=Object.getPrototypeOf;function yg(t){return!!t&&!!t[qi]}function lf(t){var e;return t?kW(t)||Array.isArray(t)||!!t[Q3]||!!((e=t.constructor)!=null&&e[Q3])||Nw(t)||IE(t):!1}var pue=Object.prototype.constructor.toString(),e4=new WeakMap;function kW(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=e4.get(n);return r===void 0&&(r=Function.toString.call(n),e4.set(n,r)),r===pue}function _A(t,e,n=!0){kE(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function kE(t){const e=t[qi];return e?e.type_:Array.isArray(t)?1:Nw(t)?2:IE(t)?3:0}function P2(t,e){return kE(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function IW(t,e,n){const r=kE(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function mue(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Nw(t){return t instanceof Map}function IE(t){return t instanceof Set}function dh(t){return t.copy_||t.base_}function T2(t,e){if(Nw(t))return new Map(t);if(IE(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=kW(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[qi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(s0(t),r)}else{const r=s0(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function LD(t,e=!1){return OE(t)||yg(t)||!lf(t)||(kE(t)>1&&Object.defineProperties(t,{set:Xx,add:Xx,clear:Xx,delete:Xx}),Object.freeze(t),e&&Object.values(t).forEach(n=>LD(n,!0))),t}function gue(){aa(2)}var Xx={value:gue};function OE(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var yue={};function cf(t){const e=yue[t];return e||aa(0,t),e}var a0;function OW(){return a0}function vue(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function t4(t,e){e&&(cf("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function C2(t){k2(t),t.drafts_.forEach(bue),t.drafts_=null}function k2(t){t===a0&&(a0=t.parent_)}function n4(t){return a0=vue(a0,t)}function bue(t){const e=t[qi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function r4(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[qi].modified_&&(C2(e),aa(4)),lf(t)&&(t=EA(e,t),e.parent_||PA(e,t)),e.patches_&&cf("Patches").generateReplacementPatches_(n[qi].base_,t,e.patches_,e.inversePatches_)):t=EA(e,n,[]),C2(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==CW?t:void 0}function EA(t,e,n){if(OE(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[qi];if(!i)return _A(e,(s,a)=>i4(t,i,e,s,a,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return PA(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,o=!1;i.type_===3&&(a=new Set(s),s.clear(),o=!0),_A(a,(l,c)=>i4(t,i,s,l,c,n,o),r),PA(t,s,!1),n&&t.patches_&&cf("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function i4(t,e,n,r,i,s,a){if(i==null||typeof i!="object"&&!a)return;const o=OE(i);if(!(o&&!a)){if(yg(i)){const l=s&&e&&e.type_!==3&&!P2(e.assigned_,r)?s.concat(r):void 0,c=EA(t,i,l);if(IW(n,r,c),yg(c))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(lf(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&o)return;EA(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Nw(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&PA(t,i)}}}function PA(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&LD(e,n)}function wue(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:OW(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=jD;n&&(i=[r],s=o0);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,o}var jD={get(t,e){if(e===qi)return t;const n=dh(t);if(!P2(n,e))return xue(t,n,e);const r=n[e];return t.finalized_||!lf(r)?r:r===jT(t.base_,e)?(FT(t),t.copy_[e]=O2(r,t)):r},has(t,e){return e in dh(t)},ownKeys(t){return Reflect.ownKeys(dh(t))},set(t,e,n){const r=MW(dh(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=jT(dh(t),e),s=i==null?void 0:i[qi];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(mue(n,i)&&(n!==void 0||P2(t.base_,e)))return!0;FT(t),I2(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return jT(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,FT(t),I2(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=dh(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){aa(11)},getPrototypeOf(t){return s0(t.base_)},setPrototypeOf(){aa(12)}},o0={};_A(jD,(t,e)=>{o0[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});o0.deleteProperty=function(t,e){return o0.set.call(this,t,e,void 0)};o0.set=function(t,e,n){return jD.set.call(this,t[0],e,n,t[0])};function jT(t,e){const n=t[qi];return(n?dh(n):t)[e]}function xue(t,e,n){var i;const r=MW(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function MW(t,e){if(!(e in t))return;let n=s0(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=s0(n)}}function I2(t){t.modified_||(t.modified_=!0,t.parent_&&I2(t.parent_))}function FT(t){t.copy_||(t.copy_=T2(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Sue=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(l=s,...c){return a.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&aa(6),r!==void 0&&typeof r!="function"&&aa(7);let i;if(lf(e)){const s=n4(this),a=O2(e,void 0);let o=!0;try{i=n(a),o=!1}finally{o?C2(s):k2(s)}return t4(s,r),r4(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===CW&&(i=void 0),this.autoFreeze_&&LD(i,!0),r){const s=[],a=[];cf("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else aa(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let r,i;return[this.produce(e,n,(a,o)=>{r=a,i=o}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){lf(t)||aa(8),yg(t)&&(t=Aue(t));const e=n4(this),n=O2(t,void 0);return n[qi].isManual_=!0,k2(e),n}finishDraft(t,e){const n=t&&t[qi];(!n||!n.isManual_)&&aa(9);const{scope_:r}=n;return t4(r,e),r4(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=cf("Patches").applyPatches_;return yg(t)?r(t,e):this.produce(t,i=>r(i,e))}};function O2(t,e){const n=Nw(t)?cf("MapSet").proxyMap_(t,e):IE(t)?cf("MapSet").proxySet_(t,e):wue(t,e);return(e?e.scope_:OW()).drafts_.push(n),n}function Aue(t){return yg(t)||aa(10,t),DW(t)}function DW(t){if(!lf(t)||OE(t))return t;const e=t[qi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=T2(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=T2(t,!0);return _A(n,(i,s)=>{IW(n,i,DW(s))},r),e&&(e.finalized_=!1),n}var _ue=new Sue;_ue.produce;var Eue={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},NW=pi({name:"legend",initialState:Eue,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Pt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=pa(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Pt()},removeLegendPayload:{reducer(t,e){var n=pa(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Pt()}}}),{setLegendSize:s4,setLegendSettings:Pue,addLegendPayload:Tue,replaceLegendPayload:Cue,removeLegendPayload:kue}=NW.actions,Iue=NW.reducer,Oue=["contextPayload"];function M2(){return M2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M2.apply(null,arguments)}function a4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a4(Object(n),!0).forEach(function(r){Mue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mue(t,e,n){return(e=Due(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Due(t){var e=Nue(t,"string");return typeof e=="symbol"?e:e+""}function Nue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rue(t,e){if(t==null)return{};var n,r,i=Lue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function jue(t){return t.value}function Fue(t){var{contextPayload:e}=t,n=Rue(t,Oue),r=E8(e,t.payloadUniqBy,jue),i=vg(vg({},n),{},{payload:r});return A.isValidElement(t.content)?A.cloneElement(t.content,i):typeof t.content=="function"?A.createElement(t.content,i):A.createElement(Voe,i)}function Bue(t,e,n,r,i,s){var{layout:a,align:o,verticalAlign:l}=e,c,u;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&a==="vertical"?c={left:((r||0)-s.width)/2}:c=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(l==="middle"?u={top:((i||0)-s.height)/2}:u=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),vg(vg({},c),u)}function $ue(t){var e=Ft();return A.useEffect(()=>{e(Pue(t))},[e,t]),null}function Uue(t){var e=Ft();return A.useEffect(()=>(e(s4(t)),()=>{e(s4({width:0,height:0}))}),[e,t]),null}function Vue(t,e,n,r){return t==="vertical"&&he(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var zue={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function uS(t){var e=Un(t,zue),n=Ple(),r=Rae(),i=due(),{width:s,height:a,wrapperStyle:o,portal:l}=e,[c,u]=j8([n]),d=ND(),f=RD();if(d==null||f==null)return null;var p=d-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),g=Vue(e.layout,a,s,p),y=l?o:vg(vg({position:"absolute",width:(g==null?void 0:g.width)||s||"auto",height:(g==null?void 0:g.height)||a||"auto"},Bue(o,e,i,d,f,c)),o),b=l??r;if(b==null||n==null)return null;var v=A.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:u},A.createElement($ue,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!l&&A.createElement(Uue,{width:c.width,height:c.height}),A.createElement(Fue,M2({},e,g,{margin:i,chartWidth:d,chartHeight:f,contextPayload:n})));return K_.createPortal(v,b)}uS.displayName="Legend";function D2(){return D2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D2.apply(null,arguments)}function o4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o4(Object(n),!0).forEach(function(r){Hue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hue(t,e,n){return(e=Wue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wue(t){var e=Gue(t,"string");return typeof e=="symbol"?e:e+""}function Gue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kue(t){return Array.isArray(t)&&mo(t[0])&&mo(t[1])?t.join(" ~ "):t}var que=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:d,accessibilityLayer:f=!1}=t,p=()=>{if(s&&s.length){var P={padding:0,margin:0},O=(o?fE(s,o):s).map((C,k)=>{if(C.type==="none")return null;var N=C.formatter||a||Kue,{value:L,name:R}=C,B=L,j=R;if(N){var G=N(L,R,C,k,s);if(Array.isArray(G))[B,j]=G;else if(G!=null)B=G;else return null}var Z=BT({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:Z},mo(j)?A.createElement("span",{className:"recharts-tooltip-item-name"},j):null,mo(j)?A.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,A.createElement("span",{className:"recharts-tooltip-item-value"},B),A.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:P},O)}return null},g=BT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),y=BT({margin:0},i),b=!Ct(u),v=b?u:"",S=Xe("recharts-default-tooltip",l),w=Xe("recharts-tooltip-label",c);b&&d&&s!==void 0&&s!==null&&(v=d(u,s));var T=f?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",D2({className:S,style:g},T),A.createElement("p",{className:w,style:y},A.isValidElement(v)?v:"".concat(v)),p())},by="recharts-tooltip-wrapper",Xue={visibility:"hidden"};function Yue(t){var{coordinate:e,translateX:n,translateY:r}=t;return Xe(by,{["".concat(by,"-right")]:he(n)&&e&&he(e.x)&&n>=e.x,["".concat(by,"-left")]:he(n)&&e&&he(e.x)&&n<e.x,["".concat(by,"-bottom")]:he(r)&&e&&he(e.y)&&r>=e.y,["".concat(by,"-top")]:he(r)&&e&&he(e.y)&&r<e.y})}function l4(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=t;if(s&&he(s[r]))return s[r];var u=n[r]-o-(i>0?i:0),d=n[r]+i;if(e[r])return a[r]?u:d;var f=l[r];if(f==null)return 0;if(a[r]){var p=u,g=f;return p<g?Math.max(d,f):Math.max(u,f)}if(c==null)return 0;var y=d+o,b=f+c;return y>b?Math.max(u,f):Math.max(d,f)}function Jue(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Zue(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:l}=t,c,u,d;return a.height>0&&a.width>0&&n?(u=l4({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=l4({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=Jue({translateX:u,translateY:d,useTranslate3d:o})):c=Xue,{cssProperties:c,cssClasses:Yue({translateX:u,translateY:d,coordinate:n})}}function c4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c4(Object(n),!0).forEach(function(r){N2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function N2(t,e,n){return(e=Que(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Que(t){var e=ehe(t,"string");return typeof e=="symbol"?e:e+""}function ehe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class the extends A.PureComponent{constructor(){super(...arguments),N2(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),N2(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:f,viewBox:p,wrapperStyle:g,lastBoundingBox:y,innerRef:b,hasPortalFromProps:v}=this.props,{cssClasses:S,cssProperties:w}=Zue({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:c,position:u,reverseDirection:d,tooltipBox:{height:y.height,width:y.width},useTranslate3d:f,viewBox:p}),T=v?{}:Yx(Yx({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),P=Yx(Yx({},T),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},g);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:S,style:P,ref:b},s)}}var RW=()=>{var t;return(t=ue(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function R2(){return R2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R2.apply(null,arguments)}function u4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u4(Object(n),!0).forEach(function(r){nhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nhe(t,e,n){return(e=rhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rhe(t){var e=ihe(t,"string");return typeof e=="symbol"?e:e+""}function ihe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var d4={curveBasisClosed:eoe,curveBasisOpen:toe,curveBasis:Qae,curveBumpX:Bae,curveBumpY:$ae,curveLinearClosed:noe,curveLinear:sE,curveMonotoneX:roe,curveMonotoneY:ioe,curveNatural:soe,curveStep:aoe,curveStepAfter:loe,curveStepBefore:ooe},TA=t=>$n(t.x)&&$n(t.y),f4=t=>t.base!=null&&TA(t.base)&&TA(t),wy=t=>t.x,xy=t=>t.y,she=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Tw(t));return(n==="curveMonotone"||n==="curveBump")&&e?d4["".concat(n).concat(e==="vertical"?"Y":"X")]:d4[n]||sE},ahe=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,a=she(e,i),o=s?n.filter(TA):n,l;if(Array.isArray(r)){var c=n.map((p,g)=>h4(h4({},p),{},{base:r[g]}));i==="vertical"?l=Vx().y(xy).x1(wy).x0(p=>p.base.x):l=Vx().x(wy).y1(xy).y0(p=>p.base.y);var u=l.defined(f4).curve(a),d=s?c.filter(f4):c;return u(d)}i==="vertical"&&he(r)?l=Vx().y(xy).x1(wy).x0(r):he(r)?l=Vx().x(wy).y1(xy).y0(r):l=W9().x(wy).y(xy);var f=l.defined(TA).curve(a);return f(o)},FD=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?ahe(t):r;return A.createElement("path",R2({},Ms(t),hD(t),{className:Xe("recharts-curve",e),d:s===null?void 0:s,ref:i}))},ohe=["x","y","top","left","width","height","className"];function L2(){return L2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L2.apply(null,arguments)}function p4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lhe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p4(Object(n),!0).forEach(function(r){che(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function che(t,e,n){return(e=uhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uhe(t){var e=hhe(t,"string");return typeof e=="symbol"?e:e+""}function hhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dhe(t,e){if(t==null)return{};var n,r,i=fhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var phe=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),mhe=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:a=0,className:o}=t,l=dhe(t,ohe),c=lhe({x:e,y:n,top:r,left:i,width:s,height:a},l);return!he(e)||!he(n)||!he(s)||!he(a)||!he(r)||!he(i)?null:A.createElement("path",L2({},zr(c),{className:Xe("recharts-cross",o),d:phe(e,n,s,a,r,i)}))};function ghe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function m4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m4(Object(n),!0).forEach(function(r){yhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yhe(t,e,n){return(e=vhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vhe(t){var e=bhe(t,"string");return typeof e=="symbol"?e:e+""}function bhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var whe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),LW=(t,e,n)=>t.map(r=>"".concat(whe(r)," ").concat(e,"ms ").concat(n)).join(","),xhe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),l0=(t,e)=>Object.keys(e).reduce((n,r)=>g4(g4({},n),{},{[r]:t(r,e[r])}),{});function y4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y4(Object(n),!0).forEach(function(r){She(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function She(t,e,n){return(e=Ahe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ahe(t){var e=_he(t,"string");return typeof e=="symbol"?e:e+""}function _he(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CA=(t,e,n)=>t+(e-t)*n,j2=t=>{var{from:e,to:n}=t;return e!==n},jW=(t,e,n)=>{var r=l0((i,s)=>{if(j2(s)){var[a,o]=t(s.from,s.to,s.velocity);return bn(bn({},s),{},{from:a,velocity:o})}return s},e);return n<1?l0((i,s)=>j2(s)?bn(bn({},s),{},{velocity:CA(s.velocity,r[i].velocity,n),from:CA(s.from,r[i].from,n)}):s,e):jW(t,r,n-1)};function Ehe(t,e,n,r,i,s){var a,o=r.reduce((f,p)=>bn(bn({},f),{},{[p]:{from:t[p],velocity:0,to:e[p]}}),{}),l=()=>l0((f,p)=>p.from,o),c=()=>!Object.values(o).filter(j2).length,u=null,d=f=>{a||(a=f);var p=f-a,g=p/n.dt;o=jW(n,o,g),i(bn(bn(bn({},t),e),l())),a=f,c()||(u=s.setTimeout(d))};return()=>(u=s.setTimeout(d),()=>{var f;(f=u)===null||f===void 0||f()})}function Phe(t,e,n,r,i,s,a){var o=null,l=i.reduce((d,f)=>bn(bn({},d),{},{[f]:[t[f],e[f]]}),{}),c,u=d=>{c||(c=d);var f=(d-c)/r,p=l0((y,b)=>CA(...b,n(f)),l);if(s(bn(bn(bn({},t),e),p)),f<1)o=a.setTimeout(u);else{var g=l0((y,b)=>CA(...b,n(1)),l);s(bn(bn(bn({},t),e),g))}};return()=>(o=a.setTimeout(u),()=>{var d;(d=o)===null||d===void 0||d()})}const The=(t,e,n,r,i,s)=>{var a=xhe(t,e);return n==null?()=>(i(bn(bn({},t),e)),()=>{}):n.isStepper===!0?Ehe(t,e,n,a,i,s):Phe(t,e,n,r,a,i,s)};var kA=1e-4,FW=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],BW=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),v4=(t,e)=>n=>{var r=FW(t,e);return BW(r,n)},Che=(t,e)=>n=>{var r=FW(t,e),i=[...r.map((s,a)=>s*a).slice(1),0];return BW(i,n)},khe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,s=n[0].split("(");if(s[0]==="cubic-bezier"&&((i=s[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var a=s[1].split(")")[0].split(",").map(o=>parseFloat(o));return[a[0],a[1],a[2],a[3]]}}}return n.length===4?n:[0,0,1,1]},Ihe=(t,e,n,r)=>{var i=v4(t,n),s=v4(e,r),a=Che(t,n),o=c=>c>1?1:c<0?0:c,l=c=>{for(var u=c>1?1:c,d=u,f=0;f<8;++f){var p=i(d)-u,g=a(d);if(Math.abs(p-u)<kA||g<kA)return s(d);d=o(d-p/g)}return s(d)};return l.isStepper=!1,l},b4=function(){return Ihe(...khe(...arguments))},Ohe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(a,o,l)=>{var c=-(a-o)*n,u=l*r,d=l+(c-u)*i/1e3,f=l*i/1e3+a;return Math.abs(f-o)<kA&&Math.abs(d)<kA?[o,0]:[f,d]};return s.isStepper=!0,s.dt=i,s},Mhe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return b4(t);case"spring":return Ohe();default:if(t.split("(")[0]==="cubic-bezier")return b4(t)}return typeof t=="function"?t:null};function Dhe(t){var e,n=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,[l,...c]=o;if(typeof l=="number"){i=t.setTimeout(s.bind(null,c),l);return}s(l),i=t.setTimeout(s.bind(null,c));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class Nhe{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function Rhe(){return Dhe(new Nhe)}var Lhe=A.createContext(Rhe);function jhe(t,e){var n=A.useContext(Lhe);return A.useMemo(()=>e??n(t),[t,e,n])}var Fhe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Rw={devToolsEnabled:!1,isSsr:Fhe()},Bhe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},w4={t:0},$T={t:1};function ME(t){var e=Un(t,Bhe),{isActive:n,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l,children:c}=e,u=n==="auto"?!Rw.isSsr:n,d=jhe(e.animationId,e.animationManager),[f,p]=A.useState(u?w4:$T),g=A.useRef(null);return A.useEffect(()=>{u||p($T)},[u]),A.useEffect(()=>{if(!u||!r)return Cw;var y=The(w4,$T,Mhe(s),i,p,d.getTimeoutController()),b=()=>{g.current=y()};return d.start([l,a,b,i,o]),()=>{d.stop(),g.current&&g.current(),o()}},[u,r,i,s,a,l,o,d]),c(f.t)}function DE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef(t0(e)),r=A.useRef(t);return r.current!==t&&(n.current=t0(e),r.current=t),n.current}var $he=["radius"],Uhe=["radius"];function x4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x4(Object(n),!0).forEach(function(r){Vhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vhe(t,e,n){return(e=zhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zhe(t){var e=Hhe(t,"string");return typeof e=="symbol"?e:e+""}function Hhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IA(){return IA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IA.apply(null,arguments)}function A4(t,e){if(t==null)return{};var n,r,i=Whe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Whe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var _4=(t,e,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,o=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,c;if(s>0&&i instanceof Array){for(var u=[0,0,0,0],d=0,f=4;d<f;d++)u[d]=i[d]>s?s:i[d];c="M".concat(t,",").concat(e+a*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(t+o*u[0],",").concat(e)),c+="L ".concat(t+n-o*u[1],",").concat(e),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(t+n,",").concat(e+a*u[1])),c+="L ".concat(t+n,",").concat(e+r-a*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(t+n-o*u[2],",").concat(e+r)),c+="L ".concat(t+o*u[3],",").concat(e+r),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(e+r-a*u[3])),c+="Z"}else if(s>0&&i===+i&&i>0){var p=Math.min(s,i);c="M ".concat(t,",").concat(e+a*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+o*p,",").concat(e,`
            L `).concat(t+n-o*p,",").concat(e,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+n,",").concat(e+a*p,`
            L `).concat(t+n,",").concat(e+r-a*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t+n-o*p,",").concat(e+r,`
            L `).concat(t+o*p,",").concat(e+r,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(t,",").concat(e+r-a*p," Z")}else c="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return c},E4={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$W=t=>{var e=Un(t,E4),n=A.useRef(null),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var W=n.current.getTotalLength();W&&i(W)}catch{}},[]);var{x:s,y:a,width:o,height:l,radius:c,className:u}=e,{animationEasing:d,animationDuration:f,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:y}=e,b=A.useRef(o),v=A.useRef(l),S=A.useRef(s),w=A.useRef(a),T=A.useMemo(()=>({x:s,y:a,width:o,height:l,radius:c}),[s,a,o,l,c]),P=DE(T,"rectangle-");if(s!==+s||a!==+a||o!==+o||l!==+l||o===0||l===0)return null;var O=Xe("recharts-rectangle",u);if(!y){var C=zr(e),{radius:k}=C,N=A4(C,$he);return A.createElement("path",IA({},N,{radius:typeof c=="number"?c:void 0,className:O,d:_4(s,a,o,l,c)}))}var L=b.current,R=v.current,B=S.current,j=w.current,G="0px ".concat(r===-1?1:r,"px"),Z="".concat(r,"px 0px"),J=LW(["strokeDasharray"],f,typeof d=="string"?d:E4.animationEasing);return A.createElement(ME,{animationId:P,key:P,canBegin:r>0,duration:f,easing:d,isActive:y,begin:p},W=>{var V=Fn(L,o,W),H=Fn(R,l,W),ne=Fn(B,s,W),fe=Fn(j,a,W);n.current&&(b.current=V,v.current=H,S.current=ne,w.current=fe);var le;g?W>0?le={transition:J,strokeDasharray:Z}:le={strokeDasharray:G}:le={strokeDasharray:Z};var ge=zr(e),{radius:ke}=ge,rt=A4(ge,Uhe);return A.createElement("path",IA({},rt,{radius:typeof c=="number"?c:void 0,className:O,d:_4(ne,fe,V,H,c),ref:n,style:S4(S4({},le),e.style)}))})};function P4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P4(Object(n),!0).forEach(function(r){Ghe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ghe(t,e,n){return(e=Khe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Khe(t){var e=qhe(t,"string");return typeof e=="symbol"?e:e+""}function qhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OA=Math.PI/180,Xhe=t=>t*180/Math.PI,ir=(t,e,n,r)=>({x:t+Math.cos(-OA*r)*n,y:e+Math.sin(-OA*r)*n}),Yhe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Jhe=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},Zhe=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,a=Jhe({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(n-i)/a,l=Math.acos(o);return r>s&&(l=2*Math.PI-l),{radius:a,angle:Xhe(l),angleInRadian:l}},Qhe=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},ede=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return t+a*360},tde=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=Zhe({x:n,y:r},e),{innerRadius:a,outerRadius:o}=e;if(i<a||i>o||i===0)return null;var{startAngle:l,endAngle:c}=Qhe(e),u=s,d;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;d=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;d=u>=c&&u<=l}return d?T4(T4({},e),{},{radius:i,angle:ede(u,e)}):null};function UW(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,a=ir(e,n,r,i),o=ir(e,n,r,s);return{points:[a,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function F2(){return F2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F2.apply(null,arguments)}var nde=(t,e)=>{var n=_s(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Jx=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:l}=t,c=o*(a?1:-1)+r,u=Math.asin(o/c)/OA,d=l?i:i+s*u,f=ir(e,n,c,d),p=ir(e,n,r,d),g=l?i-s*u:i,y=ir(e,n,c*Math.cos(u*OA),g);return{center:f,circleTangency:p,lineTangency:y,theta:u}},VW=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=t,o=nde(s,a),l=s+o,c=ir(e,n,i,s),u=ir(e,n,i,l),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(r>0){var f=ir(e,n,r,s),p=ir(e,n,r,l);d+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=l),`,
            `).concat(f.x,",").concat(f.y," Z")}else d+="L ".concat(e,",").concat(n," Z");return d},rde=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:l,endAngle:c}=t,u=_s(c-l),{circleTangency:d,lineTangency:f,theta:p}=Jx({cx:e,cy:n,radius:i,angle:l,sign:u,cornerRadius:s,cornerIsExternal:o}),{circleTangency:g,lineTangency:y,theta:b}=Jx({cx:e,cy:n,radius:i,angle:c,sign:-u,cornerRadius:s,cornerIsExternal:o}),v=o?Math.abs(l-c):Math.abs(l-c)-p-b;if(v<0)return a?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):VW({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var S="M ".concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(v>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,`
  `);if(r>0){var{circleTangency:w,lineTangency:T,theta:P}=Jx({cx:e,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:O,lineTangency:C,theta:k}=Jx({cx:e,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),N=o?Math.abs(l-c):Math.abs(l-c)-P-k;if(N<0&&s===0)return"".concat(S,"L").concat(e,",").concat(n,"Z");S+="L".concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(N>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(T.x,",").concat(T.y,"Z")}else S+="L".concat(e,",").concat(n,"Z");return S},ide={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zW=t=>{var e=Un(t,ide),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u,className:d}=e;if(s<i||c===u)return null;var f=Xe("recharts-sector",d),p=s-i,g=Lu(a,p,0,!0),y;return g>0&&Math.abs(c-u)<360?y=rde({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,p/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}):y=VW({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:u}),A.createElement("path",F2({},zr(e),{className:f,d:y}))};function sde(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(o8(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:a,angle:o}=e,l=ir(r,i,s,o),c=ir(r,i,a,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return UW(e)}}var HW={},WW={},GW={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AD;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(GW);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GW;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(WW);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_D,n=WW;function r(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),a=a===void 0?i<s?1:-1:n.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=a;return l}t.range=r})(HW);var ade=HW.range;const KW=Hl(ade);function Tu(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ode(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function BD(t){let e,n,r;t.length!==2?(e=Tu,n=(o,l)=>Tu(t(o),l),r=(o,l)=>t(o)-l):(e=t===Tu||t===ode?t:lde,n=t,r=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(o[d],l)<0?c=d+1:u=d}while(c<u)}return c}function s(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(o[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function a(o,l,c=0,u=o.length){const d=i(o,l,c,u-1);return d>c&&r(o[d-1],l)>-r(o[d],l)?d-1:d}return{left:i,center:a,right:s}}function lde(){return 0}function qW(t){return t===null?NaN:+t}function*cde(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const ude=BD(Tu),Lw=ude.right;BD(qW).center;class C4 extends Map{constructor(e,n=fde){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(k4(this,e))}has(e){return super.has(k4(this,e))}set(e,n){return super.set(hde(this,e),n)}delete(e){return super.delete(dde(this,e))}}function k4({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function hde({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function dde({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function fde(t){return t!==null&&typeof t=="object"?t.valueOf():t}function pde(t=Tu){if(t===Tu)return XW;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function XW(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const mde=Math.sqrt(50),gde=Math.sqrt(10),yde=Math.sqrt(2);function MA(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=mde?10:s>=gde?5:s>=yde?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?MA(t,e,n*2):[o,l,c]}function B2(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?MA(e,t,n):MA(t,e,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function $2(t,e,n){return e=+e,t=+t,n=+n,MA(t,e,n)[2]}function U2(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?$2(e,t,n):$2(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function I4(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function O4(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function YW(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?XW:pde(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*d/l+f)),g=Math.min(r,Math.floor(e+(l-c)*d/l+f));YW(t,e,p,g,i)}const s=t[e];let a=n,o=r;for(Sy(t,n,e),i(t[r],s)>0&&Sy(t,n,r);a<o;){for(Sy(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[n],s)===0?Sy(t,n,o):(++o,Sy(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Sy(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function vde(t,e,n){if(t=Float64Array.from(cde(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return O4(t);if(e>=1)return I4(t);var r,i=(r-1)*e,s=Math.floor(i),a=I4(YW(t,s).subarray(0,s+1)),o=O4(t.subarray(s+1));return a+(o-a)*(i-s)}}function bde(t,e,n=qW){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),o=+n(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function wde(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Ls(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ql(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const V2=Symbol("implicit");function $D(){var t=new C4,e=[],n=[],r=V2;function i(s){let a=t.get(s);if(a===void 0){if(r!==V2)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new C4;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return $D(e,n).unknown(r)},Ls.apply(i,arguments),i}function UD(){var t=$D().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var f=e().length,p=i<r,g=p?i:r,y=p?r:i;s=(y-g)/Math.max(1,f-l+c*2),o&&(s=Math.floor(s)),g+=(y-g-s*(f-l))*u,a=s*(1-l),o&&(g=Math.round(g),a=Math.round(a));var b=wde(f).map(function(v){return g+s*v});return n(p?b.reverse():b)}return t.domain=function(f){return arguments.length?(e(f),d()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,o=!0,d()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(f){return arguments.length?(o=!!f,d()):o},t.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),d()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},t.paddingOuter=function(f){return arguments.length?(c=+f,d()):c},t.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},t.copy=function(){return UD(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},Ls.apply(d(),arguments)}function JW(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return JW(e())},t}function xde(){return JW(UD.apply(null,arguments).paddingInner(1))}function VD(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ZW(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function jw(){}var c0=.7,DA=1/c0,Tp="\\s*([+-]?\\d+)\\s*",u0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",lo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Sde=/^#([0-9a-f]{3,8})$/,Ade=new RegExp(`^rgb\\(${Tp},${Tp},${Tp}\\)$`),_de=new RegExp(`^rgb\\(${lo},${lo},${lo}\\)$`),Ede=new RegExp(`^rgba\\(${Tp},${Tp},${Tp},${u0}\\)$`),Pde=new RegExp(`^rgba\\(${lo},${lo},${lo},${u0}\\)$`),Tde=new RegExp(`^hsl\\(${u0},${lo},${lo}\\)$`),Cde=new RegExp(`^hsla\\(${u0},${lo},${lo},${u0}\\)$`),M4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};VD(jw,h0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:D4,formatHex:D4,formatHex8:kde,formatHsl:Ide,formatRgb:N4,toString:N4});function D4(){return this.rgb().formatHex()}function kde(){return this.rgb().formatHex8()}function Ide(){return QW(this).formatHsl()}function N4(){return this.rgb().formatRgb()}function h0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Sde.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?R4(e):n===3?new ci(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Zx(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Zx(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ade.exec(t))?new ci(e[1],e[2],e[3],1):(e=_de.exec(t))?new ci(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ede.exec(t))?Zx(e[1],e[2],e[3],e[4]):(e=Pde.exec(t))?Zx(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Tde.exec(t))?F4(e[1],e[2]/100,e[3]/100,1):(e=Cde.exec(t))?F4(e[1],e[2]/100,e[3]/100,e[4]):M4.hasOwnProperty(t)?R4(M4[t]):t==="transparent"?new ci(NaN,NaN,NaN,0):null}function R4(t){return new ci(t>>16&255,t>>8&255,t&255,1)}function Zx(t,e,n,r){return r<=0&&(t=e=n=NaN),new ci(t,e,n,r)}function Ode(t){return t instanceof jw||(t=h0(t)),t?(t=t.rgb(),new ci(t.r,t.g,t.b,t.opacity)):new ci}function z2(t,e,n,r){return arguments.length===1?Ode(t):new ci(t,e,n,r??1)}function ci(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}VD(ci,z2,ZW(jw,{brighter(t){return t=t==null?DA:Math.pow(DA,t),new ci(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?c0:Math.pow(c0,t),new ci(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ci(Xd(this.r),Xd(this.g),Xd(this.b),NA(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:L4,formatHex:L4,formatHex8:Mde,formatRgb:j4,toString:j4}));function L4(){return`#${_h(this.r)}${_h(this.g)}${_h(this.b)}`}function Mde(){return`#${_h(this.r)}${_h(this.g)}${_h(this.b)}${_h((isNaN(this.opacity)?1:this.opacity)*255)}`}function j4(){const t=NA(this.opacity);return`${t===1?"rgb(":"rgba("}${Xd(this.r)}, ${Xd(this.g)}, ${Xd(this.b)}${t===1?")":`, ${t})`}`}function NA(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Xd(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function _h(t){return t=Xd(t),(t<16?"0":"")+t.toString(16)}function F4(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new oa(t,e,n,r)}function QW(t){if(t instanceof oa)return new oa(t.h,t.s,t.l,t.opacity);if(t instanceof jw||(t=h0(t)),!t)return new oa;if(t instanceof oa)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new oa(a,o,l,t.opacity)}function Dde(t,e,n,r){return arguments.length===1?QW(t):new oa(t,e,n,r??1)}function oa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}VD(oa,Dde,ZW(jw,{brighter(t){return t=t==null?DA:Math.pow(DA,t),new oa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?c0:Math.pow(c0,t),new oa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ci(UT(t>=240?t-240:t+120,i,r),UT(t,i,r),UT(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new oa(B4(this.h),Qx(this.s),Qx(this.l),NA(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=NA(this.opacity);return`${t===1?"hsl(":"hsla("}${B4(this.h)}, ${Qx(this.s)*100}%, ${Qx(this.l)*100}%${t===1?")":`, ${t})`}`}}));function B4(t){return t=(t||0)%360,t<0?t+360:t}function Qx(t){return Math.max(0,Math.min(1,t||0))}function UT(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const zD=t=>()=>t;function Nde(t,e){return function(n){return t+n*e}}function Rde(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Lde(t){return(t=+t)==1?e7:function(e,n){return n-e?Rde(e,n,t):zD(isNaN(e)?n:e)}}function e7(t,e){var n=e-t;return n?Nde(t,n):zD(isNaN(t)?e:t)}const $4=function t(e){var n=Lde(e);function r(i,s){var a=n((i=z2(i)).r,(s=z2(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),c=e7(i.opacity,s.opacity);return function(u){return i.r=a(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function jde(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Fde(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Bde(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Mg(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function $de(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function RA(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ude(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Mg(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var H2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,VT=new RegExp(H2.source,"g");function Vde(t){return function(){return t}}function zde(t){return function(e){return t(e)+""}}function Hde(t,e){var n=H2.lastIndex=VT.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=H2.exec(t))&&(i=VT.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:RA(r,i)})),n=VT.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?zde(l[0].x):Vde(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}function Mg(t,e){var n=typeof e,r;return e==null||n==="boolean"?zD(e):(n==="number"?RA:n==="string"?(r=h0(e))?(e=r,$4):Hde:e instanceof h0?$4:e instanceof Date?$de:Fde(e)?jde:Array.isArray(e)?Bde:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ude:RA)(t,e)}function HD(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Wde(t,e){e===void 0&&(e=t,t=Mg);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function Gde(t){return function(){return t}}function LA(t){return+t}var U4=[0,1];function Br(t){return t}function W2(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Gde(isNaN(e)?NaN:.5)}function Kde(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function qde(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=W2(i,r),s=n(a,s)):(r=W2(r,i),s=n(s,a)),function(o){return s(r(o))}}function Xde(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=W2(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var l=Lw(t,o,1,r)-1;return s[l](i[l](o))}}function Fw(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function NE(){var t=U4,e=U4,n=Mg,r,i,s,a=Br,o,l,c;function u(){var f=Math.min(t.length,e.length);return a!==Br&&(a=Kde(t[0],t[f-1])),o=f>2?Xde:qde,l=c=null,d}function d(f){return f==null||isNaN(f=+f)?s:(l||(l=o(t.map(r),e,n)))(r(a(f)))}return d.invert=function(f){return a(i((c||(c=o(e,t.map(r),RA)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,LA),u()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=HD,u()},d.clamp=function(f){return arguments.length?(a=f?!0:Br,u()):a!==Br},d.interpolate=function(f){return arguments.length?(n=f,u()):n},d.unknown=function(f){return arguments.length?(s=f,d):s},function(f,p){return r=f,i=p,u()}}function WD(){return NE()(Br,Br)}function Yde(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function jA(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function bg(t){return t=jA(Math.abs(t)),t?t[1]:NaN}function Jde(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function Zde(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Qde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function d0(t){if(!(e=Qde.exec(t)))throw new Error("invalid format: "+t);var e;return new GD({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}d0.prototype=GD.prototype;function GD(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}GD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function efe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var t7;function tfe(t,e){var n=jA(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(t7=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+jA(t,Math.max(0,e+s-1))[0]}function V4(t,e){var n=jA(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const z4={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Yde,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>V4(t*100,e),r:V4,s:tfe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function H4(t){return t}var W4=Array.prototype.map,G4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function nfe(t){var e=t.grouping===void 0||t.thousands===void 0?H4:Jde(W4.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?H4:Zde(W4.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=d0(d);var f=d.fill,p=d.align,g=d.sign,y=d.symbol,b=d.zero,v=d.width,S=d.comma,w=d.precision,T=d.trim,P=d.type;P==="n"?(S=!0,P="g"):z4[P]||(w===void 0&&(w=12),T=!0,P="g"),(b||f==="0"&&p==="=")&&(b=!0,f="0",p="=");var O=y==="$"?n:y==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",C=y==="$"?r:/[%p]/.test(P)?a:"",k=z4[P],N=/[defgprs%]/.test(P);w=w===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function L(R){var B=O,j=C,G,Z,J;if(P==="c")j=k(R)+j,R="";else{R=+R;var W=R<0||1/R<0;if(R=isNaN(R)?l:k(Math.abs(R),w),T&&(R=efe(R)),W&&+R==0&&g!=="+"&&(W=!1),B=(W?g==="("?g:o:g==="-"||g==="("?"":g)+B,j=(P==="s"?G4[8+t7/3]:"")+j+(W&&g==="("?")":""),N){for(G=-1,Z=R.length;++G<Z;)if(J=R.charCodeAt(G),48>J||J>57){j=(J===46?i+R.slice(G+1):R.slice(G))+j,R=R.slice(0,G);break}}}S&&!b&&(R=e(R,1/0));var V=B.length+R.length+j.length,H=V<v?new Array(v-V+1).join(f):"";switch(S&&b&&(R=e(H+R,H.length?v-j.length:1/0),H=""),p){case"<":R=B+R+j+H;break;case"=":R=B+H+R+j;break;case"^":R=H.slice(0,V=H.length>>1)+B+R+j+H.slice(V);break;default:R=H+B+R+j;break}return s(R)}return L.toString=function(){return d+""},L}function u(d,f){var p=c((d=d0(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(bg(f)/3)))*3,y=Math.pow(10,-g),b=G4[8+g/3];return function(v){return p(y*v)+b}}return{format:c,formatPrefix:u}}var e1,KD,n7;rfe({thousands:",",grouping:[3],currency:["$",""]});function rfe(t){return e1=nfe(t),KD=e1.format,n7=e1.formatPrefix,e1}function ife(t){return Math.max(0,-bg(Math.abs(t)))}function sfe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bg(e)/3)))*3-bg(Math.abs(t)))}function afe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,bg(e)-bg(t))+1}function r7(t,e,n,r){var i=U2(t,e,n),s;switch(r=d0(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=sfe(i,a))&&(r.precision=s),n7(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=afe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=ife(i))&&(r.precision=s-(r.type==="%")*2);break}}return KD(r)}function Ku(t){var e=t.domain;return t.ticks=function(n){var r=e();return B2(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return r7(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,c,u=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);u-- >0;){if(c=$2(a,o,n),c===l)return r[i]=a,r[s]=o,e(r);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function i7(){var t=WD();return t.copy=function(){return Fw(t,i7())},Ls.apply(t,arguments),Ku(t)}function s7(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,LA),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return s7(t).unknown(e)},t=arguments.length?Array.from(t,LA):[0,1],Ku(n)}function a7(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function K4(t){return Math.log(t)}function q4(t){return Math.exp(t)}function ofe(t){return-Math.log(-t)}function lfe(t){return-Math.exp(-t)}function cfe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ufe(t){return t===10?cfe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function hfe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function X4(t){return(e,n)=>-t(-e,n)}function qD(t){const e=t(K4,q4),n=e.domain;let r=10,i,s;function a(){return i=hfe(r),s=ufe(r),n()[0]<0?(i=X4(i),s=X4(s),t(ofe,lfe)):t(K4,q4),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let f=i(c),p=i(u),g,y;const b=o==null?10:+o;let v=[];if(!(r%1)&&p-f<b){if(f=Math.floor(f),p=Math.ceil(p),c>0){for(;f<=p;++f)for(g=1;g<r;++g)if(y=f<0?g/s(-f):g*s(f),!(y<c)){if(y>u)break;v.push(y)}}else for(;f<=p;++f)for(g=r-1;g>=1;--g)if(y=f>0?g/s(-f):g*s(f),!(y<c)){if(y>u)break;v.push(y)}v.length*2<b&&(v=B2(c,u,b))}else v=B2(f,p,Math.min(p-f,b)).map(s);return d?v.reverse():v},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=d0(l)).precision==null&&(l.trim=!0),l=KD(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return u=>{let d=u/s(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},e.nice=()=>n(a7(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function o7(){const t=qD(NE()).domain([1,10]);return t.copy=()=>Fw(t,o7()).base(t.base()),Ls.apply(t,arguments),t}function Y4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function J4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function XD(t){var e=1,n=t(Y4(e),J4(e));return n.constant=function(r){return arguments.length?t(Y4(e=+r),J4(e)):e},Ku(n)}function l7(){var t=XD(NE());return t.copy=function(){return Fw(t,l7()).constant(t.constant())},Ls.apply(t,arguments)}function Z4(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function dfe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function ffe(t){return t<0?-t*t:t*t}function YD(t){var e=t(Br,Br),n=1;function r(){return n===1?t(Br,Br):n===.5?t(dfe,ffe):t(Z4(n),Z4(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ku(e)}function JD(){var t=YD(NE());return t.copy=function(){return Fw(t,JD()).exponent(t.exponent())},Ls.apply(t,arguments),t}function pfe(){return JD.apply(null,arguments).exponent(.5)}function Q4(t){return Math.sign(t)*t*t}function mfe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function c7(){var t=WD(),e=[0,1],n=!1,r;function i(s){var a=mfe(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(Q4(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,LA)).map(Q4)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return c7(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ls.apply(i,arguments),Ku(i)}function u7(){var t=[],e=[],n=[],r;function i(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=bde(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[Lw(n,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Tu),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return u7().domain(t).range(e).unknown(r)},Ls.apply(s,arguments)}function h7(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[Lw(r,l,0,n)]:s}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return h7().domain([t,e]).range(i).unknown(s)},Ls.apply(Ku(a),arguments)}function d7(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Lw(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return d7().domain(t).range(e).unknown(n)},Ls.apply(i,arguments)}const zT=new Date,HT=new Date;function Sn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),e(s,o),t(s);while(c<s&&s<a);return l},i.filter=s=>Sn(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(zT.setTime(+s),HT.setTime(+a),t(zT),t(HT),Math.floor(n(zT,HT))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const FA=Sn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);FA.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Sn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):FA);FA.range;const yl=1e3,Es=yl*60,vl=Es*60,Ll=vl*24,ZD=Ll*7,eB=Ll*30,WT=Ll*365,Eh=Sn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*yl)},(t,e)=>(e-t)/yl,t=>t.getUTCSeconds());Eh.range;const QD=Sn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yl)},(t,e)=>{t.setTime(+t+e*Es)},(t,e)=>(e-t)/Es,t=>t.getMinutes());QD.range;const eN=Sn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Es)},(t,e)=>(e-t)/Es,t=>t.getUTCMinutes());eN.range;const tN=Sn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yl-t.getMinutes()*Es)},(t,e)=>{t.setTime(+t+e*vl)},(t,e)=>(e-t)/vl,t=>t.getHours());tN.range;const nN=Sn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*vl)},(t,e)=>(e-t)/vl,t=>t.getUTCHours());nN.range;const Bw=Sn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Es)/Ll,t=>t.getDate()-1);Bw.range;const RE=Sn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ll,t=>t.getUTCDate()-1);RE.range;const f7=Sn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ll,t=>Math.floor(t/Ll));f7.range;function _f(t){return Sn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Es)/ZD)}const LE=_f(0),BA=_f(1),gfe=_f(2),yfe=_f(3),wg=_f(4),vfe=_f(5),bfe=_f(6);LE.range;BA.range;gfe.range;yfe.range;wg.range;vfe.range;bfe.range;function Ef(t){return Sn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/ZD)}const jE=Ef(0),$A=Ef(1),wfe=Ef(2),xfe=Ef(3),xg=Ef(4),Sfe=Ef(5),Afe=Ef(6);jE.range;$A.range;wfe.range;xfe.range;xg.range;Sfe.range;Afe.range;const rN=Sn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());rN.range;const iN=Sn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());iN.range;const jl=Sn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());jl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Sn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});jl.range;const Fl=Sn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Fl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Sn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Fl.range;function p7(t,e,n,r,i,s){const a=[[Eh,1,yl],[Eh,5,5*yl],[Eh,15,15*yl],[Eh,30,30*yl],[s,1,Es],[s,5,5*Es],[s,15,15*Es],[s,30,30*Es],[i,1,vl],[i,3,3*vl],[i,6,6*vl],[i,12,12*vl],[r,1,Ll],[r,2,2*Ll],[n,1,ZD],[e,1,eB],[e,3,3*eB],[t,1,WT]];function o(c,u,d){const f=u<c;f&&([c,u]=[u,c]);const p=d&&typeof d.range=="function"?d:l(c,u,d),g=p?p.range(c,+u+1):[];return f?g.reverse():g}function l(c,u,d){const f=Math.abs(u-c)/d,p=BD(([,,b])=>b).right(a,f);if(p===a.length)return t.every(U2(c/WT,u/WT,d));if(p===0)return FA.every(Math.max(U2(c,u,d),1));const[g,y]=a[f/a[p-1][2]<a[p][2]/f?p-1:p];return g.every(y)}return[o,l]}const[_fe,Efe]=p7(Fl,iN,jE,f7,nN,eN),[Pfe,Tfe]=p7(jl,rN,LE,Bw,tN,QD);function GT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function KT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ay(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Cfe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,c=_y(i),u=Ey(i),d=_y(s),f=Ey(s),p=_y(a),g=Ey(a),y=_y(o),b=Ey(o),v=_y(l),S=Ey(l),w={a:W,A:V,b:H,B:ne,c:null,d:aB,e:aB,f:Jfe,g:ope,G:cpe,H:qfe,I:Xfe,j:Yfe,L:m7,m:Zfe,M:Qfe,p:fe,q:le,Q:cB,s:uB,S:epe,u:tpe,U:npe,V:rpe,w:ipe,W:spe,x:null,X:null,y:ape,Y:lpe,Z:upe,"%":lB},T={a:ge,A:ke,b:rt,B:it,c:null,d:oB,e:oB,f:ppe,g:_pe,G:Ppe,H:hpe,I:dpe,j:fpe,L:y7,m:mpe,M:gpe,p:ye,q:js,Q:cB,s:uB,S:ype,u:vpe,U:bpe,V:wpe,w:xpe,W:Spe,x:null,X:null,y:Ape,Y:Epe,Z:Tpe,"%":lB},P={a:L,A:R,b:B,B:j,c:G,d:iB,e:iB,f:Hfe,g:rB,G:nB,H:sB,I:sB,j:$fe,L:zfe,m:Bfe,M:Ufe,p:N,q:Ffe,Q:Gfe,s:Kfe,S:Vfe,u:Dfe,U:Nfe,V:Rfe,w:Mfe,W:Lfe,x:Z,X:J,y:rB,Y:nB,Z:jfe,"%":Wfe};w.x=O(n,w),w.X=O(r,w),w.c=O(e,w),T.x=O(n,T),T.X=O(r,T),T.c=O(e,T);function O(K,ve){return function(Ae){var X=[],Kt=-1,Ue=0,Pr=K.length,Hn,Fs,Vg;for(Ae instanceof Date||(Ae=new Date(+Ae));++Kt<Pr;)K.charCodeAt(Kt)===37&&(X.push(K.slice(Ue,Kt)),(Fs=tB[Hn=K.charAt(++Kt)])!=null?Hn=K.charAt(++Kt):Fs=Hn==="e"?" ":"0",(Vg=ve[Hn])&&(Hn=Vg(Ae,Fs)),X.push(Hn),Ue=Kt+1);return X.push(K.slice(Ue,Kt)),X.join("")}}function C(K,ve){return function(Ae){var X=Ay(1900,void 0,1),Kt=k(X,K,Ae+="",0),Ue,Pr;if(Kt!=Ae.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(ve&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(Ue=KT(Ay(X.y,0,1)),Pr=Ue.getUTCDay(),Ue=Pr>4||Pr===0?$A.ceil(Ue):$A(Ue),Ue=RE.offset(Ue,(X.V-1)*7),X.y=Ue.getUTCFullYear(),X.m=Ue.getUTCMonth(),X.d=Ue.getUTCDate()+(X.w+6)%7):(Ue=GT(Ay(X.y,0,1)),Pr=Ue.getDay(),Ue=Pr>4||Pr===0?BA.ceil(Ue):BA(Ue),Ue=Bw.offset(Ue,(X.V-1)*7),X.y=Ue.getFullYear(),X.m=Ue.getMonth(),X.d=Ue.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),Pr="Z"in X?KT(Ay(X.y,0,1)).getUTCDay():GT(Ay(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(Pr+5)%7:X.w+X.U*7-(Pr+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,KT(X)):GT(X)}}function k(K,ve,Ae,X){for(var Kt=0,Ue=ve.length,Pr=Ae.length,Hn,Fs;Kt<Ue;){if(X>=Pr)return-1;if(Hn=ve.charCodeAt(Kt++),Hn===37){if(Hn=ve.charAt(Kt++),Fs=P[Hn in tB?ve.charAt(Kt++):Hn],!Fs||(X=Fs(K,Ae,X))<0)return-1}else if(Hn!=Ae.charCodeAt(X++))return-1}return X}function N(K,ve,Ae){var X=c.exec(ve.slice(Ae));return X?(K.p=u.get(X[0].toLowerCase()),Ae+X[0].length):-1}function L(K,ve,Ae){var X=p.exec(ve.slice(Ae));return X?(K.w=g.get(X[0].toLowerCase()),Ae+X[0].length):-1}function R(K,ve,Ae){var X=d.exec(ve.slice(Ae));return X?(K.w=f.get(X[0].toLowerCase()),Ae+X[0].length):-1}function B(K,ve,Ae){var X=v.exec(ve.slice(Ae));return X?(K.m=S.get(X[0].toLowerCase()),Ae+X[0].length):-1}function j(K,ve,Ae){var X=y.exec(ve.slice(Ae));return X?(K.m=b.get(X[0].toLowerCase()),Ae+X[0].length):-1}function G(K,ve,Ae){return k(K,e,ve,Ae)}function Z(K,ve,Ae){return k(K,n,ve,Ae)}function J(K,ve,Ae){return k(K,r,ve,Ae)}function W(K){return a[K.getDay()]}function V(K){return s[K.getDay()]}function H(K){return l[K.getMonth()]}function ne(K){return o[K.getMonth()]}function fe(K){return i[+(K.getHours()>=12)]}function le(K){return 1+~~(K.getMonth()/3)}function ge(K){return a[K.getUTCDay()]}function ke(K){return s[K.getUTCDay()]}function rt(K){return l[K.getUTCMonth()]}function it(K){return o[K.getUTCMonth()]}function ye(K){return i[+(K.getUTCHours()>=12)]}function js(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var ve=O(K+="",w);return ve.toString=function(){return K},ve},parse:function(K){var ve=C(K+="",!1);return ve.toString=function(){return K},ve},utcFormat:function(K){var ve=O(K+="",T);return ve.toString=function(){return K},ve},utcParse:function(K){var ve=C(K+="",!0);return ve.toString=function(){return K},ve}}}var tB={"-":"",_:" ",0:"0"},Vn=/^\s*\d+/,kfe=/^%/,Ife=/[\\^$*+?|[\]().{}]/g;function $e(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Ofe(t){return t.replace(Ife,"\\$&")}function _y(t){return new RegExp("^(?:"+t.map(Ofe).join("|")+")","i")}function Ey(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Mfe(t,e,n){var r=Vn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Dfe(t,e,n){var r=Vn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Nfe(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Rfe(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Lfe(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function nB(t,e,n){var r=Vn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function rB(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function jfe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ffe(t,e,n){var r=Vn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Bfe(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function iB(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function $fe(t,e,n){var r=Vn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function sB(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Ufe(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Vfe(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function zfe(t,e,n){var r=Vn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Hfe(t,e,n){var r=Vn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Wfe(t,e,n){var r=kfe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Gfe(t,e,n){var r=Vn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Kfe(t,e,n){var r=Vn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function aB(t,e){return $e(t.getDate(),e,2)}function qfe(t,e){return $e(t.getHours(),e,2)}function Xfe(t,e){return $e(t.getHours()%12||12,e,2)}function Yfe(t,e){return $e(1+Bw.count(jl(t),t),e,3)}function m7(t,e){return $e(t.getMilliseconds(),e,3)}function Jfe(t,e){return m7(t,e)+"000"}function Zfe(t,e){return $e(t.getMonth()+1,e,2)}function Qfe(t,e){return $e(t.getMinutes(),e,2)}function epe(t,e){return $e(t.getSeconds(),e,2)}function tpe(t){var e=t.getDay();return e===0?7:e}function npe(t,e){return $e(LE.count(jl(t)-1,t),e,2)}function g7(t){var e=t.getDay();return e>=4||e===0?wg(t):wg.ceil(t)}function rpe(t,e){return t=g7(t),$e(wg.count(jl(t),t)+(jl(t).getDay()===4),e,2)}function ipe(t){return t.getDay()}function spe(t,e){return $e(BA.count(jl(t)-1,t),e,2)}function ape(t,e){return $e(t.getFullYear()%100,e,2)}function ope(t,e){return t=g7(t),$e(t.getFullYear()%100,e,2)}function lpe(t,e){return $e(t.getFullYear()%1e4,e,4)}function cpe(t,e){var n=t.getDay();return t=n>=4||n===0?wg(t):wg.ceil(t),$e(t.getFullYear()%1e4,e,4)}function upe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+$e(e/60|0,"0",2)+$e(e%60,"0",2)}function oB(t,e){return $e(t.getUTCDate(),e,2)}function hpe(t,e){return $e(t.getUTCHours(),e,2)}function dpe(t,e){return $e(t.getUTCHours()%12||12,e,2)}function fpe(t,e){return $e(1+RE.count(Fl(t),t),e,3)}function y7(t,e){return $e(t.getUTCMilliseconds(),e,3)}function ppe(t,e){return y7(t,e)+"000"}function mpe(t,e){return $e(t.getUTCMonth()+1,e,2)}function gpe(t,e){return $e(t.getUTCMinutes(),e,2)}function ype(t,e){return $e(t.getUTCSeconds(),e,2)}function vpe(t){var e=t.getUTCDay();return e===0?7:e}function bpe(t,e){return $e(jE.count(Fl(t)-1,t),e,2)}function v7(t){var e=t.getUTCDay();return e>=4||e===0?xg(t):xg.ceil(t)}function wpe(t,e){return t=v7(t),$e(xg.count(Fl(t),t)+(Fl(t).getUTCDay()===4),e,2)}function xpe(t){return t.getUTCDay()}function Spe(t,e){return $e($A.count(Fl(t)-1,t),e,2)}function Ape(t,e){return $e(t.getUTCFullYear()%100,e,2)}function _pe(t,e){return t=v7(t),$e(t.getUTCFullYear()%100,e,2)}function Epe(t,e){return $e(t.getUTCFullYear()%1e4,e,4)}function Ppe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?xg(t):xg.ceil(t),$e(t.getUTCFullYear()%1e4,e,4)}function Tpe(){return"+0000"}function lB(){return"%"}function cB(t){return+t}function uB(t){return Math.floor(+t/1e3)}var Nf,b7,w7;Cpe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Cpe(t){return Nf=Cfe(t),b7=Nf.format,Nf.parse,w7=Nf.utcFormat,Nf.utcParse,Nf}function kpe(t){return new Date(t)}function Ipe(t){return t instanceof Date?+t:+new Date(+t)}function sN(t,e,n,r,i,s,a,o,l,c){var u=WD(),d=u.invert,f=u.domain,p=c(".%L"),g=c(":%S"),y=c("%I:%M"),b=c("%I %p"),v=c("%a %d"),S=c("%b %d"),w=c("%B"),T=c("%Y");function P(O){return(l(O)<O?p:o(O)<O?g:a(O)<O?y:s(O)<O?b:r(O)<O?i(O)<O?v:S:n(O)<O?w:T)(O)}return u.invert=function(O){return new Date(d(O))},u.domain=function(O){return arguments.length?f(Array.from(O,Ipe)):f().map(kpe)},u.ticks=function(O){var C=f();return t(C[0],C[C.length-1],O??10)},u.tickFormat=function(O,C){return C==null?P:c(C)},u.nice=function(O){var C=f();return(!O||typeof O.range!="function")&&(O=e(C[0],C[C.length-1],O??10)),O?f(a7(C,O)):u},u.copy=function(){return Fw(u,sN(t,e,n,r,i,s,a,o,l,c))},u}function Ope(){return Ls.apply(sN(Pfe,Tfe,jl,rN,LE,Bw,tN,QD,Eh,b7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Mpe(){return Ls.apply(sN(_fe,Efe,Fl,iN,jE,RE,nN,eN,Eh,w7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function FE(){var t=0,e=1,n,r,i,s,a=Br,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(s(d)-n)*i,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(a=d,c):a};function u(d){return function(f){var p,g;return arguments.length?([p,g]=f,a=d(p,g),c):[a(0),a(1)]}}return c.range=u(Mg),c.rangeRound=u(HD),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return s=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),c}}function qu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function x7(){var t=Ku(FE()(Br));return t.copy=function(){return qu(t,x7())},ql.apply(t,arguments)}function S7(){var t=qD(FE()).domain([1,10]);return t.copy=function(){return qu(t,S7()).base(t.base())},ql.apply(t,arguments)}function A7(){var t=XD(FE());return t.copy=function(){return qu(t,A7()).constant(t.constant())},ql.apply(t,arguments)}function aN(){var t=YD(FE());return t.copy=function(){return qu(t,aN()).exponent(t.exponent())},ql.apply(t,arguments)}function Dpe(){return aN.apply(null,arguments).exponent(.5)}function _7(){var t=[],e=Br;function n(r){if(r!=null&&!isNaN(r=+r))return e((Lw(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Tu),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>vde(t,s/r))},n.copy=function(){return _7(e).domain(t)},ql.apply(n,arguments)}function BE(){var t=0,e=.5,n=1,r=1,i,s,a,o,l,c=Br,u,d=!1,f;function p(y){return isNaN(y=+y)?f:(y=.5+((y=+u(y))-s)*(r*y<r*s?o:l),c(d?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,n]=y,i=u(t=+t),s=u(e=+e),a=u(n=+n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,p):[t,e,n]},p.clamp=function(y){return arguments.length?(d=!!y,p):d},p.interpolator=function(y){return arguments.length?(c=y,p):c};function g(y){return function(b){var v,S,w;return arguments.length?([v,S,w]=b,c=Wde(y,[v,S,w]),p):[c(0),c(.5),c(1)]}}return p.range=g(Mg),p.rangeRound=g(HD),p.unknown=function(y){return arguments.length?(f=y,p):f},function(y){return u=y,i=y(t),s=y(e),a=y(n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,p}}function E7(){var t=Ku(BE()(Br));return t.copy=function(){return qu(t,E7())},ql.apply(t,arguments)}function P7(){var t=qD(BE()).domain([.1,1,10]);return t.copy=function(){return qu(t,P7()).base(t.base())},ql.apply(t,arguments)}function T7(){var t=XD(BE());return t.copy=function(){return qu(t,T7()).constant(t.constant())},ql.apply(t,arguments)}function oN(){var t=YD(BE());return t.copy=function(){return qu(t,oN()).exponent(t.exponent())},ql.apply(t,arguments)}function Npe(){return oN.apply(null,arguments).exponent(.5)}const ev=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:UD,scaleDiverging:E7,scaleDivergingLog:P7,scaleDivergingPow:oN,scaleDivergingSqrt:Npe,scaleDivergingSymlog:T7,scaleIdentity:s7,scaleImplicit:V2,scaleLinear:i7,scaleLog:o7,scaleOrdinal:$D,scalePoint:xde,scalePow:JD,scaleQuantile:u7,scaleQuantize:h7,scaleRadial:c7,scaleSequential:x7,scaleSequentialLog:S7,scaleSequentialPow:aN,scaleSequentialQuantile:_7,scaleSequentialSqrt:Dpe,scaleSequentialSymlog:A7,scaleSqrt:pfe,scaleSymlog:l7,scaleThreshold:d7,scaleTime:Ope,scaleUtc:Mpe,tickFormat:r7},Symbol.toStringTag,{value:"Module"}));var Xu=t=>t.chartData,Rpe=z([Xu],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),$E=(t,e,n,r)=>r?Rpe(t):Xu(t);function ju(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if($n(e)&&$n(n))return!0}return!1}function hB(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function C7(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if($n(n))i=n;else if(typeof n=="function")return;if($n(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(ju(a))return a}}function Lpe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(ju(r))return hB(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,o;if(i==="auto")e!=null&&(a=Math.min(...e));else if(he(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&K3.test(i)){var l=K3.exec(i);if(l==null||e==null)a=void 0;else{var c=+l[1];a=e[0]-c}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(he(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&q3.test(s)){var u=q3.exec(s);if(u==null||e==null)o=void 0;else{var d=+u[1];o=e[1]+d}}else o=e==null?void 0:e[1];var f=[a,o];if(ju(f))return e==null?f:hB(f,e,n)}}}var Dg=1e9,jpe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},cN,It=!0,Ns="[DecimalError] ",Yd=Ns+"Invalid argument: ",lN=Ns+"Exponent out of range: ",Ng=Math.floor,fh=Math.pow,Fpe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Bi,Ln=1e7,wt=7,k7=9007199254740991,UA=Ng(k7/wt),oe={};oe.absoluteValue=oe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};oe.comparedTo=oe.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};oe.decimalPlaces=oe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*wt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};oe.dividedBy=oe.div=function(t){return Sl(this,new this.constructor(t))};oe.dividedToIntegerBy=oe.idiv=function(t){var e=this,n=e.constructor;return ht(Sl(e,new n(t),0,1),n.precision)};oe.equals=oe.eq=function(t){return!this.cmp(t)};oe.exponent=function(){return un(this)};oe.greaterThan=oe.gt=function(t){return this.cmp(t)>0};oe.greaterThanOrEqualTo=oe.gte=function(t){return this.cmp(t)>=0};oe.isInteger=oe.isint=function(){return this.e>this.d.length-2};oe.isNegative=oe.isneg=function(){return this.s<0};oe.isPositive=oe.ispos=function(){return this.s>0};oe.isZero=function(){return this.s===0};oe.lessThan=oe.lt=function(t){return this.cmp(t)<0};oe.lessThanOrEqualTo=oe.lte=function(t){return this.cmp(t)<1};oe.logarithm=oe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Bi))throw Error(Ns+"NaN");if(n.s<1)throw Error(Ns+(n.s?"NaN":"-Infinity"));return n.eq(Bi)?new r(0):(It=!1,e=Sl(f0(n,s),f0(t,s),s),It=!0,ht(e,i))};oe.minus=oe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?M7(e,t):I7(e,(t.s=-t.s,t))};oe.modulo=oe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ns+"NaN");return n.s?(It=!1,e=Sl(n,t,0,1).times(t),It=!0,n.minus(e)):ht(new r(n),i)};oe.naturalExponential=oe.exp=function(){return O7(this)};oe.naturalLogarithm=oe.ln=function(){return f0(this)};oe.negated=oe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};oe.plus=oe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?I7(e,t):M7(e,(t.s=-t.s,t))};oe.precision=oe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Yd+t);if(e=un(i)+1,r=i.d.length-1,n=r*wt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};oe.squareRoot=oe.sqrt=function(){var t,e,n,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ns+"NaN")}for(t=un(o),It=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=no(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ng((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(s=r,r=s.plus(Sl(o,s,a+2)).times(.5),no(s.d).slice(0,a)===(e=no(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(ht(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return It=!0,ht(r,n)};oe.times=oe.mul=function(t){var e,n,r,i,s,a,o,l,c,u=this,d=u.constructor,f=u.d,p=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,n=u.e+t.e,l=f.length,c=p.length,l<c&&(s=f,f=p,p=s,a=l,l=c,c=a),s=[],a=l+c,r=a;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+p[r]*f[i-r-1]+e,s[i--]=o%Ln|0,e=o/Ln|0;s[i]=(s[i]+e)%Ln|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,It?ht(t,d.precision):t};oe.toDecimalPlaces=oe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(yo(t,0,Dg),e===void 0?e=r.rounding:yo(e,0,8),ht(n,t+un(n)+1,e))};oe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=uf(r,!0):(yo(t,0,Dg),e===void 0?e=i.rounding:yo(e,0,8),r=ht(new i(r),t+1,e),n=uf(r,!0,t+1)),n};oe.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?uf(i):(yo(t,0,Dg),e===void 0?e=s.rounding:yo(e,0,8),r=ht(new s(i),t+un(i)+1,e),n=uf(r.abs(),!1,t+un(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};oe.toInteger=oe.toint=function(){var t=this,e=t.constructor;return ht(new e(t),un(t)+1,e.rounding)};oe.toNumber=function(){return+this};oe.toPower=oe.pow=function(t){var e,n,r,i,s,a,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Bi);if(o=new l(o),!o.s){if(t.s<1)throw Error(Ns+"Infinity");return o}if(o.eq(Bi))return o;if(r=l.precision,t.eq(Bi))return ht(o,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=o.s,a){if((n=u<0?-u:u)<=k7){for(i=new l(Bi),e=Math.ceil(r/wt+4),It=!1;n%2&&(i=i.times(o),fB(i.d,e)),n=Ng(n/2),n!==0;)o=o.times(o),fB(o.d,e);return It=!0,t.s<0?new l(Bi).div(i):ht(i,r)}}else if(s<0)throw Error(Ns+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,It=!1,i=t.times(f0(o,r+c)),It=!0,i=O7(i),i.s=s,i};oe.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=un(i),r=uf(i,n<=s.toExpNeg||n>=s.toExpPos)):(yo(t,1,Dg),e===void 0?e=s.rounding:yo(e,0,8),i=ht(new s(i),t,e),n=un(i),r=uf(i,t<=n||n<=s.toExpNeg,t)),r};oe.toSignificantDigits=oe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(yo(t,1,Dg),e===void 0?e=r.rounding:yo(e,0,8)),ht(new r(n),t,e)};oe.toString=oe.valueOf=oe.val=oe.toJSON=oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=un(t),n=t.constructor;return uf(t,e<=n.toExpNeg||e>=n.toExpPos)};function I7(t,e){var n,r,i,s,a,o,l,c,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),It?ht(e,d):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=c.length):(r=c,i=a,o=l.length),a=Math.ceil(d/wt),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/Ln|0,l[s]%=Ln;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,It?ht(e,d):e}function yo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Yd+t)}function no(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=wt-r.length,n&&(s+=pc(n)),s+=r;a=t[e],r=a+"",n=wt-r.length,n&&(s+=pc(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Sl=function(){function t(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%Ln|0,a=s/Ln|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*Ln+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,c,u,d,f,p,g,y,b,v,S,w,T,P,O,C,k,N=r.constructor,L=r.s==i.s?1:-1,R=r.d,B=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(Ns+"Division by zero");for(l=r.e-i.e,C=B.length,P=R.length,p=new N(L),g=p.d=[],c=0;B[c]==(R[c]||0);)++c;if(B[c]>(R[c]||0)&&--l,s==null?S=s=N.precision:a?S=s+(un(r)-un(i))+1:S=s,S<0)return new N(0);if(S=S/wt+2|0,c=0,C==1)for(u=0,B=B[0],S++;(c<P||u)&&S--;c++)w=u*Ln+(R[c]||0),g[c]=w/B|0,u=w%B|0;else{for(u=Ln/(B[0]+1)|0,u>1&&(B=t(B,u),R=t(R,u),C=B.length,P=R.length),T=C,y=R.slice(0,C),b=y.length;b<C;)y[b++]=0;k=B.slice(),k.unshift(0),O=B[0],B[1]>=Ln/2&&++O;do u=0,o=e(B,y,C,b),o<0?(v=y[0],C!=b&&(v=v*Ln+(y[1]||0)),u=v/O|0,u>1?(u>=Ln&&(u=Ln-1),d=t(B,u),f=d.length,b=y.length,o=e(d,y,f,b),o==1&&(u--,n(d,C<f?k:B,f))):(u==0&&(o=u=1),d=B.slice()),f=d.length,f<b&&d.unshift(0),n(y,d,b),o==-1&&(b=y.length,o=e(B,y,C,b),o<1&&(u++,n(y,C<b?k:B,b))),b=y.length):o===0&&(u++,y=[0]),g[c++]=u,o&&y[0]?y[b++]=R[T]||0:(y=[R[T]],b=1);while((T++<P||y[0]!==void 0)&&S--)}return g[0]||g.shift(),p.e=l,ht(p,a?s+un(p)+1:s)}}();function O7(t,e){var n,r,i,s,a,o,l=0,c=0,u=t.constructor,d=u.precision;if(un(t)>16)throw Error(lN+un(t));if(!t.s)return new u(Bi);for(It=!1,o=d,a=new u(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(fh(2,c))/Math.LN10*2+5|0,o+=r,n=i=s=new u(Bi),u.precision=o;;){if(i=ht(i.times(t),o),n=n.times(++l),a=s.plus(Sl(i,n,o)),no(a.d).slice(0,o)===no(s.d).slice(0,o)){for(;c--;)s=ht(s.times(s),o);return u.precision=d,e==null?(It=!0,ht(s,d)):s}s=a}}function un(t){for(var e=t.e*wt,n=t.d[0];n>=10;n/=10)e++;return e}function qT(t,e,n){if(e>t.LN10.sd())throw It=!0,n&&(t.precision=n),Error(Ns+"LN10 precision limit exceeded");return ht(new t(t.LN10),e)}function pc(t){for(var e="";t--;)e+="0";return e}function f0(t,e){var n,r,i,s,a,o,l,c,u,d=1,f=10,p=t,g=p.d,y=p.constructor,b=y.precision;if(p.s<1)throw Error(Ns+(p.s?"NaN":"-Infinity"));if(p.eq(Bi))return new y(0);if(e==null?(It=!1,c=b):c=e,p.eq(10))return e==null&&(It=!0),qT(y,c);if(c+=f,y.precision=c,n=no(g),r=n.charAt(0),s=un(p),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=no(p.d),r=n.charAt(0),d++;s=un(p),r>1?(p=new y("0."+n),s++):p=new y(r+"."+n.slice(1))}else return l=qT(y,c+2,b).times(s+""),p=f0(new y(r+"."+n.slice(1)),c-f).plus(l),y.precision=b,e==null?(It=!0,ht(p,b)):p;for(o=a=p=Sl(p.minus(Bi),p.plus(Bi),c),u=ht(p.times(p),c),i=3;;){if(a=ht(a.times(u),c),l=o.plus(Sl(a,new y(i),c)),no(l.d).slice(0,c)===no(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(qT(y,c+2,b).times(s+""))),o=Sl(o,new y(d),c),y.precision=b,e==null?(It=!0,ht(o,b)):o;o=l,i+=2}}function dB(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ng(n/wt),t.d=[],r=(n+1)%wt,n<0&&(r+=wt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=wt;r<i;)t.d.push(+e.slice(r,r+=wt));e=e.slice(r),r=wt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),It&&(t.e>UA||t.e<-UA))throw Error(lN+n)}else t.s=0,t.e=0,t.d=[0];return t}function ht(t,e,n){var r,i,s,a,o,l,c,u,d=t.d;for(a=1,s=d[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=wt,i=e,c=d[u=0];else{if(u=Math.ceil((r+1)/wt),s=d.length,u>=s)return t;for(c=s=d[u],a=1;s>=10;s/=10)a++;r%=wt,i=r-wt+a}if(n!==void 0&&(s=fh(10,a-i-1),o=c/s%10|0,l=e<0||d[u+1]!==void 0||c%s,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/fh(10,a-i):0:d[u-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(s=un(t),d.length=1,e=e-s-1,d[0]=fh(10,(wt-e%wt)%wt),t.e=Ng(-e/wt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=u,s=1,u--):(d.length=u+1,s=fh(10,wt-r),d[u]=i>0?(c/fh(10,a-i)%fh(10,i)|0)*s:0),l)for(;;)if(u==0){(d[0]+=s)==Ln&&(d[0]=1,++t.e);break}else{if(d[u]+=s,d[u]!=Ln)break;d[u--]=0,s=1}for(r=d.length;d[--r]===0;)d.pop();if(It&&(t.e>UA||t.e<-UA))throw Error(lN+un(t));return t}function M7(t,e){var n,r,i,s,a,o,l,c,u,d,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),It?ht(e,p):e;if(l=t.d,d=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(u=a<0,u?(n=l,a=-a,o=d.length):(n=d,r=c,o=l.length),i=Math.max(Math.ceil(p/wt),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=d.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}a=0}for(u&&(n=l,l=d,d=n,e.s=-e.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(s=i;s&&l[--s]===0;)l[s]=Ln-1;--l[s],l[i]+=Ln}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,It?ht(e,p):e):new f(0)}function uf(t,e,n){var r,i=un(t),s=no(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+pc(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+pc(-i-1)+s,n&&(r=n-a)>0&&(s+=pc(r))):i>=a?(s+=pc(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+pc(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=pc(r))),t.s<0?"-"+s:s}function fB(t,e){if(t.length>e)return t.length=e,!0}function D7(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Yd+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return dB(a,s.toString())}else if(typeof s!="string")throw Error(Yd+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,Fpe.test(s))dB(a,s);else throw Error(Yd+s)}if(i.prototype=oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=D7,i.config=i.set=Bpe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Bpe(t){if(!t||typeof t!="object")throw Error(Ns+"Object expected");var e,n,r,i=["precision",1,Dg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ng(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Yd+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Yd+n+": "+r);return this}var cN=D7(jpe);Bi=new cN(1);const Ke=cN;var $pe=t=>t,N7={},R7=t=>t===N7,pB=t=>function e(){return arguments.length===0||arguments.length===1&&R7(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},L7=(t,e)=>t===1?e:pB(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(a=>a!==N7).length;return s>=t?e(...r):L7(t-s,pB(function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var c=r.map(u=>R7(u)?o.shift():u);return e(...c,...o)}))}),Upe=t=>L7(t.length,t),G2=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Vpe=Upe((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),zpe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return $pe;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,l)=>l(o),s(...arguments))}},K2=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function j7(t){var e;return t===0?e=1:e=Math.floor(new Ke(t).abs().log(10).toNumber())+1,e}function F7(t,e,n){for(var r=new Ke(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var B7=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},$7=(t,e,n)=>{if(t.lte(0))return new Ke(0);var r=j7(t.toNumber()),i=new Ke(10).pow(r),s=t.div(i),a=r!==1?.05:.1,o=new Ke(Math.ceil(s.div(a).toNumber())).add(n).mul(a),l=o.mul(i);return e?new Ke(l.toNumber()):new Ke(Math.ceil(l.toNumber()))},Hpe=(t,e,n)=>{var r=new Ke(1),i=new Ke(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Ke(10).pow(j7(t)-1),i=new Ke(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Ke(Math.floor(t)))}else t===0?i=new Ke(Math.floor((e-1)/2)):n||(i=new Ke(Math.floor(t)));var a=Math.floor((e-1)/2),o=zpe(Vpe(l=>i.add(new Ke(l-a).mul(r)).toNumber()),G2);return o(0,e)},U7=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ke(0),tickMin:new Ke(0),tickMax:new Ke(0)};var a=$7(new Ke(n).sub(e).div(r-1),i,s),o;e<=0&&n>=0?o=new Ke(0):(o=new Ke(e).add(n).div(2),o=o.sub(new Ke(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new Ke(n).sub(o).div(a).toNumber()),u=l+c+1;return u>r?U7(e,n,r,i,s+1):(u<r&&(c=n>0?c+(r-u):c,l=n>0?l:l+(r-u)),{step:a,tickMin:o.sub(new Ke(l).mul(a)),tickMax:o.add(new Ke(c).mul(a))})},Wpe=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[o,l]=B7([n,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...G2(0,i-1).map(()=>1/0)]:[...G2(0,i-1).map(()=>-1/0),l];return n>r?K2(c):c}if(o===l)return Hpe(o,i,s);var{step:u,tickMin:d,tickMax:f}=U7(o,l,a,s,0),p=F7(d,f.add(new Ke(.1).mul(u)),u);return n>r?K2(p):p},Gpe=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=B7([r,i]);if(a===-1/0||o===1/0)return[r,i];if(a===o)return[a];var l=Math.max(n,2),c=$7(new Ke(o).sub(a).div(l-1),s,0),u=[...F7(new Ke(a),new Ke(o),c),o];return s===!1&&(u=u.map(d=>Math.round(d))),r>i?K2(u):u},Kpe=t=>t.rootProps.barCategoryGap,UE=t=>t.rootProps.stackOffset,V7=t=>t.rootProps.reverseStackOrder,uN=t=>t.options.chartName,hN=t=>t.rootProps.syncId,z7=t=>t.rootProps.syncMethod,dN=t=>t.options.eventEmitter,sr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},dl={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ji={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},VE=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},qpe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:dl.angleAxisId,includeHidden:!1,name:void 0,reversed:dl.reversed,scale:dl.scale,tick:dl.tick,tickCount:void 0,ticks:void 0,type:dl.type,unit:void 0},Xpe={allowDataOverflow:ji.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ji.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ji.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ji.scale,tick:ji.tick,tickCount:ji.tickCount,ticks:void 0,type:ji.type,unit:void 0},Ype={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:dl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:dl.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:dl.scale,tick:dl.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Jpe={allowDataOverflow:ji.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ji.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ji.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ji.scale,tick:ji.tick,tickCount:ji.tickCount,ticks:void 0,type:"category",unit:void 0},fN=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Ype:qpe,pN=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Jpe:Xpe,zE=t=>t.polarOptions,mN=z([Gl,Kl,cr],Yhe),H7=z([zE,mN],(t,e)=>{if(t!=null)return Lu(t.innerRadius,e,0)}),W7=z([zE,mN],(t,e)=>{if(t!=null)return Lu(t.outerRadius,e,e*.8)}),Zpe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},G7=z([zE],Zpe);z([fN,G7],VE);var K7=z([mN,H7,W7],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});z([pN,K7],VE);var q7=z([St,zE,H7,W7,Gl,Kl],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:o,startAngle:l,endAngle:c}=e;return{cx:Lu(a,i,i/2),cy:Lu(o,s,s/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),An=(t,e)=>e,HE=(t,e,n)=>n;function X7(t){return t==null?void 0:t.id}function Y7(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,a=new Map;return t.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var u=X7(o);c.forEach((d,f)=>{var p=s==null||i?f:String(cn(d,s,null)),g=cn(d,o.dataKey,0),y;a.has(p)?y=a.get(p):y={},Object.assign(y,{[u]:g}),a.set(p,y)})}}),Array.from(a.values())}function gN(t){return t.stackId!=null&&t.dataKey!=null}var WE=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function GE(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Qpe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var _n=t=>{var e=St(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Rg=t=>t.tooltip.settings.axisId;function mB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mB(Object(n),!0).forEach(function(r){eme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eme(t,e,n){return(e=tme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tme(t){var e=nme(t,"string");return typeof e=="symbol"?e:e+""}function nme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var q2=[0,"auto"],Tn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},J7=(t,e)=>t.cartesianAxis.xAxis[e],Xl=(t,e)=>{var n=J7(t,e);return n??Tn},Cn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:q2,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Mw},Z7=(t,e)=>t.cartesianAxis.yAxis[e],Yl=(t,e)=>{var n=Z7(t,e);return n??Cn},Q7={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},yN=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Q7},qr=(t,e,n)=>{switch(e){case"xAxis":return Xl(t,n);case"yAxis":return Yl(t,n);case"zAxis":return yN(t,n);case"angleAxis":return fN(t,n);case"radiusAxis":return pN(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},rme=(t,e,n)=>{switch(e){case"xAxis":return Xl(t,n);case"yAxis":return Yl(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},$w=(t,e,n)=>{switch(e){case"xAxis":return Xl(t,n);case"yAxis":return Yl(t,n);case"angleAxis":return fN(t,n);case"radiusAxis":return pN(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},eG=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function tG(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var vN=t=>t.graphicalItems.cartesianItems,ime=z([An,HE],tG),nG=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Uw=z([vN,qr,ime],nG,{memoizeOptions:{resultEqualityCheck:GE}}),rG=z([Uw],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(gN)),iG=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),sme=z([Uw],iG),sG=t=>t.map(e=>e.data).filter(Boolean).flat(1),ame=z([Uw],sG,{memoizeOptions:{resultEqualityCheck:GE}}),aG=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},bN=z([ame,$E],aG),oG=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:cn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:cn(i,r)}))):t.map(r=>({value:r})),KE=z([bN,qr,Uw],oG);function lG(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function hS(t){if(mo(t)||t instanceof Date){var e=Number(t);if($n(e))return e}}function gB(t){if(Array.isArray(t)){var e=[hS(t[0]),hS(t[1])];return ju(e)?e:void 0}var n=hS(t);if(n!=null)return[n,n]}function Bl(t){return t.map(hS).filter(voe)}function ome(t,e,n){return!n||typeof e!="number"||po(e)?[]:n.length?Bl(n.flatMap(r=>{var i=cn(t,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!$n(s)||!$n(a)))return[e-s,e+a]})):[]}var En=t=>{var e=_n(t),n=Rg(t);return $w(t,e,n)},Vw=z([En],t=>t==null?void 0:t.dataKey),lme=z([rG,$E,En],Y7),cG=(t,e,n,r)=>{var i={},s=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),i);return Object.fromEntries(Object.entries(s).map(a=>{var[o,l]=a,c=r?[...l].reverse():l,u=c.map(X7);return[o,{stackedData:Rce(t,u,n),graphicalItems:c}]}))},cme=z([lme,rG,UE,V7],cG),uG=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var a=Fce(t,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},ume=z([qr],t=>t.allowDataOverflow),wN=t=>{var e;if(t==null||!("domain"in t))return q2;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Bl(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:q2},hG=z([qr],wN),dG=z([hG,ume],C7),hme=z([cme,Xu,An,dG],uG,{memoizeOptions:{resultEqualityCheck:WE}}),xN=t=>t.errorBars,dme=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>lG(n,r)),zA=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},fG=(t,e,n,r,i)=>{var s,a;if(n.length>0&&t.forEach(o=>{n.forEach(l=>{var c,u,d=(c=r[l.id])===null||c===void 0?void 0:c.filter(v=>lG(i,v)),f=cn(o,(u=e.dataKey)!==null&&u!==void 0?u:l.dataKey),p=ome(o,f,d);if(p.length>=2){var g=Math.min(...p),y=Math.max(...p);(s==null||g<s)&&(s=g),(a==null||y>a)&&(a=y)}var b=gB(f);b!=null&&(s=s==null?b[0]:Math.min(s,b[0]),a=a==null?b[1]:Math.max(a,b[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(o=>{var l=gB(cn(o,e.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),$n(s)&&$n(a))return[s,a]},fme=z([bN,qr,sme,xN,An],fG,{memoizeOptions:{resultEqualityCheck:WE}});function pme(t){var{value:e}=t;if(mo(e)||e instanceof Date)return e}var mme=(t,e,n)=>{var r=t.map(pme).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&i8(r))?KW(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},pG=t=>t.referenceElements.dots,Lg=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),gme=z([pG,An,HE],Lg),mG=t=>t.referenceElements.areas,yme=z([mG,An,HE],Lg),gG=t=>t.referenceElements.lines,vme=z([gG,An,HE],Lg),yG=(t,e)=>{var n=Bl(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},bme=z(gme,An,yG),vG=(t,e)=>{var n=Bl(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},wme=z([yme,An],vG);function xme(t){var e;if(t.x!=null)return Bl([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Bl(n)}function Sme(t){var e;if(t.y!=null)return Bl([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Bl(n)}var bG=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?xme(r):Sme(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Ame=z([vme,An],bG),_me=z(bme,Ame,wme,(t,e,n)=>zA(t,n,e)),wG=(t,e,n,r,i,s,a,o)=>{if(n!=null)return n;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",c=l?zA(r,s,i):zA(s,i);return Lpe(e,c,t.allowDataOverflow)},Eme=z([qr,hG,dG,hme,fme,_me,St,An],wG,{memoizeOptions:{resultEqualityCheck:WE}}),Pme=[0,1],xG=(t,e,n,r,i,s,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:o,type:l}=t,c=Gu(e,s);if(c&&o==null){var u;return KW(0,(u=n==null?void 0:n.length)!==null&&u!==void 0?u:0)}return l==="category"?mme(r,t,c):i==="expand"?Pme:a}},SN=z([qr,St,bN,KE,UE,An,Eme],xG),SG=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(Tw(s));return o in ev?o:"point"}}},zw=z([qr,St,eG,uN,An],SG);function Tme(t){if(t!=null){if(t in ev)return ev[t]();var e="scale".concat(Tw(t));if(e in ev)return ev[e]()}}function AN(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Tme(e);if(i!=null){var s=i.domain(n).range(r);return Oce(s),s}}}var AG=(t,e,n)=>{var r=wN(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ju(t))return Wpe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ju(t))return Gpe(t,e.tickCount,e.allowDecimals)}},_N=z([SN,$w,zw],AG),_G=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&ju(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],a=e[1],o=n[n.length-1];return[Math.min(i,s),Math.max(a,o)]}return e},Cme=z([qr,SN,_N,An],_G),kme=z(KE,qr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Bl(t.map(o=>o.value))).sort((o,l)=>o-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var a=r[s+1]-r[s];n=Math.min(n,a)}return n/i}}),EG=z(kme,St,Kpe,cr,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!$n(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=Lu(n,t*s),o=t*s/2;return o-a-(o-a)/s*a}return 0}),Ime=(t,e)=>{var n=Xl(t,e);return n==null||typeof n.padding!="string"?0:EG(t,"xAxis",e,n.padding)},Ome=(t,e)=>{var n=Yl(t,e);return n==null||typeof n.padding!="string"?0:EG(t,"yAxis",e,n.padding)},Mme=z(Xl,Ime,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Dme=z(Yl,Ome,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Nme=z([cr,Mme,PE,EE,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),Rme=z([cr,St,Dme,PE,EE,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Hw=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Nme(t,n,r);case"yAxis":return Rme(t,n,r);case"zAxis":return(i=yN(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return G7(t);case"radiusAxis":return K7(t,n);default:return}},PG=z([qr,Hw],VE),jg=z([qr,zw,Cme,PG],AN);z([Uw,xN,An],dme);function TG(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var qE=(t,e)=>e,XE=(t,e,n)=>n,Lme=z(AE,qE,XE,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(TG)),jme=z(_E,qE,XE,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(TG)),CG=(t,e)=>({width:t.width,height:e.height}),Fme=(t,e)=>{var n=typeof e.width=="number"?e.width:Mw;return{width:n,height:t.height}},Bme=z(cr,Xl,CG),$me=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Ume=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Vme=z(Kl,cr,Lme,qE,XE,(t,e,n,r,i)=>{var s={},a;return n.forEach(o=>{var l=CG(e,o);a==null&&(a=$me(e,r,t));var c=r==="top"&&!i||r==="bottom"&&i;s[o.id]=a-Number(c)*l.height,a+=(c?-1:1)*l.height}),s}),zme=z(Gl,cr,jme,qE,XE,(t,e,n,r,i)=>{var s={},a;return n.forEach(o=>{var l=Fme(e,o);a==null&&(a=Ume(e,r,t));var c=r==="left"&&!i||r==="right"&&i;s[o.id]=a-Number(c)*l.width,a+=(c?-1:1)*l.width}),s}),Hme=(t,e)=>{var n=Xl(t,e);if(n!=null)return Vme(t,n.orientation,n.mirror)},Wme=z([cr,Xl,Hme,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Gme=(t,e)=>{var n=Yl(t,e);if(n!=null)return zme(t,n.orientation,n.mirror)},Kme=z([cr,Yl,Gme,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),qme=z(cr,Yl,(t,e)=>{var n=typeof e.width=="number"?e.width:Mw;return{width:n,height:t.height}}),kG=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=n,o=Gu(t,r),l=e.map(c=>c.value);if(a&&o&&s==="category"&&i&&i8(l))return l}},EN=z([St,KE,qr,An],kG),IG=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,a=Gu(t,r);if(a&&(i==="number"||s!=="auto"))return e.map(o=>o.value)}},PN=z([St,KE,$w,An],IG),yB=z([St,rme,zw,jg,EN,PN,Hw,_N,An],(t,e,n,r,i,s,a,o,l)=>{if(e!=null){var c=Gu(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:i,isCategorical:c,niceTicks:o,range:a,realScaleType:n,scale:r}}}),Xme=(t,e,n,r,i,s,a,o,l)=>{if(!(e==null||r==null)){var c=Gu(t,l),{type:u,ticks:d,tickCount:f}=e,p=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,g=u==="category"&&r.bandwidth?r.bandwidth()/p:0;g=l==="angleAxis"&&s!=null&&s.length>=2?_s(s[0]-s[1])*2*g:g;var y=d||i;if(y){var b=y.map((v,S)=>{var w=a?a.indexOf(v):v;return{index:S,coordinate:r(w)+g,value:v,offset:g}});return b.filter(v=>$n(v.coordinate))}return c&&o?o.map((v,S)=>({coordinate:r(v)+g,value:v,index:S,offset:g})).filter(v=>$n(v.coordinate)):r.ticks?r.ticks(f).map(v=>({coordinate:r(v)+g,value:v,offset:g})):r.domain().map((v,S)=>({coordinate:r(v)+g,value:a?a[v]:v,index:S,offset:g}))}},OG=z([St,$w,zw,jg,_N,Hw,EN,PN,An],Xme),Yme=(t,e,n,r,i,s,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var o=Gu(t,a),{tickCount:l}=e,c=0;return c=a==="angleAxis"&&(r==null?void 0:r.length)>=2?_s(r[0]-r[1])*2*c:c,o&&s?s.map((u,d)=>({coordinate:n(u)+c,value:u,index:d,offset:c})):n.ticks?n.ticks(l).map(u=>({coordinate:n(u)+c,value:u,offset:c})):n.domain().map((u,d)=>({coordinate:n(u)+c,value:i?i[u]:u,index:d,offset:c}))}},YE=z([St,$w,jg,Hw,EN,PN,An],Yme),JE=z(qr,jg,(t,e)=>{if(!(t==null||e==null))return VA(VA({},t),{},{scale:e})}),Jme=z([qr,zw,SN,PG],AN),Zme=z((t,e,n)=>yN(t,n),Jme,(t,e)=>{if(!(t==null||e==null))return VA(VA({},t),{},{scale:e})}),Qme=z([St,AE,_E],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),MG=t=>t.options.defaultTooltipEventType,DG=t=>t.options.validateTooltipEventTypes;function NG(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function TN(t,e){var n=MG(t),r=DG(t);return NG(e,n,r)}function ege(t){return ue(e=>TN(e,t))}var RG=(t,e)=>{var n,r=Number(e);if(!(po(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},tge=t=>t.tooltip.settings,bc={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},nge={itemInteraction:{click:bc,hover:bc},axisInteraction:{click:bc,hover:bc},keyboardInteraction:bc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},LG=pi({name:"tooltip",initialState:nge,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Pt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=pa(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Pt()},removeTooltipEntrySettings:{reducer(t,e){var n=pa(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Pt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:rge,replaceTooltipEntrySettings:ige,removeTooltipEntrySettings:sge,setTooltipSettingsState:age,setActiveMouseOverItemIndex:jG,mouseLeaveItem:oge,mouseLeaveChart:FG,setActiveClickItemIndex:lge,setMouseOverAxisIndex:BG,setMouseClickAxisIndex:cge,setSyncInteraction:X2,setKeyboardInteraction:Y2}=LG.actions,uge=LG.reducer;function vB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vB(Object(n),!0).forEach(function(r){hge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hge(t,e,n){return(e=dge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dge(t){var e=fge(t,"string");return typeof e=="symbol"?e:e+""}function fge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pge(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function mge(t){return t.index!=null}var $G=(t,e,n,r)=>{if(e==null)return bc;var i=pge(t,e,n);if(i==null)return bc;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(mge(i)){if(s)return t1(t1({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return t1(t1({},bc),{},{coordinate:i.coordinate})};function gge(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function yge(t,e){var n=gge(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),a=Math.max(r,i);return n>=s&&n<=a}function vge(t,e,n){if(n==null||e==null)return!0;var r=cn(t,e);return r==null||!ju(n)?!0:yge(r,n)}var CN=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var s=Number(i);if(!$n(s))return i;var a=0,o=1/0;e.length>0&&(o=e.length-1);var l=Math.max(a,Math.min(s,o)),c=e[l];return c==null||vge(c,n,r)?String(l):null},UG=(t,e,n,r,i,s,a,o)=>{if(!(s==null||o==null)){var l=a[0],c=l==null?void 0:o(l.positions,s);if(c!=null)return c;var u=i==null?void 0:i[Number(s)];if(u)switch(n){case"horizontal":return{x:u.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:u.coordinate}}}},VG=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},Ww=t=>t.options.tooltipPayloadSearcher,Fg=t=>t.tooltip;function bB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bB(Object(n),!0).forEach(function(r){bge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bge(t,e,n){return(e=wge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wge(t){var e=xge(t,"string");return typeof e=="symbol"?e:e+""}function xge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sge(t,e){return t??e}var zG=(t,e,n,r,i,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=n,d=[];return t.reduce((f,p)=>{var g,{dataDefinedOnItem:y,settings:b}=p,v=Sge(y,o),S=Array.isArray(v)?fW(v,c,u):v,w=(g=b==null?void 0:b.dataKey)!==null&&g!==void 0?g:r,T=b==null?void 0:b.nameKey,P;if(r&&Array.isArray(S)&&!Array.isArray(S[0])&&a==="axis"?P=s8(S,r,i):P=s(S,e,l,T),Array.isArray(P))P.forEach(C=>{var k=wB(wB({},b),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});f.push(X3({tooltipEntrySettings:k,dataKey:C.dataKey,payload:C.payload,value:cn(C.payload,C.dataKey),name:C.name}))});else{var O;f.push(X3({tooltipEntrySettings:b,dataKey:w,payload:P,value:cn(P,w),name:(O=cn(P,T))!==null&&O!==void 0?O:b==null?void 0:b.name}))}return f},d)}},kN=z([En,St,eG,uN,_n],SG),Age=z([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),_ge=z([_n,Rg],tG),Gw=z([Age,En,_ge],nG,{memoizeOptions:{resultEqualityCheck:GE}}),Ege=z([Gw],t=>t.filter(gN)),Pge=z([Gw],sG,{memoizeOptions:{resultEqualityCheck:GE}}),Bg=z([Pge,Xu],aG),Tge=z([Ege,Xu,En],Y7),IN=z([Bg,En,Gw],oG),HG=z([En],wN),Cge=z([En],t=>t.allowDataOverflow),WG=z([HG,Cge],C7),kge=z([Gw],t=>t.filter(gN)),Ige=z([Tge,kge,UE,V7],cG),Oge=z([Ige,Xu,_n,WG],uG),Mge=z([Gw],iG),Dge=z([Bg,En,Mge,xN,_n],fG,{memoizeOptions:{resultEqualityCheck:WE}}),Nge=z([pG,_n,Rg],Lg),Rge=z([Nge,_n],yG),Lge=z([mG,_n,Rg],Lg),jge=z([Lge,_n],vG),Fge=z([gG,_n,Rg],Lg),Bge=z([Fge,_n],bG),$ge=z([Rge,Bge,jge],zA),Uge=z([En,HG,WG,Oge,Dge,$ge,St,_n],wG),Kw=z([En,St,Bg,IN,UE,_n,Uge],xG),Vge=z([Kw,En,kN],AG),zge=z([En,Kw,Vge,_n],_G),GG=t=>{var e=_n(t),n=Rg(t),r=!1;return Hw(t,e,n,r)},KG=z([En,GG],VE),qG=z([En,kN,zge,KG],AN),Hge=z([St,IN,En,_n],kG),Wge=z([St,IN,En,_n],IG),Gge=(t,e,n,r,i,s,a,o)=>{if(e){var{type:l}=e,c=Gu(t,o);if(r){var u=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,d=l==="category"&&r.bandwidth?r.bandwidth()/u:0;return d=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?_s(i[0]-i[1])*2*d:d,c&&a?a.map((f,p)=>({coordinate:r(f)+d,value:f,index:p,offset:d})):r.domain().map((f,p)=>({coordinate:r(f)+d,value:s?s[f]:f,index:p,offset:d}))}}},Jl=z([St,En,kN,qG,GG,Hge,Wge,_n],Gge),ON=z([MG,DG,tge],(t,e,n)=>NG(n.shared,t,e)),XG=t=>t.tooltip.settings.trigger,MN=t=>t.tooltip.settings.defaultIndex,qw=z([Fg,ON,XG,MN],$G),Sg=z([qw,Bg,Vw,Kw],CN),YG=z([Jl,Sg],RG),Kge=z([qw],t=>{if(t)return t.dataKey});z([qw],t=>{if(t)return t.graphicalItemId});var JG=z([Fg,ON,XG,MN],VG),qge=z([Gl,Kl,St,cr,Jl,MN,JG,Ww],UG),Xge=z([qw,qge],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Yge=z([qw],t=>t.active),Jge=z([JG,Sg,Xu,Vw,YG,Ww,ON],zG),Zge=z([Jge],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function xB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xB(Object(n),!0).forEach(function(r){Qge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qge(t,e,n){return(e=eye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eye(t){var e=tye(t,"string");return typeof e=="symbol"?e:e+""}function tye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nye=()=>ue(En),rye=()=>{var t=nye(),e=ue(Jl),n=ue(qG);return SA(!t||!n?void 0:SB(SB({},t),{},{scale:n}),e)};function AB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AB(Object(n),!0).forEach(function(r){iye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iye(t,e,n){return(e=sye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sye(t){var e=aye(t,"string");return typeof e=="symbol"?e:e+""}function aye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oye=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},lye=(t,e,n,r)=>{var i=e.find(c=>c&&c.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:a}=r;return Rf(Rf(Rf({},r),ir(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:l}=r;return Rf(Rf(Rf({},r),ir(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function cye(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var ZG=(t,e,n,r,i)=>{var s,a=-1,o=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(o<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?n[l-1].coordinate:n[o-1].coordinate,u=n[l].coordinate,d=l>=o-1?n[0].coordinate:n[l+1].coordinate,f=void 0;if(_s(u-c)!==_s(d-u)){var p=[];if(_s(d-u)===_s(i[1]-i[0])){f=d;var g=u+i[1]-i[0];p[0]=Math.min(g,(g+c)/2),p[1]=Math.max(g,(g+c)/2)}else{f=c;var y=d+i[1]-i[0];p[0]=Math.min(u,(y+u)/2),p[1]=Math.max(u,(y+u)/2)}var b=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(t>b[0]&&t<=b[1]||t>=p[0]&&t<=p[1]){({index:a}=n[l]);break}}else{var v=Math.min(c,d),S=Math.max(c,d);if(t>(v+u)/2&&t<=(S+u)/2){({index:a}=n[l]);break}}}else if(e){for(var w=0;w<o;w++)if(w===0&&t<=(e[w].coordinate+e[w+1].coordinate)/2||w>0&&w<o-1&&t>(e[w].coordinate+e[w-1].coordinate)/2&&t<=(e[w].coordinate+e[w+1].coordinate)/2||w===o-1&&t>(e[w].coordinate+e[w-1].coordinate)/2){({index:a}=e[w]);break}}return a},uye=()=>ue(uN),DN=(t,e)=>e,QG=(t,e,n)=>n,NN=(t,e,n,r)=>r,hye=z(Jl,t=>fE(t,e=>e.coordinate)),RN=z([Fg,DN,QG,NN],$G),LN=z([RN,Bg,Vw,Kw],CN),dye=(t,e,n)=>{if(e!=null){var r=Fg(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},eK=z([Fg,DN,QG,NN],VG),HA=z([Gl,Kl,St,cr,Jl,NN,eK,Ww],UG),fye=z([RN,HA],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),tK=z([Jl,LN],RG),pye=z([eK,LN,Xu,Vw,tK,Ww,DN],zG),mye=z([RN,LN],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),gye=(t,e,n,r,i,s,a)=>{if(!(!t||!n||!r||!i)&&cye(t,a)){var o=Bce(t,e),l=ZG(o,s,i,n,r),c=oye(e,i,l,t);return{activeIndex:String(l),activeCoordinate:c}}},yye=(t,e,n,r,i,s,a)=>{if(!(!t||!r||!i||!s||!n)){var o=tde(t,n);if(o){var l=$ce(o,e),c=ZG(l,a,s,r,i),u=lye(e,s,c,o);return{activeIndex:String(c),activeCoordinate:u}}}},vye=(t,e,n,r,i,s,a,o)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?gye(t,e,r,i,s,a,o):yye(t,e,n,r,i,s,a)},bye=z(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),wye=z(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(sr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Qpe}});function _B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_B(Object(n),!0).forEach(function(r){xye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_B(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xye(t,e,n){return(e=Sye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sye(t){var e=Aye(t,"string");return typeof e=="symbol"?e:e+""}function Aye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _ye={},Eye={zIndexMap:Object.values(sr).reduce((t,e)=>EB(EB({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),_ye)},Pye=new Set(Object.values(sr));function Tye(t){return Pye.has(t)}var nK=pi({name:"zIndex",initialState:Eye,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Pt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Tye(n)&&delete t.zIndexMap[n])},prepare:Pt()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Pt()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:Pt()}}}),{registerZIndexPortal:Cye,unregisterZIndexPortal:kye,registerZIndexPortalId:Iye,unregisterZIndexPortalId:Oye}=nK.actions,Mye=nK.reducer;function wa(t){var{zIndex:e,children:n}=t,r=fue(),i=r&&e!==void 0&&e!==0,s=Er(),a=Ft();A.useLayoutEffect(()=>i?(a(Cye({zIndex:e})),()=>{a(kye({zIndex:e}))}):Cw,[a,e,i]);var o=ue(c=>bye(c,e,s));if(!i)return n;if(!o)return null;var l=document.getElementById(o);return l?K_.createPortal(n,l):null}function J2(){return J2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J2.apply(null,arguments)}function PB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PB(Object(n),!0).forEach(function(r){Dye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dye(t,e,n){return(e=Nye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nye(t){var e=Rye(t,"string");return typeof e=="symbol"?e:e+""}function Rye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lye(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return A.isValidElement(e)?A.cloneElement(e,r):A.createElement(n,r)}function jye(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:c,chartName:u}=t,d=n,f=r,p=i;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var g,y,b;if(u==="ScatterChart")g=d,y=mhe,b=sr.cursorLine;else if(u==="BarChart")g=ghe(o,d,s,a),y=$W,b=sr.cursorRectangle;else if(o==="radial"&&o8(d)){var{cx:v,cy:S,radius:w,startAngle:T,endAngle:P}=UW(d);g={cx:v,cy:S,startAngle:T,endAngle:P,innerRadius:w,outerRadius:w},y=zW,b=sr.cursorLine}else g={points:sde(o,d,s)},y=FD,b=sr.cursorLine;var O=typeof l=="object"&&"className"in l?l.className:void 0,C=n1(n1(n1(n1({stroke:"#ccc",pointerEvents:"none"},s),g),Pw(l)),{},{payload:f,payloadIndex:p,className:Xe("recharts-tooltip-cursor",O)});return A.createElement(wa,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:b},A.createElement(Lye,{cursor:l,cursorComp:y,cursorProps:C}))}function Fye(t){var e=rye(),n=TW(),r=TE(),i=uye();return e==null||n==null||r==null||i==null?null:A.createElement(jye,J2({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var rK=A.createContext(null),Bye=()=>A.useContext(rK),iK={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,d||l,f),g=n?n+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,g=new Array(p);f<p;f++)g[f]=d[f].fn;return g},o.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,u,d,f,p,g){var y=n?n+c:c;if(!this._events[y])return!1;var b=this._events[y],v=arguments.length,S,w;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),v){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,u),!0;case 3:return b.fn.call(b.context,u,d),!0;case 4:return b.fn.call(b.context,u,d,f),!0;case 5:return b.fn.call(b.context,u,d,f,p),!0;case 6:return b.fn.call(b.context,u,d,f,p,g),!0}for(w=1,S=new Array(v-1);w<v;w++)S[w-1]=arguments[w];b.fn.apply(b.context,S)}else{var T=b.length,P;for(w=0;w<T;w++)switch(b[w].once&&this.removeListener(c,b[w].fn,void 0,!0),v){case 1:b[w].fn.call(b[w].context);break;case 2:b[w].fn.call(b[w].context,u);break;case 3:b[w].fn.call(b[w].context,u,d);break;case 4:b[w].fn.call(b[w].context,u,d,f);break;default:if(!S)for(P=1,S=new Array(v-1);P<v;P++)S[P-1]=arguments[P];b[w].fn.apply(b[w].context,S)}}return!0},o.prototype.on=function(c,u,d){return s(this,c,u,d,!1)},o.prototype.once=function(c,u,d){return s(this,c,u,d,!0)},o.prototype.removeListener=function(c,u,d,f){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!f||g.once)&&(!d||g.context===d)&&a(this,p);else{for(var y=0,b=[],v=g.length;y<v;y++)(g[y].fn!==u||f&&!g[y].once||d&&g[y].context!==d)&&b.push(g[y]);b.length?this._events[p]=b.length===1?b[0]:b:a(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(iK);var $ye=iK.exports;const Uye=Hl($ye);var p0=new Uye,Z2="recharts.syncEvent.tooltip",TB="recharts.syncEvent.brush";function jN(t,e){if(e){var n=Number.parseInt(e,10);if(!po(n))return t==null?void 0:t[n]}}var Vye={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},sK=pi({name:"options",initialState:Vye,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),zye=sK.reducer,{createEventEmitter:Hye}=sK.actions;function Wye(t){return t.tooltip.syncInteraction}var Gye={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},aK=pi({name:"chartData",initialState:Gye,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:CB,setDataStartEndIndexes:Kye,setComputedData:fTe}=aK.actions,qye=aK.reducer,Xye=["x","y"];function kB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kB(Object(n),!0).forEach(function(r){Yye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yye(t,e,n){return(e=Jye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jye(t){var e=Zye(t,"string");return typeof e=="symbol"?e:e+""}function Zye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qye(t,e){if(t==null)return{};var n,r,i=eve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tve(){var t=ue(hN),e=ue(dN),n=Ft(),r=ue(z7),i=ue(Jl),s=TE(),a=Dw(),o=ue(l=>l.rootProps.className);A.useEffect(()=>{if(t==null)return Cw;var l=(c,u,d)=>{if(e!==d&&t===c){if(r==="index"){var f;if(a&&u!==null&&u!==void 0&&(f=u.payload)!==null&&f!==void 0&&f.coordinate&&u.payload.sourceViewBox){var p=u.payload.coordinate,{x:g,y}=p,b=Qye(p,Xye),{x:v,y:S,width:w,height:T}=u.payload.sourceViewBox,P=Lf(Lf({},b),{},{x:a.x+(w?(g-v)/w:0)*a.width,y:a.y+(T?(y-S)/T:0)*a.height});n(Lf(Lf({},u),{},{payload:Lf(Lf({},u.payload),{},{coordinate:P})}))}else n(u);return}if(i!=null){var O;if(typeof r=="function"){var C={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},k=r(i,C);O=i[k]}else r==="value"&&(O=i.find(J=>String(J.value)===u.payload.label));var{coordinate:N}=u.payload;if(O==null||u.payload.active===!1||N==null||a==null){n(X2({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:L,y:R}=N,B=Math.min(L,a.x+a.width),j=Math.min(R,a.y+a.height),G={x:s==="horizontal"?O.coordinate:B,y:s==="horizontal"?j:O.coordinate},Z=X2({active:u.payload.active,coordinate:G,dataKey:u.payload.dataKey,index:String(O.index),label:u.payload.label,sourceViewBox:u.payload.sourceViewBox,graphicalItemId:u.payload.graphicalItemId});n(Z)}}};return p0.on(Z2,l),()=>{p0.off(Z2,l)}},[o,n,e,t,r,i,s,a])}function nve(){var t=ue(hN),e=ue(dN),n=Ft();A.useEffect(()=>{if(t==null)return Cw;var r=(i,s,a)=>{e!==a&&t===i&&n(Kye(s))};return p0.on(TB,r),()=>{p0.off(TB,r)}},[n,e,t])}function rve(){var t=Ft();A.useEffect(()=>{t(Hye())},[t]),tve(),nve()}function ive(t,e,n,r,i,s){var a=ue(p=>dye(p,t,e)),o=ue(dN),l=ue(hN),c=ue(z7),u=ue(Wye),d=u==null?void 0:u.active,f=Dw();A.useEffect(()=>{if(!d&&l!=null&&o!=null){var p=X2({active:s,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:f,graphicalItemId:void 0});p0.emit(Z2,l,p,o)}},[d,n,a,i,r,o,l,c,s,f])}function IB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IB(Object(n),!0).forEach(function(r){sve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sve(t,e,n){return(e=ave(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ave(t){var e=ove(t,"string");return typeof e=="symbol"?e:e+""}function ove(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lve(t){return t.dataKey}function cve(t,e){return A.isValidElement(t)?A.cloneElement(t,e):typeof t=="function"?A.createElement(t,e):A.createElement(que,e)}var MB=[],uve={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ih(t){var e,n,r=Un(t,uve),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:o,content:l,filterNull:c,isAnimationActive:u,offset:d,payloadUniqBy:f,position:p,reverseDirection:g,useTranslate3d:y,wrapperStyle:b,cursor:v,shared:S,trigger:w,defaultIndex:T,portal:P,axisId:O}=r,C=Ft(),k=typeof T=="number"?String(T):T;A.useEffect(()=>{C(age({shared:S,trigger:w,axisId:O,active:i,defaultIndex:k}))},[C,S,w,O,i,k]);var N=Dw(),L=RW(),R=ege(S),{activeIndex:B,isActive:j}=(e=ue(ye=>mye(ye,R,w,k)))!==null&&e!==void 0?e:{},G=ue(ye=>pye(ye,R,w,k)),Z=ue(ye=>tK(ye,R,w,k)),J=ue(ye=>fye(ye,R,w,k)),W=G,V=Bye(),H=(n=i??j)!==null&&n!==void 0?n:!1,[ne,fe]=j8([W,H]),le=R==="axis"?Z:void 0;ive(R,w,J,le,B,H);var ge=P??V;if(ge==null||N==null||R==null)return null;var ke=W??MB;H||(ke=MB),c&&ke.length&&(ke=E8(ke.filter(ye=>ye.value!=null&&(ye.hide!==!0||r.includeHidden)),f,lve));var rt=ke.length>0,it=A.createElement(the,{allowEscapeViewBox:s,animationDuration:a,animationEasing:o,isAnimationActive:u,active:H,coordinate:J,hasPayload:rt,offset:d,position:p,reverseDirection:g,useTranslate3d:y,viewBox:N,wrapperStyle:b,lastBoundingBox:ne,innerRef:fe,hasPortalFromProps:!!P},cve(l,OB(OB({},r),{},{payload:ke,label:le,active:H,activeIndex:B,coordinate:J,accessibilityLayer:L})));return A.createElement(A.Fragment,null,K_.createPortal(it,ge),H&&A.createElement(Fye,{cursor:v,tooltipEventType:R,coordinate:J,payload:ke,index:B}))}var oK=t=>null;oK.displayName="Cell";function hve(t,e,n){return(e=dve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dve(t){var e=fve(t,"string");return typeof e=="symbol"?e:e+""}function fve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class pve{constructor(e){hve(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function DB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mve(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DB(Object(n),!0).forEach(function(r){gve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gve(t,e,n){return(e=yve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yve(t){var e=vve(t,"string");return typeof e=="symbol"?e:e+""}function vve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bve={cacheSize:2e3,enableCache:!0},lK=mve({},bve),NB=new pve(lK.cacheSize),wve={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},RB="recharts_measurement_span";function xve(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var LB=(t,e)=>{try{var n=document.getElementById(RB);n||(n=document.createElement("span"),n.setAttribute("id",RB),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,wve,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},vv=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Rw.isSsr)return{width:0,height:0};if(!lK.enableCache)return LB(e,n);var r=xve(e,n),i=NB.get(r);if(i)return i;var s=LB(e,n);return NB.set(r,s),s},jB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,FB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Sve=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ave=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_ve=Object.keys(cK),dp="NaN";function Eve(t,e){return t*cK[e]}class si{static parse(e){var n,[,r,i]=(n=Ave.exec(e))!==null&&n!==void 0?n:[];return new si(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,po(e)&&(this.unit=""),n!==""&&!Sve.test(n)&&(this.num=NaN,this.unit=""),_ve.includes(n)&&(this.num=Eve(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new si(NaN,""):new si(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new si(NaN,""):new si(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new si(NaN,""):new si(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new si(NaN,""):new si(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return po(this.num)}}function uK(t){if(t.includes(dp))return dp;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=jB.exec(e))!==null&&n!==void 0?n:[],a=si.parse(r??""),o=si.parse(s??""),l=i==="*"?a.multiply(o):a.divide(o);if(l.isNaN())return dp;e=e.replace(jB,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,u,d,f]=(c=FB.exec(e))!==null&&c!==void 0?c:[],p=si.parse(u??""),g=si.parse(f??""),y=d==="+"?p.add(g):p.subtract(g);if(y.isNaN())return dp;e=e.replace(FB,y.toString())}return e}var BB=/\(([^()]*)\)/;function Pve(t){for(var e=t,n;(n=BB.exec(e))!=null;){var[,r]=n;e=e.replace(BB,uK(r))}return e}function Tve(t){var e=t.replace(/\s+/g,"");return e=Pve(e),e=uK(e),e}function Cve(t){try{return Tve(t)}catch{return dp}}function XT(t){var e=Cve(t.slice(5,-1));return e===dp?"":e}var kve=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Ive=["dx","dy","angle","className","breakAll"];function Q2(){return Q2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q2.apply(null,arguments)}function $B(t,e){if(t==null)return{};var n,r,i=Ove(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ove(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hK=/[ \f\n\r\t\v\u2028\u2029]+/,dK=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Ct(e)||(n?i=e.toString().split(""):i=e.toString().split(hK));var s=i.map(o=>({word:o,width:vv(o,r).width})),a=n?0:vv("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function Mve(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var fK=(t,e,n,r)=>t.reduce((i,s)=>{var{word:a,width:o}=s,l=i[i.length-1];if(l&&o!=null&&(e==null||r||l.width+o+n<Number(e)))l.words.push(a),l.width+=o+n;else{var c={words:[a],width:o};i.push(c)}return i},[]),pK=t=>t.reduce((e,n)=>e.width>n.width?e:n),Dve="",UB=(t,e,n,r,i,s,a,o)=>{var l=t.slice(0,e),c=dK({breakAll:n,style:r,children:l+Dve});if(!c)return[!1,[]];var u=fK(c.wordsWithComputedWidth,s,a,o),d=u.length>i||pK(u).width>Number(s);return[d,u]},Nve=(t,e,n,r,i)=>{var{maxLines:s,children:a,style:o,breakAll:l}=t,c=he(s),u=String(a),d=fK(e,r,n,i);if(!c||i)return d;var f=d.length>s||pK(d).width>Number(r);if(!f)return d;for(var p=0,g=u.length-1,y=0,b;p<=g&&y<=u.length-1;){var v=Math.floor((p+g)/2),S=v-1,[w,T]=UB(u,S,l,o,s,r,n,i),[P]=UB(u,v,l,o,s,r,n,i);if(!w&&!P&&(p=v+1),w&&P&&(g=v-1),!w&&P){b=T;break}y++}return b||d},VB=t=>{var e=Ct(t)?[]:t.toString().split(hK);return[{words:e,width:void 0}]},Rve=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:a}=t;if((e||n)&&!Rw.isSsr){var o,l,c=dK({breakAll:s,children:r,style:i});if(c){var{wordsWithComputedWidth:u,spaceWidth:d}=c;o=u,l=d}else return VB(r);return Nve({breakAll:s,children:r,maxLines:a,style:i},o,l,e,!!n)}return VB(r)},mK="#808080",Lve={angle:0,breakAll:!1,capHeight:"0.71em",fill:mK,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},FN=A.forwardRef((t,e)=>{var n=Un(t,Lve),{x:r,y:i,lineHeight:s,capHeight:a,fill:o,scaleToFit:l,textAnchor:c,verticalAnchor:u}=n,d=$B(n,kve),f=A.useMemo(()=>Rve({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:p,dy:g,angle:y,className:b,breakAll:v}=d,S=$B(d,Ive);if(!mo(r)||!mo(i)||f.length===0)return null;var w=Number(r)+(he(p)?p:0),T=Number(i)+(he(g)?g:0);if(!$n(w)||!$n(T))return null;var P;switch(u){case"start":P=XT("calc(".concat(a,")"));break;case"middle":P=XT("calc(".concat((f.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:P=XT("calc(".concat(f.length-1," * -").concat(s,")"));break}var O=[];if(l){var C=f[0].width,{width:k}=d;O.push("scale(".concat(he(k)&&he(C)?k/C:1,")"))}return y&&O.push("rotate(".concat(y,", ").concat(w,", ").concat(T,")")),O.length&&(S.transform=O.join(" ")),A.createElement("text",Q2({},zr(S),{ref:e,x:w,y:T,className:Xe("recharts-text",b),textAnchor:c,fill:o.includes("url")?mK:o}),f.map((N,L)=>{var R=N.words.join(v?"":" ");return A.createElement("tspan",{x:w,dy:L===0?P:s,key:"".concat(R,"-").concat(L)},R)}))});FN.displayName="Text";var jve=["labelRef"];function Fve(t,e){if(t==null)return{};var n,r,i=Bve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function zB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zB(Object(n),!0).forEach(function(r){$ve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ve(t,e,n){return(e=Uve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uve(t){var e=Vve(t,"string");return typeof e=="symbol"?e:e+""}function Vve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fl(){return fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fl.apply(null,arguments)}var gK=A.createContext(null),zve=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:a,children:o}=t,l=A.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:a}),[e,n,r,i,s,a]);return A.createElement(gK.Provider,{value:l},o)},yK=()=>{var t=A.useContext(gK),e=Dw();return t||PW(e)},Hve=A.createContext(null),Wve=()=>{var t=A.useContext(Hve),e=ue(q7);return t||e},Gve=t=>{var{value:e,formatter:n}=t,r=Ct(t.children)?e:t.children;return typeof n=="function"?n(r):r},BN=t=>t!=null&&typeof t=="function",Kve=(t,e)=>{var n=_s(e-t),r=Math.min(Math.abs(e-t),360);return n*r},qve=(t,e,n,r,i)=>{var{offset:s,className:a}=t,{cx:o,cy:l,innerRadius:c,outerRadius:u,startAngle:d,endAngle:f,clockWise:p}=i,g=(c+u)/2,y=Kve(d,f),b=y>=0?1:-1,v,S;switch(e){case"insideStart":v=d+b*s,S=p;break;case"insideEnd":v=f-b*s,S=!p;break;case"end":v=f+b*s,S=p;break;default:throw new Error("Unsupported position ".concat(e))}S=y<=0?S:!S;var w=ir(o,l,g,v),T=ir(o,l,g,v+(S?1:-1)*359),P="M".concat(w.x,",").concat(w.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(S?0:1,`,
    `).concat(T.x,",").concat(T.y),O=Ct(t.id)?t0("recharts-radial-line-"):t.id;return A.createElement("text",fl({},r,{dominantBaseline:"central",className:Xe("recharts-radial-bar-label",a)}),A.createElement("defs",null,A.createElement("path",{id:O,d:P})),A.createElement("textPath",{xlinkHref:"#".concat(O)},n))},Xve=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:l}=t,c=(o+l)/2;if(n==="outside"){var{x:u,y:d}=ir(r,i,a+e,c);return{x:u,y:d,textAnchor:u>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var f=(s+a)/2,{x:p,y:g}=ir(r,i,f,c);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},eO=t=>"cx"in t&&he(t.cx),Yve=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!eO(n)&&(s=n);var{x:a,y:o,upperWidth:l,lowerWidth:c,height:u}=e,d=a,f=a+(l-c)/2,p=(d+f)/2,g=(l+c)/2,y=d+l/2,b=u>=0?1:-1,v=b*r,S=b>0?"end":"start",w=b>0?"start":"end",T=l>=0?1:-1,P=T*r,O=T>0?"end":"start",C=T>0?"start":"end";if(i==="top"){var k={x:d+l/2,y:o-v,textAnchor:"middle",verticalAnchor:S};return Xt(Xt({},k),s?{height:Math.max(o-s.y,0),width:l}:{})}if(i==="bottom"){var N={x:f+c/2,y:o+u+v,textAnchor:"middle",verticalAnchor:w};return Xt(Xt({},N),s?{height:Math.max(s.y+s.height-(o+u),0),width:c}:{})}if(i==="left"){var L={x:p-P,y:o+u/2,textAnchor:O,verticalAnchor:"middle"};return Xt(Xt({},L),s?{width:Math.max(L.x-s.x,0),height:u}:{})}if(i==="right"){var R={x:p+g+P,y:o+u/2,textAnchor:C,verticalAnchor:"middle"};return Xt(Xt({},R),s?{width:Math.max(s.x+s.width-R.x,0),height:u}:{})}var B=s?{width:g,height:u}:{};return i==="insideLeft"?Xt({x:p+P,y:o+u/2,textAnchor:C,verticalAnchor:"middle"},B):i==="insideRight"?Xt({x:p+g-P,y:o+u/2,textAnchor:O,verticalAnchor:"middle"},B):i==="insideTop"?Xt({x:d+l/2,y:o+v,textAnchor:"middle",verticalAnchor:w},B):i==="insideBottom"?Xt({x:f+c/2,y:o+u-v,textAnchor:"middle",verticalAnchor:S},B):i==="insideTopLeft"?Xt({x:d+P,y:o+v,textAnchor:C,verticalAnchor:w},B):i==="insideTopRight"?Xt({x:d+l-P,y:o+v,textAnchor:O,verticalAnchor:w},B):i==="insideBottomLeft"?Xt({x:f+P,y:o+u-v,textAnchor:C,verticalAnchor:S},B):i==="insideBottomRight"?Xt({x:f+c-P,y:o+u-v,textAnchor:O,verticalAnchor:S},B):i&&typeof i=="object"&&(he(i.x)||Nl(i.x))&&(he(i.y)||Nl(i.y))?Xt({x:a+Lu(i.x,g),y:o+Lu(i.y,u),textAnchor:"end",verticalAnchor:"end"},B):Xt({x:y,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},B)},Jve={angle:0,offset:5,zIndex:sr.label,position:"middle",textBreakAll:!1};function mc(t){var e=Un(t,Jve),{viewBox:n,position:r,value:i,children:s,content:a,className:o="",textBreakAll:l,labelRef:c}=e,u=Wve(),d=yK(),f=r==="center"?d:u??d,p,g,y;if(n==null?p=f:eO(n)?p=n:p=PW(n),!p||Ct(i)&&Ct(s)&&!A.isValidElement(a)&&typeof a!="function")return null;var b=Xt(Xt({},e),{},{viewBox:p});if(A.isValidElement(a)){var{labelRef:v}=b,S=Fve(b,jve);return A.cloneElement(a,S)}if(typeof a=="function"){if(g=A.createElement(a,b),A.isValidElement(g))return g}else g=Gve(e);var w=zr(e);if(eO(p)){if(r==="insideStart"||r==="insideEnd"||r==="end")return qve(e,r,g,w,p);y=Xve(p,e.offset,e.position)}else y=Yve(e,p);return A.createElement(wa,{zIndex:e.zIndex},A.createElement(FN,fl({ref:c,className:Xe("recharts-label",o)},w,y,{textAnchor:Mve(w.textAnchor)?w.textAnchor:y.textAnchor,breakAll:l}),g))}mc.displayName="Label";var Zve=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?A.createElement(mc,fl({key:"label-implicit"},r)):mo(t)?A.createElement(mc,fl({key:"label-implicit",value:t},r)):A.isValidElement(t)?t.type===mc?A.cloneElement(t,Xt({key:"label-implicit"},r)):A.createElement(mc,fl({key:"label-implicit",content:t},r)):BN(t)?A.createElement(mc,fl({key:"label-implicit",content:t},r)):t&&typeof t=="object"?A.createElement(mc,fl({},t,{key:"label-implicit"},r)):null};function Qve(t){var{label:e,labelRef:n}=t,r=yK();return Zve(e,r,n)||null}var vK={},bK={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(bK);var wK={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(wK);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bK,n=wK,r=hE;function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(vK);var e0e=vK.last;const t0e=Hl(e0e);var n0e=["valueAccessor"],r0e=["dataKey","clockWise","id","textBreakAll","zIndex"];function WA(){return WA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WA.apply(null,arguments)}function HB(t,e){if(t==null)return{};var n,r,i=i0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function i0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var s0e=t=>Array.isArray(t.value)?t0e(t.value):t.value,xK=A.createContext(void 0),SK=xK.Provider,AK=A.createContext(void 0);AK.Provider;function a0e(){return A.useContext(xK)}function o0e(){return A.useContext(AK)}function dS(t){var{valueAccessor:e=s0e}=t,n=HB(t,n0e),{dataKey:r,clockWise:i,id:s,textBreakAll:a,zIndex:o}=n,l=HB(n,r0e),c=a0e(),u=o0e(),d=c||u;return!d||!d.length?null:A.createElement(wa,{zIndex:o??sr.label},A.createElement(Ki,{className:"recharts-label-list"},d.map((f,p)=>{var g,y=Ct(r)?e(f,p):cn(f&&f.payload,r),b=Ct(s)?{}:{id:"".concat(s,"-").concat(p)};return A.createElement(mc,WA({key:"label-".concat(p)},zr(f),l,b,{fill:(g=n.fill)!==null&&g!==void 0?g:f.fill,parentViewBox:f.parentViewBox,value:y,textBreakAll:a,viewBox:f.viewBox,index:p,zIndex:0}))})))}dS.displayName="LabelList";function _K(t){var{label:e}=t;return e?e===!0?A.createElement(dS,{key:"labelList-implicit"}):A.isValidElement(e)||BN(e)?A.createElement(dS,{key:"labelList-implicit",content:e}):typeof e=="object"?A.createElement(dS,WA({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function tO(){return tO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tO.apply(null,arguments)}var EK=t=>{var{cx:e,cy:n,r,className:i}=t,s=Xe("recharts-dot",i);return he(e)&&he(n)&&he(r)?A.createElement("circle",tO({},Ms(t),hD(t),{className:s,cx:e,cy:n,r})):null},l0e={radiusAxis:{},angleAxis:{}},PK=pi({name:"polarAxis",initialState:l0e,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:pTe,removeRadiusAxis:mTe,addAngleAxis:gTe,removeAngleAxis:yTe}=PK.actions,c0e=PK.reducer,TK={exports:{}},Ye={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zn=typeof Symbol=="function"&&Symbol.for,$N=zn?Symbol.for("react.element"):60103,UN=zn?Symbol.for("react.portal"):60106,ZE=zn?Symbol.for("react.fragment"):60107,QE=zn?Symbol.for("react.strict_mode"):60108,eP=zn?Symbol.for("react.profiler"):60114,tP=zn?Symbol.for("react.provider"):60109,nP=zn?Symbol.for("react.context"):60110,VN=zn?Symbol.for("react.async_mode"):60111,rP=zn?Symbol.for("react.concurrent_mode"):60111,iP=zn?Symbol.for("react.forward_ref"):60112,sP=zn?Symbol.for("react.suspense"):60113,u0e=zn?Symbol.for("react.suspense_list"):60120,aP=zn?Symbol.for("react.memo"):60115,oP=zn?Symbol.for("react.lazy"):60116,h0e=zn?Symbol.for("react.block"):60121,d0e=zn?Symbol.for("react.fundamental"):60117,f0e=zn?Symbol.for("react.responder"):60118,p0e=zn?Symbol.for("react.scope"):60119;function Ji(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case $N:switch(t=t.type,t){case VN:case rP:case ZE:case eP:case QE:case sP:return t;default:switch(t=t&&t.$$typeof,t){case nP:case iP:case oP:case aP:case tP:return t;default:return e}}case UN:return e}}}function CK(t){return Ji(t)===rP}Ye.AsyncMode=VN;Ye.ConcurrentMode=rP;Ye.ContextConsumer=nP;Ye.ContextProvider=tP;Ye.Element=$N;Ye.ForwardRef=iP;Ye.Fragment=ZE;Ye.Lazy=oP;Ye.Memo=aP;Ye.Portal=UN;Ye.Profiler=eP;Ye.StrictMode=QE;Ye.Suspense=sP;Ye.isAsyncMode=function(t){return CK(t)||Ji(t)===VN};Ye.isConcurrentMode=CK;Ye.isContextConsumer=function(t){return Ji(t)===nP};Ye.isContextProvider=function(t){return Ji(t)===tP};Ye.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===$N};Ye.isForwardRef=function(t){return Ji(t)===iP};Ye.isFragment=function(t){return Ji(t)===ZE};Ye.isLazy=function(t){return Ji(t)===oP};Ye.isMemo=function(t){return Ji(t)===aP};Ye.isPortal=function(t){return Ji(t)===UN};Ye.isProfiler=function(t){return Ji(t)===eP};Ye.isStrictMode=function(t){return Ji(t)===QE};Ye.isSuspense=function(t){return Ji(t)===sP};Ye.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ZE||t===rP||t===eP||t===QE||t===sP||t===u0e||typeof t=="object"&&t!==null&&(t.$$typeof===oP||t.$$typeof===aP||t.$$typeof===tP||t.$$typeof===nP||t.$$typeof===iP||t.$$typeof===d0e||t.$$typeof===f0e||t.$$typeof===p0e||t.$$typeof===h0e)};Ye.typeOf=Ji;TK.exports=Ye;var m0e=TK.exports,WB=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",GB=null,YT=null,kK=t=>{if(t===GB&&Array.isArray(YT))return YT;var e=[];return A.Children.forEach(t,n=>{Ct(n)||(m0e.isFragment(n)?e=e.concat(kK(n.props.children)):e.push(n))}),YT=e,GB=t,e};function g0e(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>WB(i)):r=[WB(e)],kK(t).forEach(i=>{var s=fg(i,"type.displayName")||fg(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var IK=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,OK={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(OK);var y0e=OK.isPlainObject;const v0e=Hl(y0e);function KB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KB(Object(n),!0).forEach(function(r){b0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b0e(t,e,n){return(e=w0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w0e(t){var e=x0e(t,"string");return typeof e=="symbol"?e:e+""}function x0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GA(){return GA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GA.apply(null,arguments)}var XB=(t,e,n,r,i)=>{var s=n-r,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+n,",").concat(e),a+="L ".concat(t+n-s/2,",").concat(e+i),a+="L ".concat(t+n-s/2-r,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},S0e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},A0e=t=>{var e=Un(t,S0e),{x:n,y:r,upperWidth:i,lowerWidth:s,height:a,className:o}=e,{animationEasing:l,animationDuration:c,animationBegin:u,isUpdateAnimationActive:d}=e,f=A.useRef(null),[p,g]=A.useState(-1),y=A.useRef(i),b=A.useRef(s),v=A.useRef(a),S=A.useRef(n),w=A.useRef(r),T=DE(t,"trapezoid-");if(A.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var G=f.current.getTotalLength();G&&g(G)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var P=Xe("recharts-trapezoid",o);if(!d)return A.createElement("g",null,A.createElement("path",GA({},zr(e),{className:P,d:XB(n,r,i,s,a)})));var O=y.current,C=b.current,k=v.current,N=S.current,L=w.current,R="0px ".concat(p===-1?1:p,"px"),B="".concat(p,"px 0px"),j=LW(["strokeDasharray"],c,l);return A.createElement(ME,{animationId:T,key:T,canBegin:p>0,duration:c,easing:l,isActive:d,begin:u},G=>{var Z=Fn(O,i,G),J=Fn(C,s,G),W=Fn(k,a,G),V=Fn(N,n,G),H=Fn(L,r,G);f.current&&(y.current=Z,b.current=J,v.current=W,S.current=V,w.current=H);var ne=G>0?{transition:j,strokeDasharray:B}:{strokeDasharray:R};return A.createElement("path",GA({},zr(e),{className:P,d:XB(V,H,Z,J,W),ref:f,style:qB(qB({},ne),e.style)}))})},_0e=["option","shapeType","propTransformer","activeClassName"];function E0e(t,e){if(t==null)return{};var n,r,i=P0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function P0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function YB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YB(Object(n),!0).forEach(function(r){T0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T0e(t,e,n){return(e=C0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C0e(t){var e=k0e(t,"string");return typeof e=="symbol"?e:e+""}function k0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I0e(t,e){return KA(KA({},e),t)}function O0e(t,e){return t==="symbols"}function JB(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return A.createElement($W,n);case"trapezoid":return A.createElement(A0e,n);case"sector":return A.createElement(zW,n);case"symbols":if(O0e(e))return A.createElement(uE,n);break;case"curve":return A.createElement(FD,n);default:return null}}function M0e(t){return A.isValidElement(t)?t.props:t}function nO(t){var{option:e,shapeType:n,propTransformer:r=I0e,activeClassName:i="recharts-active-shape"}=t,s=E0e(t,_0e),a;if(A.isValidElement(e))a=A.cloneElement(e,KA(KA({},s),M0e(e)));else if(typeof e=="function")a=e(s,s.index);else if(v0e(e)&&typeof e!="boolean"){var o=r(e,s);a=A.createElement(JB,{shapeType:n,elementProps:o})}else{var l=s;a=A.createElement(JB,{shapeType:n,elementProps:l})}return s.isActive?A.createElement(Ki,{className:i},a):a}var D0e=(t,e,n)=>{var r=Ft();return(i,s)=>a=>{t==null||t(i,s,a),r(jG({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},N0e=t=>{var e=Ft();return(n,r)=>i=>{t==null||t(n,r,i),e(oge())}},R0e=(t,e,n)=>{var r=Ft();return(i,s)=>a=>{t==null||t(i,s,a),r(lge({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function MK(t){var{tooltipEntrySettings:e}=t,n=Ft(),r=Er(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(rge(e)):i.current!==e&&n(ige({prev:i.current,next:e})),i.current=e)},[e,n,r]),A.useLayoutEffect(()=>()=>{i.current&&(n(sge(i.current)),i.current=null)},[n]),null}function DK(t){var{legendPayload:e}=t,n=Ft(),r=Er(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(Tue(e)):i.current!==e&&n(Cue({prev:i.current,next:e})),i.current=e)},[n,r,e]),A.useLayoutEffect(()=>()=>{i.current&&(n(kue(i.current)),i.current=null)},[n]),null}var JT,L0e=()=>{var[t]=A.useState(()=>t0("uid-"));return t},j0e=(JT=I6.useId)!==null&&JT!==void 0?JT:L0e;function NK(t,e){var n=j0e();return e||(t?"".concat(t,"-").concat(n):n)}var F0e=A.createContext(void 0),RK=t=>{var{id:e,type:n,children:r}=t,i=NK("recharts-".concat(n),e);return A.createElement(F0e.Provider,{value:i},r(i))},B0e={cartesianItems:[],polarItems:[]},LK=pi({name:"graphicalItems",initialState:B0e,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Pt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=pa(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Pt()},removeCartesianGraphicalItem:{reducer(t,e){var n=pa(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Pt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Pt()},removePolarGraphicalItem:{reducer(t,e){var n=pa(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Pt()}}}),{addCartesianGraphicalItem:$0e,replaceCartesianGraphicalItem:U0e,removeCartesianGraphicalItem:V0e,addPolarGraphicalItem:vTe,removePolarGraphicalItem:bTe}=LK.actions,z0e=LK.reducer,H0e=t=>{var e=Ft(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?e($0e(t)):n.current!==t&&e(U0e({prev:n.current,next:t})),n.current=t},[e,t]),A.useLayoutEffect(()=>()=>{n.current&&(e(V0e(n.current)),n.current=null)},[e]),null},jK=A.memo(H0e),W0e=["points"];function ZB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZB(Object(n),!0).forEach(function(r){G0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G0e(t,e,n){return(e=K0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K0e(t){var e=q0e(t,"string");return typeof e=="symbol"?e:e+""}function q0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qA(){return qA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qA.apply(null,arguments)}function X0e(t,e){if(t==null)return{};var n,r,i=Y0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Y0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function J0e(t){var{option:e,dotProps:n,className:r}=t;if(A.isValidElement(e))return A.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Xe(r,typeof e!="boolean"?e.className:""),s=n??{},{points:a}=s,o=X0e(s,W0e);return A.createElement(EK,qA({},o,{className:i}))}function Z0e(t,e){return t==null?!1:e?!0:t.length===1}function Q0e(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:a,needClip:o,clipPathId:l,zIndex:c=sr.scatter}=t;if(!Z0e(e,n))return null;var u=IK(n),d=Cae(n),f=e.map((g,y)=>{var b,v,S=ZT(ZT(ZT({r:3},a),d),{},{index:y,cx:(b=g.x)!==null&&b!==void 0?b:void 0,cy:(v=g.y)!==null&&v!==void 0?v:void 0,dataKey:s,value:g.value,payload:g.payload,points:e});return A.createElement(J0e,{key:"dot-".concat(y),option:n,dotProps:S,className:i})}),p={};return o&&l!=null&&(p.clipPath="url(#clipPath-".concat(u?"":"dots-").concat(l,")")),A.createElement(wa,{zIndex:c},A.createElement(Ki,qA({className:r},p),f))}function QB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QB(Object(n),!0).forEach(function(r){ebe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ebe(t,e,n){return(e=tbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tbe(t){var e=nbe(t,"string");return typeof e=="symbol"?e:e+""}function nbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rbe={xAxis:{},yAxis:{},zAxis:{}},FK=pi({name:"cartesianAxis",initialState:rbe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Pt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Pt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Pt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Pt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Pt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Pt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Pt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Pt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Pt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var a=[...s,r].slice(-3);t.yAxis[n]=e$(e$({},t.yAxis[n]),{},{width:r,widthHistory:a})}}}}),{addXAxis:ibe,replaceXAxis:sbe,removeXAxis:abe,addYAxis:obe,replaceYAxis:lbe,removeYAxis:cbe,addZAxis:wTe,replaceZAxis:xTe,removeZAxis:STe,updateYAxisWidth:ube}=FK.actions,hbe=FK.reducer,dbe=z([cr],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),fbe=z([dbe,Gl,Kl],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),zN=()=>ue(fbe),pbe=()=>ue(Zge);function t$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t$(Object(n),!0).forEach(function(r){mbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mbe(t,e,n){return(e=gbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gbe(t){var e=ybe(t,"string");return typeof e=="symbol"?e:e+""}function ybe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vbe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:a}=t;if(i===!1||e.x==null||e.y==null)return null;var o={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},l=QT(QT(QT({},o),Pw(i)),hD(i)),c;return A.isValidElement(i)?c=A.cloneElement(i,l):typeof i=="function"?c=i(l):c=A.createElement(EK,l),A.createElement(Ki,{className:"recharts-active-dot",clipPath:a},c)};function bbe(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:a=sr.activeDot}=t,o=ue(Sg),l=pbe();if(e==null||l==null)return null;var c=e.find(u=>l.includes(u.payload));return Ct(c)?null:A.createElement(wa,{zIndex:a},A.createElement(vbe,{point:c,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var wbe={},BK=pi({name:"errorBars",initialState:wbe,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:ATe,replaceErrorBar:_Te,removeErrorBar:ETe}=BK.actions,xbe=BK.reducer,Sbe=["children"];function Abe(t,e){if(t==null)return{};var n,r,i=_be(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _be(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ebe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Pbe=A.createContext(Ebe);function $K(t){var{children:e}=t,n=Abe(t,Sbe);return A.createElement(Pbe.Provider,{value:n},e)}function HN(t,e){var n,r,i=ue(c=>Xl(c,t)),s=ue(c=>Yl(c,e)),a=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Tn.allowDataOverflow,o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Cn.allowDataOverflow,l=a||o;return{needClip:l,needClipX:a,needClipY:o}}function UK(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=zN(),{needClipX:s,needClipY:a,needClip:o}=HN(e,n);if(!o||!i)return null;var{x:l,y:c,width:u,height:d}=i;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:s?l:l-u/2,y:a?c:c-d/2,width:s?u:u*2,height:a?d:d*2}))}var Tbe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xw=A;function Cbe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kbe=typeof Object.is=="function"?Object.is:Cbe,Ibe=Xw.useSyncExternalStore,Obe=Xw.useRef,Mbe=Xw.useEffect,Dbe=Xw.useMemo,Nbe=Xw.useDebugValue;Tbe.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Obe(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=Dbe(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),i!==void 0&&a.hasValue){var g=a.value;if(i(g,p))return d=g}return d=p}if(g=d,kbe(u,p))return g;var y=r(p);return i!==void 0&&i(g,y)?(u=p,g):(u=p,d=y)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var o=Ibe(t,s[0],s[1]);return Mbe(function(){a.hasValue=!0,a.value=o},[o]),Nbe(o),o};function Rbe(t){t()}function Lbe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Rbe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var n$={notify(){},get:()=>[]};function jbe(t,e){let n,r=n$,i=0,s=!1;function a(y){u();const b=r.subscribe(y);let v=!1;return()=>{v||(v=!0,b(),d())}}function o(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function c(){return s}function u(){i++,n||(n=t.subscribe(l),r=Lbe())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=n$)}function f(){s||(s=!0,u())}function p(){s&&(s=!1,d())}const g={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:p,getListeners:()=>r};return g}var Fbe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bbe=Fbe(),$be=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Ube=$be(),Vbe=()=>Bbe||Ube?A.useLayoutEffect:A.useEffect,zbe=Vbe();function r$(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Hbe(t,e){if(r$(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!r$(t[n[i]],e[n[i]]))return!1;return!0}var eC=Symbol.for("react-redux-context"),tC=typeof globalThis<"u"?globalThis:{};function Wbe(){if(!A.createContext)return{};const t=tC[eC]??(tC[eC]=new Map);let e=t.get(A.createContext);return e||(e=A.createContext(null),t.set(A.createContext,e)),e}var Gbe=Wbe();function Kbe(t){const{children:e,context:n,serverState:r,store:i}=t,s=A.useMemo(()=>{const l=jbe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),a=A.useMemo(()=>i.getState(),[i]);zbe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=n||Gbe;return A.createElement(o.Provider,{value:s},e)}var qbe=Kbe,Xbe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Ybe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function lP(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Xbe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Hbe(t[r],e[r]))return!1}else if(!Ybe(t[r],e[r]))return!1;return!0}var Jbe=t=>{var{chartData:e}=t,n=Ft(),r=Er();return A.useEffect(()=>r?()=>{}:(n(CB(e)),()=>{n(CB(void 0))}),[e,n,r]),null},i$={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},VK=pi({name:"brush",initialState:i$,reducers:{setBrushSettings(t,e){return e.payload==null?i$:e.payload}}}),{setBrushSettings:PTe}=VK.actions,Zbe=VK.reducer;function Qbe(t,e,n){return(e=ewe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ewe(t){var e=twe(t,"string");return typeof e=="symbol"?e:e+""}function twe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class WN{static create(e){return new WN(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Qbe(WN,"EPS",1e-4);function nwe(t){return(t%180+180)%180}var rwe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=nwe(i),a=s*Math.PI/180,o=Math.atan(r/n),l=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},iwe={dots:[],areas:[],lines:[]},zK=pi({name:"referenceElements",initialState:iwe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=pa(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=pa(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=pa(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:TTe,removeDot:CTe,addArea:kTe,removeArea:ITe,addLine:OTe,removeLine:MTe}=zK.actions,swe=zK.reducer,awe=A.createContext(void 0),owe=t=>{var{children:e}=t,[n]=A.useState("".concat(t0("recharts"),"-clip")),r=zN();if(r==null)return null;var{x:i,y:s,width:a,height:o}=r;return A.createElement(awe.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:i,y:s,height:o,width:a}))),e)};function HK(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function lwe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return rwe(r,n)}function cwe(t,e,n){var r=n==="width",{x:i,y:s,width:a,height:o}=t;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function XA(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function uwe(t,e){return HK(t,e+1)}function hwe(t,e,n,r,i){for(var s=(r||[]).slice(),{start:a,end:o}=e,l=0,c=1,u=a,d=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:HK(r,c)};var y=l,b,v=()=>(b===void 0&&(b=n(g,y)),b),S=g.coordinate,w=l===0||XA(t,S,v,u,o);w||(l=0,u=a,c+=1),w&&(u=S+t*(v()/2+i),l+=c)},f;c<=s.length;)if(f=d(),f)return f.v;return[]}function s$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s$(Object(n),!0).forEach(function(r){dwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dwe(t,e,n){return(e=fwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fwe(t){var e=pwe(t,"string");return typeof e=="symbol"?e:e+""}function pwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mwe(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,{start:o}=e,{end:l}=e,c=function(f){var p=s[f],g,y=()=>(g===void 0&&(g=n(p,f)),g);if(f===a-1){var b=t*(p.coordinate+t*y()/2-l);s[f]=p=wr(wr({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate})}else s[f]=p=wr(wr({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var v=XA(t,p.tickCoord,y,o,l);v&&(l=p.tickCoord-t*(y()/2+i),s[f]=wr(wr({},p),{},{isShow:!0}))}},u=a-1;u>=0;u--)c(u);return s}function gwe(t,e,n,r,i,s){var a=(r||[]).slice(),o=a.length,{start:l,end:c}=e;if(s){var u=r[o-1],d=n(u,o-1),f=t*(u.coordinate+t*d/2-c);if(a[o-1]=u=wr(wr({},u),{},{tickCoord:f>0?u.coordinate-f*t:u.coordinate}),u.tickCoord!=null){var p=XA(t,u.tickCoord,()=>d,l,c);p&&(c=u.tickCoord-t*(d/2+i),a[o-1]=wr(wr({},u),{},{isShow:!0}))}}for(var g=s?o-1:o,y=function(S){var w=a[S],T,P=()=>(T===void 0&&(T=n(w,S)),T);if(S===0){var O=t*(w.coordinate-t*P()/2-l);a[S]=w=wr(wr({},w),{},{tickCoord:O<0?w.coordinate-O*t:w.coordinate})}else a[S]=w=wr(wr({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var C=XA(t,w.tickCoord,P,l,c);C&&(l=w.tickCoord+t*(P()/2+i),a[S]=wr(wr({},w),{},{isShow:!0}))}},b=0;b<g;b++)y(b);return a}function GN(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:l,tickFormatter:c,unit:u,angle:d}=t;if(!i||!i.length||!r)return[];if(he(l)||Rw.isSsr){var f;return(f=uwe(i,he(l)?l:0))!==null&&f!==void 0?f:[]}var p=[],g=o==="top"||o==="bottom"?"width":"height",y=u&&g==="width"?vv(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=(w,T)=>{var P=typeof c=="function"?c(w.value,T):w.value;return g==="width"?lwe(vv(P,{fontSize:e,letterSpacing:n}),y,d):vv(P,{fontSize:e,letterSpacing:n})[g]},v=i.length>=2?_s(i[1].coordinate-i[0].coordinate):1,S=cwe(s,v,g);return l==="equidistantPreserveStart"?hwe(v,S,b,i,a):(l==="preserveStart"||l==="preserveStartEnd"?p=gwe(v,S,b,i,a,l==="preserveStartEnd"):p=mwe(v,S,b,i,a),p.filter(w=>w.isShow))}var ywe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){Array.from(e).forEach(u=>{if(u){var d=u.getBoundingClientRect();d.width>a&&(a=d.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+s,c=a+l+o+(n?r:0);return Math.round(c)}return 0},vwe=["axisLine","width","height","className","hide","ticks","axisType"];function bwe(t,e){if(t==null)return{};var n,r,i=wwe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wwe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hf(){return hf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hf.apply(null,arguments)}function a$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a$(Object(n),!0).forEach(function(r){xwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xwe(t,e,n){return(e=Swe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Swe(t){var e=Awe(t,"string");return typeof e=="symbol"?e:e+""}function Awe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Al={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:sr.axis};function _we(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:a,axisLine:o,otherSvgProps:l}=t;if(!o)return null;var c=an(an(an({},l),Ms(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var u=+(s==="top"&&!a||s==="bottom"&&a);c=an(an({},c),{},{x1:e,y1:n+u*i,x2:e+r,y2:n+u*i})}else{var d=+(s==="left"&&!a||s==="right"&&a);c=an(an({},c),{},{x1:e+d*r,y1:n,x2:e+d*r,y2:n+i})}return A.createElement("line",hf({},c,{className:Xe("recharts-cartesian-axis-line",fg(o,"className"))}))}function Ewe(t,e,n,r,i,s,a,o,l){var c,u,d,f,p,g,y=o?-1:1,b=t.tickSize||a,v=he(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":c=u=t.coordinate,f=n+ +!o*i,d=f-y*b,g=d-y*l,p=v;break;case"left":d=f=t.coordinate,u=e+ +!o*r,c=u-y*b,p=c-y*l,g=v;break;case"right":d=f=t.coordinate,u=e+ +o*r,c=u+y*b,p=c+y*l,g=v;break;default:c=u=t.coordinate,f=n+ +o*i,d=f+y*b,g=d+y*l,p=v;break}return{line:{x1:c,y1:d,x2:u,y2:f},tick:{x:p,y:g}}}function Pwe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Twe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Cwe(t){var{option:e,tickProps:n,value:r}=t,i,s=Xe(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(e))i=A.cloneElement(e,an(an({},n),{},{className:s}));else if(typeof e=="function")i=e(an(an({},n),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Xe(a,e==null?void 0:e.className)),i=A.createElement(FN,hf({},n,{className:a}),r)}return i}var kwe=A.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:a,unit:o,padding:l,tickTextProps:c,orientation:u,mirror:d,x:f,y:p,width:g,height:y,tickSize:b,tickMargin:v,fontSize:S,letterSpacing:w,getTicksConfig:T,events:P,axisType:O}=t,C=GN(an(an({},T),{},{ticks:n}),S,w),k=Pwe(u,d),N=Twe(u,d),L=Ms(T),R=Pw(r),B={};typeof i=="object"&&(B=i);var j=an(an({},L),{},{fill:"none"},B),G=C.map(W=>an({entry:W},Ewe(W,f,p,g,y,u,b,d,v))),Z=G.map(W=>{var{entry:V,line:H}=W;return A.createElement(Ki,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},i&&A.createElement("line",hf({},j,H,{className:Xe("recharts-cartesian-axis-tick-line",fg(i,"className"))})))}),J=G.map((W,V)=>{var{entry:H,tick:ne}=W,fe=an(an(an(an({textAnchor:k,verticalAnchor:N},L),{},{stroke:"none",fill:s},R),ne),{},{index:V,payload:H,visibleTicksCount:C.length,tickFormatter:a,padding:l},c);return A.createElement(Ki,hf({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},dD(P,H,V)),r&&A.createElement(Cwe,{option:r,tickProps:fe,value:"".concat(typeof a=="function"?a(H.value,V):H.value).concat(o||"")}))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(O,"-ticks")},J.length>0&&A.createElement(wa,{zIndex:sr.label},A.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(O,"-tick-labels"),ref:e},J)),Z.length>0&&A.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(O,"-tick-lines")},Z))}),Iwe=A.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:a,ticks:o,axisType:l}=t,c=bwe(t,vwe),[u,d]=A.useState(""),[f,p]=A.useState(""),g=A.useRef(null);A.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var b;return ywe({ticks:g.current,label:(b=t.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var y=A.useCallback(b=>{if(b){var v=b.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=v;var S=v[0];if(S){var w=window.getComputedStyle(S),T=w.fontSize,P=w.letterSpacing;(T!==u||P!==f)&&(d(T),p(P))}}},[u,f]);return a||r!=null&&r<=0||i!=null&&i<=0?null:A.createElement(wa,{zIndex:t.zIndex},A.createElement(Ki,{className:Xe("recharts-cartesian-axis",s)},A.createElement(_we,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Ms(t)}),A.createElement(kwe,{ref:y,axisType:l,events:c,fontSize:u,getTicksConfig:t,height:t.height,letterSpacing:f,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),A.createElement(zve,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},A.createElement(Qve,{label:t.label,labelRef:t.labelRef}),t.children)))}),KN=A.forwardRef((t,e)=>{var n=Un(t,Al);return A.createElement(Iwe,hf({},n,{ref:e}))});KN.displayName="CartesianAxis";var Owe=["x1","y1","x2","y2","key"],Mwe=["offset"],Dwe=["xAxisId","yAxisId"],Nwe=["xAxisId","yAxisId"];function o$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o$(Object(n),!0).forEach(function(r){Rwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rwe(t,e,n){return(e=Lwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lwe(t){var e=jwe(t,"string");return typeof e=="symbol"?e:e+""}function jwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ph(){return Ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ph.apply(null,arguments)}function YA(t,e){if(t==null)return{};var n,r,i=Fwe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fwe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Bwe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:a,ry:o}=t;return A.createElement("rect",{x:r,y:i,ry:o,width:s,height:a,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function WK(t){var{option:e,lineItemProps:n}=t,r;if(A.isValidElement(e))r=A.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:a,x2:o,y2:l,key:c}=n,u=YA(n,Owe),d=(i=Ms(u))!==null&&i!==void 0?i:{},{offset:f}=d,p=YA(d,Mwe);r=A.createElement("line",Ph({},p,{x1:s,y1:a,x2:o,y2:l,fill:"none",key:c}))}return r}function $we(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,o=YA(t,Dwe),l=i.map((c,u)=>{var d=Sr(Sr({},o),{},{x1:e,y1:c,x2:e+n,y2:c,key:"line-".concat(u),index:u});return A.createElement(WK,{key:"line-".concat(u),option:r,lineItemProps:d})});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Uwe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,o=YA(t,Nwe),l=i.map((c,u)=>{var d=Sr(Sr({},o),{},{x1:c,y1:e,x2:c,y2:e+n,key:"line-".concat(u),index:u});return A.createElement(WK,{option:r,lineItemProps:d,key:"line-".concat(u)})});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Vwe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:a,horizontalPoints:o,horizontal:l=!0}=t;if(!l||!e||!e.length||o==null)return null;var c=o.map(d=>Math.round(d+i-i)).sort((d,f)=>d-f);i!==c[0]&&c.unshift(0);var u=c.map((d,f)=>{var p=!c[f+1],g=p?i+a-d:c[f+1]-d;if(g<=0)return null;var y=f%e.length;return A.createElement("rect",{key:"react-".concat(f),y:d,x:r,height:g,width:s,stroke:"none",fill:e[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function zwe(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:a,height:o,verticalPoints:l}=t;if(!e||!n||!n.length)return null;var c=l.map(d=>Math.round(d+i-i)).sort((d,f)=>d-f);i!==c[0]&&c.unshift(0);var u=c.map((d,f)=>{var p=!c[f+1],g=p?i+a-d:c[f+1]-d;if(g<=0)return null;var y=f%n.length;return A.createElement("rect",{key:"react-".concat(f),x:d,y:s,width:g,height:o,stroke:"none",fill:n[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var Hwe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return pW(GN(Sr(Sr(Sr({},Al),n),{},{ticks:mW(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},Wwe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return pW(GN(Sr(Sr(Sr({},Al),n),{},{ticks:mW(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},Gwe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:sr.grid};function cc(t){var e=ND(),n=RD(),r=TW(),i=Sr(Sr({},Un(t,Gwe)),{},{x:he(t.x)?t.x:r.left,y:he(t.y)?t.y:r.top,width:he(t.width)?t.width:r.width,height:he(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:a,x:o,y:l,width:c,height:u,syncWithTicks:d,horizontalValues:f,verticalValues:p}=i,g=Er(),y=ue(N=>yB(N,"xAxis",s,g)),b=ue(N=>yB(N,"yAxis",a,g));if(!go(c)||!go(u)||!he(o)||!he(l))return null;var v=i.verticalCoordinatesGenerator||Hwe,S=i.horizontalCoordinatesGenerator||Wwe,{horizontalPoints:w,verticalPoints:T}=i;if((!w||!w.length)&&typeof S=="function"){var P=f&&f.length,O=S({yAxis:b?Sr(Sr({},b),{},{ticks:P?f:b.ticks}):void 0,width:e??c,height:n??u,offset:r},P?!0:d);AA(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(w=O)}if((!T||!T.length)&&typeof v=="function"){var C=p&&p.length,k=v({xAxis:y?Sr(Sr({},y),{},{ticks:C?p:y.ticks}):void 0,width:e??c,height:n??u,offset:r},C?!0:d);AA(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(T=k)}return A.createElement(wa,{zIndex:i.zIndex},A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(Bwe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),A.createElement(Vwe,Ph({},i,{horizontalPoints:w})),A.createElement(zwe,Ph({},i,{verticalPoints:T})),A.createElement($we,Ph({},i,{offset:r,horizontalPoints:w,xAxis:y,yAxis:b})),A.createElement(Uwe,Ph({},i,{offset:r,verticalPoints:T,xAxis:y,yAxis:b}))))}cc.displayName="CartesianGrid";var GK=(t,e,n,r)=>JE(t,"xAxis",e,r),KK=(t,e,n,r)=>YE(t,"xAxis",e,r),qK=(t,e,n,r)=>JE(t,"yAxis",n,r),XK=(t,e,n,r)=>YE(t,"yAxis",n,r),Kwe=z([St,GK,qK,KK,XK],(t,e,n,r,i)=>Gu(t,"xAxis")?SA(e,r,!1):SA(n,i,!1)),qwe=(t,e,n,r,i)=>i;function Xwe(t){return t.type==="line"}var Ywe=z([vN,qwe],(t,e)=>t.filter(Xwe).find(n=>n.id===e)),Jwe=z([St,GK,qK,KK,XK,Ywe,Kwe,$E],(t,e,n,r,i,s,a,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=o;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:d,data:f}=s,p;if(f!=null&&f.length>0?p=f:p=l==null?void 0:l.slice(c,u+1),p!=null)return vxe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:d,bandSize:a,displayedData:p})}});function Zwe(t){var e=Pw(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,a=Number(i),o=Number(s);return(Number.isNaN(a)||a<0)&&(a=n),(Number.isNaN(o)||o<0)&&(o=r),{r:a,strokeWidth:o}}return{r:n,strokeWidth:r}}var Qwe=["id"],exe=["type","layout","connectNulls","needClip","shape"],txe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function m0(){return m0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m0.apply(null,arguments)}function l$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Za(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l$(Object(n),!0).forEach(function(r){nxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nxe(t,e,n){return(e=rxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rxe(t){var e=ixe(t,"string");return typeof e=="symbol"?e:e+""}function ixe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qN(t,e){if(t==null)return{};var n,r,i=sxe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sxe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var axe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:SE(n,e),payload:t}]},oxe=A.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:o,unit:l,tooltipType:c}=t,u={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:SE(a,e),hide:o,type:c,color:r,unit:l}};return A.createElement(MK,{tooltipEntrySettings:u})}),YK=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function lxe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var cxe=(t,e,n)=>{var r=n.reduce((d,f)=>d+f);if(!r)return YK(e,t);for(var i=Math.floor(t/r),s=t%r,a=e-t,o=[],l=0,c=0;l<n.length;c+=n[l],++l)if(c+n[l]>s){o=[...n.slice(0,l),s-c];break}var u=o.length%2===0?[0,a]:[a];return[...lxe(n,i),...o,...u].map(d=>"".concat(d,"px")).join(", ")};function uxe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:a}=r,{id:o}=r,l=qN(r,Qwe),c=Ms(l);return A.createElement(Q0e,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:c,needClip:a,clipPathId:e})}function hxe(t){var{showLabels:e,children:n,points:r}=t,i=A.useMemo(()=>r==null?void 0:r.map(s=>{var a,o,l={x:(a=s.x)!==null&&a!==void 0?a:0,y:(o=s.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Za(Za({},l),{},{value:s.value,payload:s.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return A.createElement(SK,{value:e?i:void 0},n)}function c$(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:a,layout:o,connectNulls:l,needClip:c,shape:u}=s,d=qN(s,exe),f=Za(Za({},zr(d)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(e,")"):void 0,points:r,type:a,layout:o,connectNulls:l,strokeDasharray:i??s.strokeDasharray});return A.createElement(A.Fragment,null,(r==null?void 0:r.length)>1&&A.createElement(nO,m0({shapeType:"curve",option:u},f,{pathRef:n})),A.createElement(uxe,{points:r,clipPathId:e,props:s}))}function dxe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function fxe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:a,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:d,animateNewValues:f,width:p,height:g,onAnimationEnd:y,onAnimationStart:b}=n,v=i.current,S=DE(a,"recharts-line-"),w=A.useRef(S),[T,P]=A.useState(!1),O=!T,C=A.useCallback(()=>{typeof y=="function"&&y(),P(!1)},[y]),k=A.useCallback(()=>{typeof b=="function"&&b(),P(!0)},[b]),N=dxe(r.current),L=A.useRef(0);w.current!==S&&(L.current=s.current,w.current=S);var R=L.current;return A.createElement(hxe,{points:a,showLabels:O},n.children,A.createElement(ME,{animationId:S,begin:c,duration:u,isActive:l,easing:d,onAnimationEnd:C,onAnimationStart:k,key:S},B=>{var j=Fn(R,N+R,B),G=Math.min(j,N),Z;if(l)if(o){var J="".concat(o).split(/[,\s]+/gim).map(H=>parseFloat(H));Z=cxe(G,N,J)}else Z=YK(N,G);else Z=o==null?void 0:String(o);if(B>0&&N>0&&(i.current=a,s.current=Math.max(s.current,G)),v){var W=v.length/a.length,V=B===1?a:a.map((H,ne)=>{var fe=Math.floor(ne*W);if(v[fe]){var le=v[fe];return Za(Za({},H),{},{x:Fn(le.x,H.x,B),y:Fn(le.y,H.y,B)})}return f?Za(Za({},H),{},{x:Fn(p*2,H.x,B),y:Fn(g/2,H.y,B)}):Za(Za({},H),{},{x:H.x,y:H.y})});return i.current=V,A.createElement(c$,{props:n,points:V,clipPathId:e,pathRef:r,strokeDasharray:Z})}return A.createElement(c$,{props:n,points:a,clipPathId:e,pathRef:r,strokeDasharray:Z})}),A.createElement(_K,{label:n.label}))}function pxe(t){var{clipPathId:e,props:n}=t,r=A.useRef(null),i=A.useRef(0),s=A.useRef(null);return A.createElement(fxe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var mxe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:cn(t.payload,e)}};class gxe extends A.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:a,top:o,left:l,width:c,height:u,id:d,needClip:f,zIndex:p}=this.props;if(e)return null;var g=Xe("recharts-line",i),y=d,{r:b,strokeWidth:v}=Zwe(n),S=IK(n),w=b*2+v,T=f?"url(#clipPath-".concat(S?"":"dots-").concat(y,")"):void 0;return A.createElement(wa,{zIndex:p},A.createElement(Ki,{className:g},f&&A.createElement("defs",null,A.createElement(UK,{clipPathId:y,xAxisId:s,yAxisId:a}),!S&&A.createElement("clipPath",{id:"clipPath-dots-".concat(y)},A.createElement("rect",{x:l-w/2,y:o-w/2,width:c+w,height:u+w}))),A.createElement($K,{xAxisId:s,yAxisId:a,data:r,dataPointFormatter:mxe,errorBarOffset:0},A.createElement(pxe,{props:this.props,clipPathId:y}))),A.createElement(bbe,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:T}))}}var JK={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:sr.line,type:"linear"};function yxe(t){var e=Un(t,JK),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:l,hide:c,isAnimationActive:u,label:d,legendType:f,xAxisId:p,yAxisId:g,id:y}=e,b=qN(e,txe),{needClip:v}=HN(p,g),S=zN(),w=TE(),T=Er(),P=ue(L=>Jwe(L,p,g,T,y));if(w!=="horizontal"&&w!=="vertical"||P==null||S==null)return null;var{height:O,width:C,x:k,y:N}=S;return A.createElement(gxe,m0({},b,{id:y,connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:u,hide:c,label:d,legendType:f,xAxisId:p,yAxisId:g,points:P,layout:w,height:O,width:C,left:k,top:N,needClip:v}))}function vxe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:o,displayedData:l}=t;return l.map((c,u)=>{var d=cn(c,a);if(e==="horizontal"){var f=xA({axis:n,ticks:i,bandSize:o,entry:c,index:u}),p=Ct(d)?null:r.scale(d);return{x:f,y:p,value:d,payload:c}}var g=Ct(d)?null:n.scale(d),y=xA({axis:r,ticks:s,bandSize:o,entry:c,index:u});return g==null||y==null?null:{x:g,y,value:d,payload:c}}).filter(Boolean)}function bxe(t){var e=Un(t,JK),n=Er();return A.createElement(RK,{id:e.id,type:"line"},r=>A.createElement(A.Fragment,null,A.createElement(DK,{legendPayload:axe(e)}),A.createElement(oxe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),A.createElement(jK,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),A.createElement(yxe,m0({},e,{id:r}))))}var Ta=A.memo(bxe,lP);Ta.displayName="Line";var wxe=["option","isActive"];function bv(){return bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bv.apply(null,arguments)}function xxe(t,e){if(t==null)return{};var n,r,i=Sxe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sxe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Axe(t){var{option:e,isActive:n}=t,r=xxe(t,wxe);return typeof e=="string"?A.createElement(nO,bv({option:A.createElement(uE,bv({type:e},r)),isActive:n,shapeType:"symbols"},r)):A.createElement(nO,bv({option:e,isActive:n,shapeType:"symbols"},r))}var _xe=(t,e,n,r,i,s,a)=>JE(t,"xAxis",e,a),Exe=(t,e,n,r,i,s,a)=>YE(t,"xAxis",e,a),Pxe=(t,e,n,r,i,s,a)=>JE(t,"yAxis",n,a),Txe=(t,e,n,r,i,s,a)=>YE(t,"yAxis",n,a),Cxe=(t,e,n,r)=>Zme(t,"zAxis",r,!1),kxe=(t,e,n,r,i)=>i,Ixe=(t,e,n,r,i,s)=>s,Oxe=(t,e,n,r,i,s,a)=>$E(t,e,n,a),Mxe=z([vN,kxe],(t,e)=>t.filter(n=>n.type==="scatter").find(n=>n.id===e)),Dxe=z([Oxe,_xe,Exe,Pxe,Txe,Cxe,Mxe,Ixe],(t,e,n,r,i,s,a,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=t;if(a!=null){var d;if((a==null?void 0:a.data)!=null&&a.data.length>0?d=a.data:d=l==null?void 0:l.slice(c,u+1),!(d==null||e==null||r==null||n==null||i==null||(n==null?void 0:n.length)===0||(i==null?void 0:i.length)===0))return Kxe({displayedData:d,xAxis:e,yAxis:r,zAxis:s,scatterSettings:a,xAxisTicks:n,yAxisTicks:i,cells:o})}}),Nxe=["onMouseEnter","onClick","onMouseLeave"],Rxe=["id"],Lxe=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function rO(t,e){if(t==null)return{};var n,r,i=jxe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jxe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function df(){return df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},df.apply(null,arguments)}function u$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ui(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u$(Object(n),!0).forEach(function(r){Fxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fxe(t,e,n){return(e=Bxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bxe(t){var e=$xe(t,"string");return typeof e=="symbol"?e:e+""}function $xe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uxe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:SE(n,e),payload:t}]},Vxe=A.memo(t=>{var{dataKey:e,points:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:o,tooltipType:l}=t,c={dataDefinedOnItem:n==null?void 0:n.map(u=>u.tooltipPayload),positions:n==null?void 0:n.map(u=>u.tooltipPosition),settings:{stroke:r,strokeWidth:i,fill:s,nameKey:void 0,dataKey:e,name:SE(a,e),hide:o,type:l,color:s,unit:""}};return A.createElement(MK,{tooltipEntrySettings:c})});function zxe(t){var{points:e,props:n}=t,{line:r,lineType:i,lineJointType:s}=n;if(!r)return null;var a=Ms(n),o=Pw(r),l,c;if(i==="joint")l=e.map(b=>{var v,S;return{x:(v=b.cx)!==null&&v!==void 0?v:null,y:(S=b.cy)!==null&&S!==void 0?S:null}});else if(i==="fitting"){var{xmin:u,xmax:d,a:f,b:p}=yoe(e),g=b=>f*b+p;l=[{x:u,y:g(u)},{x:d,y:g(d)}]}var y=ui(ui(ui({},a),{},{fill:"none",stroke:a&&a.fill},o),{},{points:l});return A.isValidElement(r)?c=A.cloneElement(r,y):typeof r=="function"?c=r(y):c=A.createElement(FD,df({},y,{type:s})),A.createElement(Ki,{className:"recharts-scatter-line",key:"recharts-scatter-line"},c)}function Hxe(t){var{showLabels:e,points:n,children:r}=t,i=Dw(),s=A.useMemo(()=>n==null?void 0:n.map(a=>{var o,l,c={x:(o=a.x)!==null&&o!==void 0?o:0,y:(l=a.y)!==null&&l!==void 0?l:0,width:a.width,height:a.height,lowerWidth:a.width,upperWidth:a.width};return ui(ui({},c),{},{value:void 0,payload:a.payload,viewBox:c,parentViewBox:i,fill:void 0})}),[i,n]);return A.createElement(SK,{value:e?s:void 0},r)}function Wxe(t){var{points:e,allOtherScatterProps:n}=t,{shape:r,activeShape:i,dataKey:s}=n,a=ue(Sg),{onMouseEnter:o,onClick:l,onMouseLeave:c}=n,u=rO(n,Nxe),d=D0e(o,n.dataKey),f=N0e(c),p=R0e(l,n.dataKey);if(!Ioe(e))return null;var{id:g}=n,y=rO(n,Rxe),b=Ms(y);return A.createElement(A.Fragment,null,A.createElement(zxe,{points:e,props:y}),e.map((v,S)=>{var w=i!=null&&i!==!1,T=w&&a===String(S),P=w&&T?i:r,O=ui(ui(ui({},b),v),{},{[yW]:S,[vW]:String(s)});return A.createElement(wa,{key:"symbol-".concat(v==null?void 0:v.cx,"-").concat(v==null?void 0:v.cy,"-").concat(v==null?void 0:v.size,"-").concat(S),zIndex:T?sr.activeDot:void 0},A.createElement(Ki,df({className:"recharts-scatter-symbol"},dD(u,v,S),{onMouseEnter:d(v,S),onMouseLeave:f(v,S),onClick:p(v,S)}),A.createElement(Axe,df({option:P,isActive:T},O))))}))}function Gxe(t){var{previousPointsRef:e,props:n}=t,{points:r,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:o}=n,l=e.current,c=DE(n,"recharts-scatter-"),[u,d]=A.useState(!1),f=A.useCallback(()=>{d(!1)},[]),p=A.useCallback(()=>{d(!0)},[]),g=!u;return A.createElement(Hxe,{showLabels:g,points:r},n.children,A.createElement(ME,{animationId:c,begin:s,duration:a,isActive:i,easing:o,onAnimationEnd:f,onAnimationStart:p,key:c},y=>{var b=y===1?r:r==null?void 0:r.map((v,S)=>{var w=l&&l[S];return w?ui(ui({},v),{},{cx:v.cx==null?void 0:Fn(w.cx,v.cx,y),cy:v.cy==null?void 0:Fn(w.cy,v.cy,y),size:Fn(w.size,v.size,y)}):ui(ui({},v),{},{size:Fn(0,v.size,y)})});return y>0&&(e.current=b),A.createElement(Ki,null,A.createElement(Wxe,{points:b,allOtherScatterProps:n,showLabels:g}))}),A.createElement(_K,{label:n.label}))}function Kxe(t){var{displayedData:e,xAxis:n,yAxis:r,zAxis:i,scatterSettings:s,xAxisTicks:a,yAxisTicks:o,cells:l}=t,c=Ct(n.dataKey)?s.dataKey:n.dataKey,u=Ct(r.dataKey)?s.dataKey:r.dataKey,d=i&&i.dataKey,f=i?i.range:Q7.range,p=f&&f[0],g=n.scale.bandwidth?n.scale.bandwidth():0,y=r.scale.bandwidth?r.scale.bandwidth():0;return e.map((b,v)=>{var S=cn(b,c),w=cn(b,u),T=!Ct(d)&&cn(b,d)||"-",P=[{name:Ct(n.dataKey)?s.name:n.name||String(n.dataKey),unit:n.unit||"",value:S,payload:b,dataKey:c,type:s.tooltipType},{name:Ct(r.dataKey)?s.name:r.name||String(r.dataKey),unit:r.unit||"",value:w,payload:b,dataKey:u,type:s.tooltipType}];T!=="-"&&P.push({name:i.name||i.dataKey,unit:i.unit||"",value:T,payload:b,dataKey:d,type:s.tooltipType});var O=xA({axis:n,ticks:a,bandSize:g,entry:b,index:v,dataKey:c}),C=xA({axis:r,ticks:o,bandSize:y,entry:b,index:v,dataKey:u}),k=T!=="-"?i.scale(T):p,N=Math.sqrt(Math.max(k,0)/Math.PI);return ui(ui({},b),{},{cx:O,cy:C,x:O==null?void 0:O-N,y:C==null?void 0:C-N,width:2*N,height:2*N,size:k,node:{x:S,y:w,z:T},tooltipPayload:P,tooltipPosition:{x:O,y:C},payload:b},l&&l[v]&&l[v].props)})}var qxe=(t,e,n)=>({x:t.cx,y:t.cy,value:Number(n==="x"?t.node.x:t.node.y),errorVal:cn(t,e)});function Xxe(t){var{hide:e,points:n,className:r,needClip:i,xAxisId:s,yAxisId:a,id:o}=t,l=A.useRef(null);if(e)return null;var c=Xe("recharts-scatter",r),u=o;return A.createElement(wa,{zIndex:t.zIndex},A.createElement(Ki,{className:c,clipPath:i?"url(#clipPath-".concat(u,")"):void 0,id:o},i&&A.createElement("defs",null,A.createElement(UK,{clipPathId:u,xAxisId:s,yAxisId:a})),A.createElement($K,{xAxisId:s,yAxisId:a,data:n,dataPointFormatter:qxe,errorBarOffset:0},A.createElement(Ki,{key:"recharts-scatter-symbols"},A.createElement(Gxe,{props:t,previousPointsRef:l})))))}var ZK={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:sr.scatter};function Yxe(t){var e=Un(t,ZK),{animationBegin:n,animationDuration:r,animationEasing:i,hide:s,isAnimationActive:a,legendType:o,lineJointType:l,lineType:c,shape:u,xAxisId:d,yAxisId:f,zAxisId:p}=e,g=rO(e,Lxe),{needClip:y}=HN(d,f),b=A.useMemo(()=>g0e(t.children,oK),[t.children]),v=Er(),S=ue(w=>Dxe(w,d,f,p,t.id,b,v));return y==null||S==null?null:A.createElement(A.Fragment,null,A.createElement(Vxe,{dataKey:t.dataKey,points:S,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType}),A.createElement(Xxe,df({},g,{xAxisId:d,yAxisId:f,zAxisId:p,lineType:c,lineJointType:l,legendType:o,shape:u,hide:s,isAnimationActive:a,animationBegin:n,animationDuration:r,animationEasing:i,points:S,needClip:y})))}function Jxe(t){var e=Un(t,ZK),n=Er();return A.createElement(RK,{id:e.id,type:"scatter"},r=>A.createElement(A.Fragment,null,A.createElement(DK,{legendPayload:Uxe(e)}),A.createElement(jK,{type:"scatter",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:e.zAxisId,dataKey:e.dataKey,hide:e.hide,name:e.name,tooltipType:e.tooltipType,isPanorama:n}),A.createElement(Yxe,df({},e,{id:r}))))}var tv=A.memo(Jxe,lP);tv.displayName="Scatter";var Zxe=["domain","range"],Qxe=["domain","range"];function h$(t,e){if(t==null)return{};var n,r,i=e1e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function e1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function d$(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function QK(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=h$(t,Zxe),{domain:s,range:a}=e,o=h$(e,Qxe);return!d$(n,s)||!d$(r,a)?!1:lP(i,o)}var t1e=["dangerouslySetInnerHTML","ticks"],n1e=["id"];function iO(){return iO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iO.apply(null,arguments)}function f$(t,e){if(t==null)return{};var n,r,i=r1e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function r1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function i1e(t){var e=Ft(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?e(ibe(t)):n.current!==t&&e(sbe({prev:n.current,next:t})),n.current=t},[t,e]),A.useLayoutEffect(()=>()=>{n.current&&(e(abe(n.current)),n.current=null)},[e]),null}var s1e=t=>{var{xAxisId:e,className:n}=t,r=ue(bW),i=Er(),s="xAxis",a=ue(b=>jg(b,s,e,i)),o=ue(b=>OG(b,s,e,i)),l=ue(b=>Bme(b,e)),c=ue(b=>Wme(b,e)),u=ue(b=>J7(b,e));if(l==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f}=t,p=f$(t,t1e),{id:g}=u,y=f$(u,n1e);return A.createElement(KN,iO({},p,y,{scale:a,x:c.x,y:c.y,width:l.width,height:l.height,className:Xe("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:o,axisType:s}))},a1e={allowDataOverflow:Tn.allowDataOverflow,allowDecimals:Tn.allowDecimals,allowDuplicatedCategory:Tn.allowDuplicatedCategory,angle:Tn.angle,axisLine:Al.axisLine,height:Tn.height,hide:!1,includeHidden:Tn.includeHidden,interval:Tn.interval,minTickGap:Tn.minTickGap,mirror:Tn.mirror,orientation:Tn.orientation,padding:Tn.padding,reversed:Tn.reversed,scale:Tn.scale,tick:Tn.tick,tickCount:Tn.tickCount,tickLine:Al.tickLine,tickSize:Al.tickSize,type:Tn.type,xAxisId:0},o1e=t=>{var e=Un(t,a1e);return A.createElement(A.Fragment,null,A.createElement(i1e,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),A.createElement(s1e,e))},uc=A.memo(o1e,QK);uc.displayName="XAxis";var l1e=["dangerouslySetInnerHTML","ticks"],c1e=["id"];function sO(){return sO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sO.apply(null,arguments)}function p$(t,e){if(t==null)return{};var n,r,i=u1e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function u1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function h1e(t){var e=Ft(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?e(obe(t)):n.current!==t&&e(lbe({prev:n.current,next:t})),n.current=t},[t,e]),A.useLayoutEffect(()=>()=>{n.current&&(e(cbe(n.current)),n.current=null)},[e]),null}var d1e=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=A.useRef(null),a=A.useRef(null),o=ue(bW),l=Er(),c=Ft(),u="yAxis",d=ue(P=>jg(P,u,e,l)),f=ue(P=>qme(P,e)),p=ue(P=>Kme(P,e)),g=ue(P=>OG(P,u,e,l)),y=ue(P=>Z7(P,e));if(A.useLayoutEffect(()=>{if(!(r!=="auto"||!f||BN(i)||A.isValidElement(i)||y==null)){var P=s.current;if(P){var O=P.getCalculatedWidth();Math.round(f.width)!==Math.round(O)&&c(ube({id:e,width:O}))}}},[g,f,c,i,e,r,y]),f==null||p==null||y==null)return null;var{dangerouslySetInnerHTML:b,ticks:v}=t,S=p$(t,l1e),{id:w}=y,T=p$(y,c1e);return A.createElement(KN,sO({},S,T,{ref:s,labelRef:a,scale:d,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:Xe("recharts-".concat(u," ").concat(u),n),viewBox:o,ticks:g,axisType:u}))},f1e={allowDataOverflow:Cn.allowDataOverflow,allowDecimals:Cn.allowDecimals,allowDuplicatedCategory:Cn.allowDuplicatedCategory,angle:Cn.angle,axisLine:Al.axisLine,hide:!1,includeHidden:Cn.includeHidden,interval:Cn.interval,minTickGap:Cn.minTickGap,mirror:Cn.mirror,orientation:Cn.orientation,padding:Cn.padding,reversed:Cn.reversed,scale:Cn.scale,tick:Cn.tick,tickCount:Cn.tickCount,tickLine:Al.tickLine,tickSize:Al.tickSize,type:Cn.type,width:Cn.width,yAxisId:0},p1e=t=>{var e=Un(t,f1e);return A.createElement(A.Fragment,null,A.createElement(h1e,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),A.createElement(d1e,e))},hc=A.memo(p1e,QK);hc.displayName="YAxis";var m1e=(t,e)=>e,XN=z([m1e,St,q7,_n,KG,Jl,hye,cr],vye),YN=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},eq=Ds("mouseClick"),tq=Ow();tq.startListening({actionCreator:eq,effect:(t,e)=>{var n=t.payload,r=XN(e.getState(),YN(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(cge({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var aO=Ds("mouseMove"),nq=Ow(),r1=null;nq.startListening({actionCreator:aO,effect:(t,e)=>{var n=t.payload;r1!==null&&cancelAnimationFrame(r1);var r=YN(n);r1=requestAnimationFrame(()=>{var i=e.getState(),s=TN(i,i.tooltip.settings.shared);if(s==="axis"){var a=XN(i,r);(a==null?void 0:a.activeIndex)!=null?e.dispatch(BG({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(FG())}r1=null})}});var m$={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},rq=pi({name:"rootProps",initialState:m$,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:m$.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),g1e=rq.reducer,{updateOptions:y1e}=rq.actions,iq=pi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:DTe}=iq.actions,v1e=iq.reducer,sq=Ds("keyDown"),aq=Ds("focus"),JN=Ow();JN.startListening({actionCreator:sq,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=CN(i,Bg(n),Vw(n),Kw(n)),o=a==null?-1:Number(a);if(!(!Number.isFinite(o)||o<0)){var l=Jl(n);if(s==="Enter"){var c=HA(n,"axis","hover",String(i.index));e.dispatch(Y2({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=Qme(n),d=u==="left-to-right"?1:-1,f=s==="ArrowRight"?1:-1,p=o+f*d;if(!(l==null||p>=l.length||p<0)){var g=HA(n,"axis","hover",String(p));e.dispatch(Y2({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}}});JN.startListening({actionCreator:aq,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",a=HA(n,"axis","hover",String(s));e.dispatch(Y2({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var is=Ds("externalEvent"),oq=Ow(),nC=new Map;oq.startListening({actionCreator:is,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=nC.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var o=e.getState(),l={activeCoordinate:Xge(o),activeDataKey:Kge(o),activeIndex:Sg(o),activeLabel:YG(o),activeTooltipIndex:Sg(o),isTooltipActive:Yge(o)};n(l,r)}finally{nC.delete(i)}});nC.set(i,a)}}});var b1e=z([Fg],t=>t.tooltipItemPayloads),w1e=z([b1e,Ww,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(o=>o.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,n);return a}}}),lq=Ds("touchMove"),cq=Ow();cq.startListening({actionCreator:lq,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=TN(r,r.tooltip.settings.shared);if(i==="axis"){var s=XN(r,YN({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(BG({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,o=n.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(yW),u=(a=l.getAttribute(vW))!==null&&a!==void 0?a:void 0,d=w1e(e.getState(),c,u);e.dispatch(jG({activeDataKey:u,activeIndex:c,activeCoordinate:d}))}}}});var x1e=B8({brush:Zbe,cartesianAxis:hbe,chartData:qye,errorBars:xbe,graphicalItems:z0e,layout:Pce,legend:Iue,options:zye,polarAxis:c0e,polarOptions:v1e,referenceElements:swe,rootProps:g1e,tooltip:uge,zIndex:Mye}),S1e=function(e){return Jle({reducer:x1e,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([tq.middleware,nq.middleware,JN.middleware,oq.middleware,cq.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(eW({type:"raf"}))},devTools:Rw.devToolsEnabled})};function A1e(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Er(),s=A.useRef(null);if(i)return n;s.current==null&&(s.current=S1e(e));var a=SD;return A.createElement(qbe,{context:a,store:s.current},n)}function _1e(t){var{layout:e,margin:n}=t,r=Ft(),i=Er();return A.useEffect(()=>{i||(r(Ace(e)),r(Sce(n)))},[r,i,e,n]),null}var E1e=A.memo(_1e,lP);function P1e(t){var e=Ft();return A.useEffect(()=>{e(y1e(t))},[e,t]),null}function g$(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=NK("".concat(r).concat(e)),s=Ft();return A.useLayoutEffect(()=>(s(Iye({zIndex:e,elementId:i,isPanorama:n})),()=>{s(Oye({zIndex:e,isPanorama:n}))}),[s,e,i,n]),A.createElement("g",{tabIndex:-1,id:i})}function y$(t){var{children:e,isPanorama:n}=t,r=ue(wye);if(!r||r.length===0)return e;var i=r.filter(a=>a<0),s=r.filter(a=>a>0);return A.createElement(A.Fragment,null,i.map(a=>A.createElement(g$,{key:a,zIndex:a,isPanorama:n})),e,s.map(a=>A.createElement(g$,{key:a,zIndex:a,isPanorama:n})))}var T1e=["children"];function C1e(t,e){if(t==null)return{};var n,r,i=k1e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function k1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function JA(){return JA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JA.apply(null,arguments)}var I1e={width:"100%",height:"100%",display:"block"},O1e=A.forwardRef((t,e)=>{var n=ND(),r=RD(),i=RW();if(!go(n)||!go(r))return null;var{children:s,otherAttributes:a,title:o,desc:l}=t,c,u;return a!=null&&(typeof a.tabIndex=="number"?c=a.tabIndex:c=i?0:void 0,typeof a.role=="string"?u=a.role:u=i?"application":void 0),A.createElement(aD,JA({},a,{title:o,desc:l,role:u,tabIndex:c,width:n,height:r,style:I1e,ref:e}),s)}),M1e=t=>{var{children:e}=t,n=ue(PE);if(!n)return null;var{width:r,height:i,y:s,x:a}=n;return A.createElement(aD,{width:r,height:i,x:a,y:s},e)},v$=A.forwardRef((t,e)=>{var{children:n}=t,r=C1e(t,T1e),i=Er();return i?A.createElement(M1e,null,A.createElement(y$,{isPanorama:!0},n)):A.createElement(O1e,JA({ref:e},r),A.createElement(y$,{isPanorama:!1},n))});function D1e(){var t=Ft(),[e,n]=A.useState(null),r=ue(Uce);return A.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;$n(s)&&s!==r&&t(Ece(s))}},[e,t,r]),n}function b$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N1e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b$(Object(n),!0).forEach(function(r){R1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R1e(t,e,n){return(e=L1e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L1e(t){var e=j1e(t,"string");return typeof e=="symbol"?e:e+""}function j1e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ff(){return ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ff.apply(null,arguments)}var F1e=()=>(rve(),null);function ZA(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var B1e=A.forwardRef((t,e)=>{var n,r,i=A.useRef(null),[s,a]=A.useState({containerWidth:ZA((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:ZA((r=t.style)===null||r===void 0?void 0:r.height)}),o=A.useCallback((c,u)=>{a(d=>{var f=Math.round(c),p=Math.round(u);return d.containerWidth===f&&d.containerHeight===p?d:{containerWidth:f,containerHeight:p}})},[]),l=A.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null&&typeof ResizeObserver<"u"){var{width:u,height:d}=c.getBoundingClientRect();o(u,d);var f=g=>{var{width:y,height:b}=g[0].contentRect;o(y,b)},p=new ResizeObserver(f);p.observe(c),i.current=p}},[e,o]);return A.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[o]),A.createElement(A.Fragment,null,A.createElement(CE,{width:s.containerWidth,height:s.containerHeight}),A.createElement("div",ff({ref:l},t)))}),$1e=A.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=A.useState({containerWidth:ZA(n),containerHeight:ZA(r)}),a=A.useCallback((l,c)=>{s(u=>{var d=Math.round(l),f=Math.round(c);return u.containerWidth===d&&u.containerHeight===f?u:{containerWidth:d,containerHeight:f}})},[]),o=A.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:c,height:u}=l.getBoundingClientRect();a(c,u)}},[e,a]);return A.createElement(A.Fragment,null,A.createElement(CE,{width:i.containerWidth,height:i.containerHeight}),A.createElement("div",ff({ref:o},t)))}),U1e=A.forwardRef((t,e)=>{var{width:n,height:r}=t;return A.createElement(A.Fragment,null,A.createElement(CE,{width:n,height:r}),A.createElement("div",ff({ref:e},t)))}),V1e=A.forwardRef((t,e)=>{var{width:n,height:r}=t;return Nl(n)||Nl(r)?A.createElement($1e,ff({},t,{ref:e})):A.createElement(U1e,ff({},t,{ref:e}))});function z1e(t){return t===!0?B1e:V1e}var H1e=A.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:d,onMouseUp:f,onTouchEnd:p,onTouchMove:g,onTouchStart:y,style:b,width:v,responsive:S,dispatchTouchEvents:w=!0}=t,T=A.useRef(null),P=Ft(),[O,C]=A.useState(null),[k,N]=A.useState(null),L=D1e(),R=DD(),B=(R==null?void 0:R.width)>0?R.width:v,j=(R==null?void 0:R.height)>0?R.height:i,G=A.useCallback(K=>{L(K),typeof e=="function"&&e(K),C(K),N(K),K!=null&&(T.current=K)},[L,e,C,N]),Z=A.useCallback(K=>{P(eq(K)),P(is({handler:s,reactEvent:K}))},[P,s]),J=A.useCallback(K=>{P(aO(K)),P(is({handler:c,reactEvent:K}))},[P,c]),W=A.useCallback(K=>{P(FG()),P(is({handler:u,reactEvent:K}))},[P,u]),V=A.useCallback(K=>{P(aO(K)),P(is({handler:d,reactEvent:K}))},[P,d]),H=A.useCallback(()=>{P(aq())},[P]),ne=A.useCallback(K=>{P(sq(K.key))},[P]),fe=A.useCallback(K=>{P(is({handler:a,reactEvent:K}))},[P,a]),le=A.useCallback(K=>{P(is({handler:o,reactEvent:K}))},[P,o]),ge=A.useCallback(K=>{P(is({handler:l,reactEvent:K}))},[P,l]),ke=A.useCallback(K=>{P(is({handler:f,reactEvent:K}))},[P,f]),rt=A.useCallback(K=>{P(is({handler:y,reactEvent:K}))},[P,y]),it=A.useCallback(K=>{w&&P(lq(K)),P(is({handler:g,reactEvent:K}))},[P,w,g]),ye=A.useCallback(K=>{P(is({handler:p,reactEvent:K}))},[P,p]),js=z1e(S);return A.createElement(rK.Provider,{value:O},A.createElement(B9.Provider,{value:k},A.createElement(js,{width:B??(b==null?void 0:b.width),height:j??(b==null?void 0:b.height),className:Xe("recharts-wrapper",r),style:N1e({position:"relative",cursor:"default",width:B,height:j},b),onClick:Z,onContextMenu:fe,onDoubleClick:le,onFocus:H,onKeyDown:ne,onMouseDown:ge,onMouseEnter:J,onMouseLeave:W,onMouseMove:V,onMouseUp:ke,onTouchEnd:ye,onTouchMove:it,onTouchStart:rt,ref:G},A.createElement(F1e,null),n)))}),W1e=["width","height","responsive","children","className","style","compact","title","desc"];function G1e(t,e){if(t==null)return{};var n,r,i=K1e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function K1e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var q1e=A.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:a,style:o,compact:l,title:c,desc:u}=t,d=G1e(t,W1e),f=Ms(d);return l?A.createElement(A.Fragment,null,A.createElement(CE,{width:n,height:r}),A.createElement(v$,{otherAttributes:f,title:c,desc:u},s)):A.createElement(H1e,{className:a,style:o,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},A.createElement(v$,{otherAttributes:f,title:c,desc:u,ref:e},A.createElement(owe,null,s)))});function oO(){return oO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oO.apply(null,arguments)}var X1e={top:5,right:5,bottom:5,left:5},Y1e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:X1e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},ZN=A.forwardRef(function(e,n){var r,i=Un(e.categoricalChartProps,Y1e),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=e,u={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return A.createElement(A1e,{preloadedState:{options:u},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:s},A.createElement(Jbe,{chartData:c.data}),A.createElement(E1e,{layout:i.layout,margin:i.margin}),A.createElement(P1e,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),A.createElement(q1e,oO({},i,{ref:n})))}),J1e=["axis"],rC=A.forwardRef((t,e)=>A.createElement(ZN,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:J1e,tooltipPayloadSearcher:jN,categoricalChartProps:t,ref:e})),Z1e=["item"],Q1e=A.forwardRef((t,e)=>A.createElement(ZN,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Z1e,tooltipPayloadSearcher:jN,categoricalChartProps:t,ref:e})),eSe=["axis"],iC=A.forwardRef((t,e)=>A.createElement(ZN,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:eSe,tooltipPayloadSearcher:jN,categoricalChartProps:t,ref:e}));function tSe(){const{isDark:t}=Rs(),[e,n]=A.useState("cmb"),r=[{l:10,Cl:2400},{l:50,Cl:5e3},{l:100,Cl:5500},{l:150,Cl:5200},{l:200,Cl:4800},{l:300,Cl:3500},{l:500,Cl:2800},{l:800,Cl:2200},{l:1e3,Cl:1800},{l:1500,Cl:1200},{l:2e3,Cl:800},{l:2500,Cl:500}],i=[{r:1,v_obs:100,v_disk:100,v_dm:0},{r:2,v_obs:140,v_disk:130,v_dm:40},{r:3,v_obs:160,v_disk:145,v_dm:80},{r:4,v_obs:170,v_disk:155,v_dm:110},{r:5,v_obs:175,v_disk:160,v_dm:130},{r:6,v_obs:178,v_disk:162,v_dm:145},{r:8,v_obs:180,v_disk:165,v_dm:160},{r:10,v_obs:180,v_disk:166,v_dm:170},{r:15,v_obs:180,v_disk:168,v_dm:175},{r:20,v_obs:180,v_disk:169,v_dm:178}],s=[{temp:3e3,mag:15,type:"Main Sequence"},{temp:4e3,mag:10,type:"Main Sequence"},{temp:5500,mag:4.8,type:"Main Sequence"},{temp:6500,mag:3,type:"Main Sequence"},{temp:8e3,mag:1.5,type:"Main Sequence"},{temp:1e4,mag:-1,type:"Main Sequence"},{temp:3500,mag:-2,type:"Giants"},{temp:4500,mag:-3,type:"Giants"},{temp:5500,mag:-4,type:"Giants"},{temp:3e3,mag:-6,type:"Supergiants"},{temp:4e3,mag:-7,type:"Supergiants"},{temp:2e4,mag:8,type:"White Dwarfs"},{temp:15e3,mag:10,type:"White Dwarfs"},{temp:8e3,mag:12,type:"White Dwarfs"}],a=[{t:0,h:.5},{t:.1,h:1.5},{t:.2,h:2.5},{t:.3,h:4},{t:.4,h:6.5},{t:.5,h:10},{t:.6,h:15},{t:.7,h:22},{t:.8,h:32},{t:.9,h:45},{t:1,h:50}],o=Array.from({length:40},(d,f)=>{const p=(f-20)/20,y=1-.01*Math.max(0,1-Math.abs(p)*1.5);return{phase:p.toFixed(2),flux:parseFloat(y.toFixed(5))}}),l=[{day:-10,mag:20},{day:-5,mag:18},{day:0,mag:-19.3},{day:5,mag:-18.5},{day:10,mag:-17.8},{day:15,mag:-16.5},{day:20,mag:-15.2},{day:30,mag:-12},{day:40,mag:-8},{day:50,mag:-4}],c=[{mass:10,currentLimit:100,futureLimit:.1},{mass:50,currentLimit:150,futureLimit:.12},{mass:100,currentLimit:10,futureLimit:.01},{mass:500,currentLimit:20,futureLimit:.015},{mass:1e3,currentLimit:1,futureLimit:.001}],u={grid:t?"#374151":"#e5e7eb",text:t?"#d1d5db":"#374151"};return x.jsxs("div",{className:"space-y-12",children:[x.jsxs(ee.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6},children:[x.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4 bg-gradient-to-r from-green-600 to-blue-600 dark:from-green-400 dark:to-blue-400 bg-clip-text text-transparent",children:"  "}),x.jsx("p",{className:`text-sm sm:text-base ${t?"text-gray-300":"text-gray-600"}`,children:", , ,     (7 )"})]}),x.jsx("div",{className:"overflow-x-auto flex gap-2 border-b border-gray-300 dark:border-gray-700 pb-2",children:[{id:"cmb",label:"CMB ",icon:""},{id:"rotation",label:"",icon:""},{id:"hr",label:"HR ",icon:""},{id:"gw",label:"",icon:""},{id:"exoplanet",label:"",icon:""},{id:"supernovae",label:"SN Ia",icon:""},{id:"dm-wimp",label:"",icon:""}].map(d=>x.jsxs("button",{onClick:()=>n(d.id),className:`px-3 py-2 text-xs sm:text-sm font-medium whitespace-nowrap transition-colors border-b-2 ${e===d.id?t?"text-blue-400 border-blue-400":"text-blue-600 border-blue-600":t?"text-gray-400 border-transparent hover:text-gray-300":"text-gray-600 border-transparent hover:text-gray-700"}`,children:[d.icon," ",d.label]},d.id))}),e==="cmb"&&x.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:`p-6 rounded-lg border ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[x.jsx("h2",{className:"text-2xl font-bold mb-2",children:"   "}),x.jsx("p",{className:`mb-6 text-sm ${t?"text-gray-300":"text-gray-600"}`,children:"      .      (_k=0),     ."}),x.jsx(rh,{width:"100%",height:350,children:x.jsxs(rC,{data:r,children:[x.jsx(cc,{strokeDasharray:"3 3",stroke:u.grid}),x.jsx(uc,{dataKey:"l",label:{value:" ( )",position:"bottom",offset:10},tick:{fill:u.text}}),x.jsx(hc,{label:{value:"C_",angle:-90,position:"insideLeft"},tick:{fill:u.text}}),x.jsx(ih,{contentStyle:{backgroundColor:t?"#1f2937":"#ffffff",border:`1px solid ${t?"#374151":"#d1d5db"}`}}),x.jsx(uS,{}),x.jsx(Ta,{type:"monotone",dataKey:"Cl",stroke:"#ef4444",strokeWidth:2,dot:{r:4},name:"CMB Power"})]})}),x.jsxs("div",{className:`mt-6 p-4 rounded text-sm ${t?"bg-gray-700":"bg-blue-50"}`,children:[x.jsx("p",{className:"font-semibold mb-2",children:" :"}),x.jsxs("ul",{className:"space-y-1 text-xs",children:[x.jsxs("li",{children:[" ",x.jsx("strong",{children:"  "})," (~220):  ,   "]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:""}),":    "]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:"_ h=0.1197, _m h=0.1220"})," (Planck 2018)"]})]})]})]}),e==="rotation"&&x.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:`p-6 rounded-lg border ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[x.jsx("h2",{className:"text-2xl font-bold mb-2",children:"   "}),x.jsx("p",{className:`mb-6 text-sm ${t?"text-gray-300":"text-gray-600"}`,children:"  (v_obs)   .  (v_dm)    ."}),x.jsx(rh,{width:"100%",height:350,children:x.jsxs(iC,{data:i,children:[x.jsx(cc,{strokeDasharray:"3 3",stroke:u.grid}),x.jsx(uc,{dataKey:"r",label:{value:" r (kpc)",position:"bottom",offset:10},tick:{fill:u.text}}),x.jsx(hc,{label:{value:" (km/s)",angle:-90,position:"insideLeft"},tick:{fill:u.text}}),x.jsx(ih,{contentStyle:{backgroundColor:t?"#1f2937":"#ffffff"}}),x.jsx(uS,{}),x.jsx(Ta,{type:"monotone",dataKey:"v_obs",stroke:"#3b82f6",strokeWidth:3,name:" (Total)",dot:{r:3}}),x.jsx(Ta,{type:"monotone",dataKey:"v_disk",stroke:"#f59e0b",strokeWidth:2,name:" "}),x.jsx(Ta,{type:"monotone",dataKey:"v_dm",stroke:"#8b5cf6",strokeWidth:2,name:"",strokeDasharray:"5 5"})]})}),x.jsxs("div",{className:`mt-6 p-4 rounded text-sm ${t?"bg-gray-700":"bg-blue-50"}`,children:[x.jsx("p",{className:"font-semibold mb-2",children:" :"}),x.jsxs("ul",{className:"space-y-1 text-xs",children:[x.jsxs("li",{children:[" ",x.jsx("strong",{children:"Flat rotation curve"}),":    "]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:" "}),":  90% "]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:"CDM "}),":    "]})]})]})]}),e==="hr"&&x.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:`p-6 rounded-lg border ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[x.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Hertzsprung-Russell "}),x.jsx("p",{className:`mb-6 text-sm ${t?"text-gray-300":"text-gray-600"}`,children:" () ( ) .    ."}),x.jsx(rh,{width:"100%",height:350,children:x.jsxs(Q1e,{data:s,children:[x.jsx(cc,{strokeDasharray:"3 3",stroke:u.grid}),x.jsx(uc,{type:"number",dataKey:"temp",name:" (K)",label:{value:"  (K)",position:"bottom",offset:10},tick:{fill:u.text}}),x.jsx(hc,{type:"number",dataKey:"mag",name:"",label:{value:"  ( -)",angle:-90,position:"insideLeft"},tick:{fill:u.text}}),x.jsx(ih,{cursor:{strokeDasharray:"3 3"},contentStyle:{backgroundColor:t?"#1f2937":"#ffffff"}}),x.jsx(tv,{name:"",data:s.filter(d=>d.type==="Main Sequence"),fill:"#ef4444"}),x.jsx(tv,{name:"",data:s.filter(d=>d.type==="Giants"),fill:"#f59e0b"}),x.jsx(tv,{name:"",data:s.filter(d=>d.type==="Supergiants"),fill:"#ec4899"}),x.jsx(tv,{name:"",data:s.filter(d=>d.type==="White Dwarfs"),fill:"#8b5cf6"})]})}),x.jsxs("div",{className:`mt-6 p-4 rounded text-sm ${t?"bg-gray-700":"bg-blue-50"}`,children:[x.jsx("p",{className:"font-semibold mb-2",children:" :"}),x.jsxs("ul",{className:"space-y-1 text-xs",children:[x.jsxs("li",{children:[" ",x.jsx("strong",{children:""}),":     "]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:"/"}),":    ,    "]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:""}),":   ,    "]})]})]})]}),e==="gw"&&x.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:`p-6 rounded-lg border ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[x.jsx("h2",{className:"text-2xl font-bold mb-2",children:"  (Binary BH Merger)"}),x.jsx("p",{className:`mb-6 text-sm ${t?"text-gray-300":"text-gray-600"}`,children:"    LIGO     h(t). Chirp   ."}),x.jsx(rh,{width:"100%",height:350,children:x.jsxs(iC,{data:a,children:[x.jsx(cc,{strokeDasharray:"3 3",stroke:u.grid}),x.jsx(uc,{dataKey:"t",label:{value:" ()",position:"bottom",offset:10},tick:{fill:u.text}}),x.jsx(hc,{label:{value:" h(t)  10^-21",angle:-90,position:"insideLeft"},tick:{fill:u.text}}),x.jsx(ih,{contentStyle:{backgroundColor:t?"#1f2937":"#ffffff"}}),x.jsx(Ta,{type:"monotone",dataKey:"h",stroke:"#06b6d4",strokeWidth:2,dot:{r:3}})]})}),x.jsxs("div",{className:`mt-6 p-4 rounded text-sm ${t?"bg-gray-700":"bg-blue-50"}`,children:[x.jsx("p",{className:"font-semibold mb-2",children:" :"}),x.jsxs("ul",{className:"space-y-1 text-xs",children:[x.jsxs("li",{children:[" ",x.jsx("strong",{children:"Chirp "}),":   +   ( )"]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:"GW150914"}),": 36+29 M BH , SNR=24"]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:" "}),": LIGO (35-250 Hz) ~100"]})]})]})]}),e==="exoplanet"&&x.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:`p-6 rounded-lg border ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[x.jsx("h2",{className:"text-2xl font-bold mb-2",children:"    (Transit)"}),x.jsx("p",{className:`mb-6 text-sm ${t?"text-gray-300":"text-gray-600"}`,children:"     ~0.01% . Kepler, TESS 5500+  ."}),x.jsx(rh,{width:"100%",height:350,children:x.jsxs(rC,{data:o,children:[x.jsx(cc,{strokeDasharray:"3 3",stroke:u.grid}),x.jsx(uc,{dataKey:"phase",label:{value:" ",position:"bottom",offset:10},tick:{fill:u.text}}),x.jsx(hc,{label:{value:" ",angle:-90,position:"insideLeft"},tick:{fill:u.text},domain:[.989,1.001]}),x.jsx(ih,{contentStyle:{backgroundColor:t?"#1f2937":"#ffffff"}}),x.jsx(Ta,{type:"monotone",dataKey:"flux",stroke:"#10b981",strokeWidth:2,dot:!1})]})}),x.jsxs("div",{className:`mt-6 p-4 rounded text-sm ${t?"bg-gray-700":"bg-blue-50"}`,children:[x.jsx("p",{className:"font-semibold mb-2",children:" :"}),x.jsxs("ul",{className:"space-y-1 text-xs",children:[x.jsxs("li",{children:[" ",x.jsx("strong",{children:" "}),": F/F = (R_p/R_*) ~ 0.01% ()"]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:" "}),":   "]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:"TESS "}),": 600+   ( )"]})]})]})]}),e==="supernovae"&&x.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:`p-6 rounded-lg border ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[x.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Type Ia   ()"}),x.jsx("p",{className:`mb-6 text-sm ${t?"text-gray-300":"text-gray-600"}`,children:"   .   M_V  -19.3. Phillips      ."}),x.jsx(rh,{width:"100%",height:350,children:x.jsxs(rC,{data:l,children:[x.jsx(cc,{strokeDasharray:"3 3",stroke:u.grid}),x.jsx(uc,{dataKey:"day",label:{value:" ( )",position:"bottom",offset:10},tick:{fill:u.text}}),x.jsx(hc,{label:{value:"  ( +)",angle:-90,position:"insideLeft"},reversed:!0,tick:{fill:u.text}}),x.jsx(ih,{contentStyle:{backgroundColor:t?"#1f2937":"#ffffff"}}),x.jsx(Ta,{type:"monotone",dataKey:"mag",stroke:"#f97316",strokeWidth:2,dot:{r:4}})]})}),x.jsxs("div",{className:`mt-6 p-4 rounded text-sm ${t?"bg-gray-700":"bg-blue-50"}`,children:[x.jsx("p",{className:"font-semibold mb-2",children:" :"}),x.jsxs("ul",{className:"space-y-1 text-xs",children:[x.jsxs("li",{children:[" ",x.jsx("strong",{children:""}),": Phillips     "]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:"  "}),": 1998 Riess, Perlmutter (Nobel 2011)"]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:"H "}),": SH0ES H = 73.041.04 km/s/Mpc (2022)"]})]})]})]}),e==="dm-wimp"&&x.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:`p-6 rounded-lg border ${t?"bg-gray-800 border-gray-700":"bg-white border-gray-200"}`,children:[x.jsx("h2",{className:"text-2xl font-bold mb-2",children:"WIMP    (XENON, LUX)"}),x.jsx("p",{className:`mb-6 text-sm ${t?"text-gray-300":"text-gray-600"}`,children:"WIMP-    (  vs  ).  100 GeV   ."}),x.jsx(rh,{width:"100%",height:350,children:x.jsxs(iC,{data:c,children:[x.jsx(cc,{strokeDasharray:"3 3",stroke:u.grid}),x.jsx(uc,{dataKey:"mass",label:{value:"WIMP  (GeV/c)",position:"bottom",offset:10},tick:{fill:u.text}}),x.jsx(hc,{label:{value:"  ( )",angle:-90,position:"insideLeft"},tick:{fill:u.text}}),x.jsx(ih,{contentStyle:{backgroundColor:t?"#1f2937":"#ffffff"}}),x.jsx(uS,{}),x.jsx(Ta,{type:"monotone",dataKey:"currentLimit",stroke:"#ef4444",strokeWidth:2,name:"  (XENON1T)"}),x.jsx(Ta,{type:"monotone",dataKey:"futureLimit",stroke:"#06b6d4",strokeWidth:2,strokeDasharray:"5 5",name:"  (DARWIN)"})]})}),x.jsxs("div",{className:`mt-6 p-4 rounded text-sm ${t?"bg-gray-700":"bg-blue-50"}`,children:[x.jsx("p",{className:"font-semibold mb-2",children:" :"}),x.jsxs("ul",{className:"space-y-1 text-xs",children:[x.jsxs("li",{children:[" ",x.jsx("strong",{children:" "}),": WIMP-     "]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:""}),":  ~ 10 cm (), 10 cm ( )"]}),x.jsxs("li",{children:[" ",x.jsx("strong",{children:" "}),":  WIMP       ,   "]})]})]})]})]})}function nSe(){const{isDark:t}=Rs(),[e,n]=A.useState("schwarzschild"),[r,i]=A.useState({mass:10}),[s,a]=A.useState({mass:10,spin:.5}),[o,l]=A.useState({mass:1,age:10}),[c,u]=A.useState({redshift:1,magnitude:20}),[d,f]=A.useState({redshift:1e3}),p=()=>{const P=1989e27,O=6674e-14,C=3e8,k=r.mass*P;return 2*O*k/(C*C)/1e3},g=()=>{const O=s.mass*1.477,C=s.spin,k=1+Math.cbrt(1-C*C)*(Math.cbrt(1+C)-Math.cbrt(1-C)),N=Math.sqrt(3*C*C+k*k);return O*(3+N-Math.sqrt((3-k)*(3+k+2*N)))},y=()=>{const P=o.mass,O=Math.pow(P,3.5);return P/O*10},b=()=>{const P=c.redshift,O=67.4,C=3e5,k=.315,N=.685;let L=0;const R=P/1e3;for(let j=0;j<1e3;j++){const G=j*R,Z=Math.sqrt(k*(1+G)**3+N);L+=C/(O*Z)*R}return(1+P)*L},v=()=>2.725*(1+d.redshift),S=t?"bg-gray-800 border-gray-700":"bg-white border-gray-200",w=t?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300",T=t?"text-gray-300":"text-gray-700";return x.jsxs("div",{className:"space-y-12",children:[x.jsxs(ee.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6},children:[x.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4 bg-gradient-to-r from-purple-600 to-blue-600 dark:from-purple-400 dark:to-blue-400 bg-clip-text text-transparent",children:" "}),x.jsx("p",{className:`text-sm sm:text-base ${t?"text-gray-300":"text-gray-600"}`,children:", ,    "})]}),x.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-4",children:[{id:"schwarzschild",label:"Schwarzschild ",icon:""},{id:"isco",label:"ISCO ",icon:""},{id:"lifetime",label:" ",icon:""},{id:"lumdist",label:" ",icon:""},{id:"cmb",label:"CMB ",icon:""}].map(P=>x.jsxs("button",{onClick:()=>n(P.id),className:`px-4 py-2 rounded-lg font-medium transition-all ${e===P.id?"bg-blue-600 text-white":t?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[x.jsx("span",{className:"mr-1",children:P.icon}),P.label]},P.id))}),e==="schwarzschild"&&x.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`p-6 rounded-lg border ${S}`,children:[x.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Schwarzschild "}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-semibold mb-2 ${T}`,children:"  ( M)"}),x.jsx("input",{type:"number",value:r.mass,onChange:P=>i({mass:parseFloat(P.target.value)||0}),min:"0.1",max:"1e10",step:"1",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${w}`}),x.jsx("p",{className:`text-xs mt-2 ${t?"text-gray-400":"text-gray-500"}`,children:": 1,   : 310, Sgr A*: 410"})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-semibold mb-2 ${T}`,children:""}),x.jsx("div",{className:`p-3 rounded text-sm font-mono ${t?"bg-gray-700":"bg-gray-100"}`,children:"r_s = 2GM/c = 2.95 km  (M/M)"})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-semibold mb-2 ${T}`,children:" "}),x.jsxs("ul",{className:`text-xs space-y-1 ${t?"text-gray-300":"text-gray-700"}`,children:[x.jsx("li",{children:"   "}),x.jsx("li",{children:"    "}),x.jsx("li",{children:"      "})]})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:`p-6 rounded-lg ${t?"bg-gray-700":"bg-blue-50"}`,children:[x.jsx("p",{className:`text-sm font-semibold mb-2 ${t?"text-gray-300":"text-gray-600"}`,children:"Schwarzschild "}),x.jsxs("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:[p().toFixed(2)," km"]}),x.jsxs("p",{className:`text-xs mt-3 ${t?"text-gray-400":"text-gray-500"}`,children:["= ",(p()/6.371).toFixed(1),"  "]})]}),x.jsxs("div",{className:`p-4 rounded text-sm ${t?"bg-gray-700":"bg-yellow-50"}`,children:[x.jsx("p",{className:"font-semibold mb-2",children:" :"}),x.jsxs("ul",{className:`space-y-1 text-xs ${t?"text-gray-300":"text-gray-700"}`,children:[x.jsx("li",{children:"  (1 M): r_s  2.95 km"}),x.jsx("li",{children:" Sgr A* (410 M): r_s  12  km"}),x.jsx("li",{children:"  : r_s = 8.9 mm"})]})]})]})]})]}),e==="isco"&&x.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`p-6 rounded-lg border ${S}`,children:[x.jsx("h2",{className:"text-2xl font-bold mb-4",children:"ISCO (  )"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-semibold mb-2 ${T}`,children:"  ( M)"}),x.jsx("input",{type:"number",value:s.mass,onChange:P=>a({...s,mass:parseFloat(P.target.value)||0}),min:"1",max:"1e10",step:"1",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${w}`})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-semibold mb-2 ${T}`,children:"  a* (0~1)"}),x.jsx("input",{type:"number",value:s.spin,onChange:P=>a({...s,spin:Math.min(1,Math.max(0,parseFloat(P.target.value)||0))}),min:"0",max:"1",step:"0.1",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${w}`}),x.jsx("p",{className:`text-xs mt-2 ${t?"text-gray-400":"text-gray-500"}`,children:"0: (Schwarzschild), 1:  (Kerr)"})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-semibold mb-2 ${T}`,children:"Schwarzschild ISCO"}),x.jsx("div",{className:`p-3 rounded text-sm font-mono ${t?"bg-gray-700":"bg-gray-100"}`,children:"r_ISCO = 6 GM/c"})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:`p-6 rounded-lg ${t?"bg-gray-700":"bg-blue-50"}`,children:[x.jsx("p",{className:`text-sm font-semibold mb-2 ${t?"text-gray-300":"text-gray-600"}`,children:"ISCO "}),x.jsxs("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:[g().toFixed(2)," km"]}),x.jsxs("p",{className:`text-xs mt-3 ${t?"text-gray-400":"text-gray-500"}`,children:["Schwarzschild  ",(g()/(s.mass*1.477*3)).toFixed(1),""]})]}),x.jsxs("div",{className:`p-4 rounded text-sm ${t?"bg-gray-700":"bg-yellow-50"}`,children:[x.jsx("p",{className:"font-semibold mb-2",children:" :"}),x.jsxs("ul",{className:`space-y-1 text-xs ${t?"text-gray-300":"text-gray-700"}`,children:[x.jsx("li",{children:" a*=0 (Schwarzschild): r_ISCO = 6 GM/c"}),x.jsx("li",{children:" a*=1 ( Kerr): r_ISCO = GM/c (r_s/2)"}),x.jsx("li",{children:"   ISCO  "}),x.jsx("li",{children:"     1 - (1 - 2/r_ISCO)"})]})]})]})]})]}),e==="lifetime"&&x.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`p-6 rounded-lg border ${S}`,children:[x.jsx("h2",{className:"text-2xl font-bold mb-4",children:"  "}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-semibold mb-2 ${T}`,children:"  ( M)"}),x.jsx("input",{type:"number",value:o.mass,onChange:P=>l({...o,mass:parseFloat(P.target.value)||.1}),min:"0.1",max:"100",step:"0.1",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${w}`}),x.jsx("p",{className:`text-xs mt-2 ${t?"text-gray-400":"text-gray-500"}`,children:" : 0.1~0.5, : 1, : 20~50"})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-semibold mb-2 ${T}`,children:""}),x.jsxs("div",{className:`p-3 rounded text-sm font-mono ${t?"bg-gray-700":"bg-gray-100"}`,children:["t  10 Gyr  (M/M) / L",x.jsx("br",{className:"mt-2"}),"L  (M/M)^3.5"]})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-semibold mb-2 ${T}`,children:""}),x.jsxs("ul",{className:`text-xs space-y-1 ${t?"text-gray-300":"text-gray-700"}`,children:[x.jsx("li",{children:" - :      "}),x.jsx("li",{children:"  : ~13.8 Gyr"}),x.jsx("li",{children:"  :    "})]})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:`p-6 rounded-lg ${t?"bg-gray-700":"bg-blue-50"}`,children:[x.jsx("p",{className:`text-sm font-semibold mb-2 ${t?"text-gray-300":"text-gray-600"}`,children:" "}),x.jsxs("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:[y().toFixed(2)," Gyr"]}),x.jsxs("p",{className:`text-xs mt-3 ${t?"text-gray-400":"text-gray-500"}`,children:["= ",(y()*1e9).toExponential(2)," "]})]}),x.jsxs("div",{className:`p-4 rounded text-sm ${t?"bg-gray-700":"bg-yellow-50"}`,children:[x.jsx("p",{className:"font-semibold mb-2",children:" :"}),x.jsxs("ul",{className:`space-y-1 text-xs ${t?"text-gray-300":"text-gray-700"}`,children:[x.jsx("li",{children:" M=0.1 M: ~700 Gyr ( )"}),x.jsx("li",{children:" M=1 M (): ~10 Gyr"}),x.jsx("li",{children:" M=10 M: ~10 Myr (1 )"}),x.jsx("li",{children:" M=50 M: ~2 Myr (200 )"})]})]})]})]})]}),e==="lumdist"&&x.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`p-6 rounded-lg border ${S}`,children:[x.jsx("h2",{className:"text-2xl font-bold mb-4",children:"  (Luminosity Distance)"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-semibold mb-2 ${T}`,children:" (z)"}),x.jsx("input",{type:"number",value:c.redshift,onChange:P=>u({...c,redshift:parseFloat(P.target.value)||0}),min:"0",max:"10",step:"0.1",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${w}`}),x.jsx("p",{className:`text-xs mt-2 ${t?"text-gray-400":"text-gray-500"}`,children:" : z~0.01,  : z~1,  : z~10+"})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-semibold mb-2 ${T}`,children:""}),x.jsxs("div",{className:`p-3 rounded text-sm font-mono ${t?"bg-gray-700":"bg-gray-100"}`,children:["d_L = (1+z)d_c",x.jsx("br",{className:"mt-2"}),"d_c:  "]})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:`p-6 rounded-lg ${t?"bg-gray-700":"bg-blue-50"}`,children:[x.jsx("p",{className:`text-sm font-semibold mb-2 ${t?"text-gray-300":"text-gray-600"}`,children:" "}),x.jsxs("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:[b().toFixed(1)," Mpc"]}),x.jsxs("p",{className:`text-xs mt-3 ${t?"text-gray-400":"text-gray-500"}`,children:["= ",(b()*3086e19).toExponential(2)," m"]})]}),x.jsxs("div",{className:`p-4 rounded text-sm ${t?"bg-gray-700":"bg-yellow-50"}`,children:[x.jsx("p",{className:"font-semibold mb-2",children:" :"}),x.jsxs("ul",{className:`space-y-1 text-xs ${t?"text-gray-300":"text-gray-700"}`,children:[x.jsx("li",{children:"      "}),x.jsx("li",{children:"   "}),x.jsx("li",{children:"  "})]})]})]})]})]}),e==="cmb"&&x.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`p-6 rounded-lg border ${S}`,children:[x.jsx("h2",{className:"text-2xl font-bold mb-4",children:"   "}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-semibold mb-2 ${T}`,children:" (z)"}),x.jsx("input",{type:"number",value:d.redshift,onChange:P=>f({redshift:parseFloat(P.target.value)||0}),min:"0",max:"10000",step:"100",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${w}`}),x.jsx("p",{className:`text-xs mt-2 ${t?"text-gray-400":"text-gray-500"}`,children:": z~1100,  : z~10000+"})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-semibold mb-2 ${T}`,children:""}),x.jsxs("div",{className:`p-3 rounded text-sm font-mono ${t?"bg-gray-700":"bg-gray-100"}`,children:["T(z) = T(1+z)",x.jsx("br",{className:"mt-2"}),"T = 2.725 K"]})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:`p-6 rounded-lg ${t?"bg-gray-700":"bg-blue-50"}`,children:[x.jsx("p",{className:`text-sm font-semibold mb-2 ${t?"text-gray-300":"text-gray-600"}`,children:"CMB "}),x.jsxs("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:[v().toFixed(1)," K"]}),x.jsxs("p",{className:`text-xs mt-3 ${t?"text-gray-400":"text-gray-500"}`,children:["= ",(v()*8617e-8).toExponential(2)," eV"]})]}),x.jsxs("div",{className:`p-4 rounded text-sm ${t?"bg-gray-700":"bg-yellow-50"}`,children:[x.jsx("p",{className:"font-semibold mb-2",children:" :"}),x.jsxs("ul",{className:`space-y-1 text-xs ${t?"text-gray-300":"text-gray-700"}`,children:[x.jsx("li",{children:" (z=0): T = 2.725 K"}),x.jsx("li",{children:" (z=1100): T  3000 K"}),x.jsx("li",{children:"   "})]})]})]})]})]})]})}const rSe=()=>{};var w$={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},iSe=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},hq={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|o>>4;let f=(o&15)<<2|c>>6,p=c&63;l||(p=64,a||(f=64)),r.push(n[u],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uq(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iSe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||d==null)throw new sSe;const f=s<<2|o>>4;if(r.push(f),c!==64){const p=o<<4&240|c>>2;if(r.push(p),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sSe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aSe=function(t){const e=uq(t);return hq.encodeByteArray(e,!0)},QA=function(t){return aSe(t).replace(/\./g,"")},dq=function(t){try{return hq.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oSe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lSe=()=>oSe().__FIREBASE_DEFAULTS__,cSe=()=>{if(typeof process>"u"||typeof w$>"u")return;const t=w$.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uSe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dq(t[1]);return e&&JSON.parse(e)},QN=()=>{try{return rSe()||lSe()||cSe()||uSe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},fq=t=>{var e,n;return(n=(e=QN())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},pq=t=>{const e=fq(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},mq=()=>{var t;return(t=QN())==null?void 0:t.config},gq=t=>{var e;return(e=QN())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hSe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eR(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yq(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[QA(JSON.stringify(n)),QA(JSON.stringify(a)),""].join(".")}const wv={};function dSe(){const t={prod:[],emulator:[]};for(const e of Object.keys(wv))wv[e]?t.emulator.push(e):t.prod.push(e);return t}function fSe(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let x$=!1;function tR(t,e){if(typeof window>"u"||typeof document>"u"||!$g(window.location.host)||wv[t]===e||wv[t]||x$)return;wv[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=dSe().prod.length>0;function a(){const f=document.getElementById(r);f&&f.remove()}function o(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{x$=!0,a()},f}function u(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=fSe(r),p=n("text"),g=document.getElementById(p)||document.createElement("span"),y=n("learnmore"),b=document.getElementById(y)||document.createElement("a"),v=n("preprendIcon"),S=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const w=f.element;o(w),u(b,y);const T=c();l(S,v),w.append(S,g,b,T),document.body.appendChild(w)}s?(g.innerText="Preview backend disconnected.",S.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(S.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pSe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wr())}function mSe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gSe(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ySe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vSe(){const t=Wr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function bSe(){try{return typeof indexedDB=="object"}catch{return!1}}function wSe(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xSe="FirebaseError";class xo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xSe,Object.setPrototypeOf(this,xo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yw.prototype.create)}}class Yw{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?SSe(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new xo(i,o,r)}}function SSe(t,e){return t.replace(ASe,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ASe=/\{\$([^}]+)}/g;function _Se(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(S$(s)&&S$(a)){if(!pf(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function S$(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nv(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function rv(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ESe(t,e){const n=new PSe(t,e);return n.subscribe.bind(n)}class PSe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TSe(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=sC),i.error===void 0&&(i.error=sC),i.complete===void 0&&(i.complete=sC);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TSe(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sC(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(t){return t&&t._delegate?t._delegate:t}class Fu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CSe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hSe;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ISe(e))try{this.getOrInitializeService({instanceIdentifier:ph})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ph){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ph){return this.instances.has(e)}getOptions(e=ph){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kSe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ph){return this.component?this.component.multipleInstances?e:ph:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kSe(t){return t===ph?void 0:t}function ISe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OSe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CSe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const MSe={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},DSe=ze.INFO,NSe={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},RSe=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=NSe[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nR{constructor(e){this.name=e,this._logLevel=DSe,this._logHandler=RSe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MSe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const LSe=(t,e)=>e.some(n=>t instanceof n);let A$,_$;function jSe(){return A$||(A$=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FSe(){return _$||(_$=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vq=new WeakMap,lO=new WeakMap,bq=new WeakMap,aC=new WeakMap,rR=new WeakMap;function BSe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Cu(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&vq.set(n,t)}).catch(()=>{}),rR.set(e,t),e}function $Se(t){if(lO.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});lO.set(t,e)}let cO={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lO.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bq.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cu(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function USe(t){cO=t(cO)}function VSe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(oC(this),e,...n);return bq.set(r,e.sort?e.sort():[e]),Cu(r)}:FSe().includes(t)?function(...e){return t.apply(oC(this),e),Cu(vq.get(this))}:function(...e){return Cu(t.apply(oC(this),e))}}function zSe(t){return typeof t=="function"?VSe(t):(t instanceof IDBTransaction&&$Se(t),LSe(t,jSe())?new Proxy(t,cO):t)}function Cu(t){if(t instanceof IDBRequest)return BSe(t);if(aC.has(t))return aC.get(t);const e=zSe(t);return e!==t&&(aC.set(t,e),rR.set(e,t)),e}const oC=t=>rR.get(t);function HSe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Cu(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Cu(a.result),l.oldVersion,l.newVersion,Cu(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const WSe=["get","getKey","getAll","getAllKeys","count"],GSe=["put","add","delete","clear"],lC=new Map;function E$(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lC.get(e))return lC.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=GSe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WSe.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return lC.set(e,s),s}USe(t=>({...t,get:(e,n,r)=>E$(e,n)||t.get(e,n,r),has:(e,n)=>!!E$(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KSe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qSe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qSe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const uO="@firebase/app",P$="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=new nR("@firebase/app"),XSe="@firebase/app-compat",YSe="@firebase/analytics-compat",JSe="@firebase/analytics",ZSe="@firebase/app-check-compat",QSe="@firebase/app-check",eAe="@firebase/auth",tAe="@firebase/auth-compat",nAe="@firebase/database",rAe="@firebase/data-connect",iAe="@firebase/database-compat",sAe="@firebase/functions",aAe="@firebase/functions-compat",oAe="@firebase/installations",lAe="@firebase/installations-compat",cAe="@firebase/messaging",uAe="@firebase/messaging-compat",hAe="@firebase/performance",dAe="@firebase/performance-compat",fAe="@firebase/remote-config",pAe="@firebase/remote-config-compat",mAe="@firebase/storage",gAe="@firebase/storage-compat",yAe="@firebase/firestore",vAe="@firebase/ai",bAe="@firebase/firestore-compat",wAe="firebase",xAe="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="[DEFAULT]",SAe={[uO]:"fire-core",[XSe]:"fire-core-compat",[JSe]:"fire-analytics",[YSe]:"fire-analytics-compat",[QSe]:"fire-app-check",[ZSe]:"fire-app-check-compat",[eAe]:"fire-auth",[tAe]:"fire-auth-compat",[nAe]:"fire-rtdb",[rAe]:"fire-data-connect",[iAe]:"fire-rtdb-compat",[sAe]:"fire-fn",[aAe]:"fire-fn-compat",[oAe]:"fire-iid",[lAe]:"fire-iid-compat",[cAe]:"fire-fcm",[uAe]:"fire-fcm-compat",[hAe]:"fire-perf",[dAe]:"fire-perf-compat",[fAe]:"fire-rc",[pAe]:"fire-rc-compat",[mAe]:"fire-gcs",[gAe]:"fire-gcs-compat",[yAe]:"fire-fst",[bAe]:"fire-fst-compat",[vAe]:"fire-vertex","fire-js":"fire-js",[wAe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=new Map,AAe=new Map,dO=new Map;function T$(t,e){try{t.container.addComponent(e)}catch(n){$l.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mf(t){const e=t.name;if(dO.has(e))return $l.debug(`There were multiple attempts to register component ${e}.`),!1;dO.set(e,t);for(const n of e_.values())T$(n,t);for(const n of AAe.values())T$(n,t);return!0}function cP(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $i(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Ae={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ku=new Yw("app","Firebase",_Ae);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EAe{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ku.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf=xAe;function wq(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:hO,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ku.create("bad-app-name",{appName:String(i)});if(n||(n=mq()),!n)throw ku.create("no-options");const s=e_.get(i);if(s){if(pf(n,s.options)&&pf(r,s.config))return s;throw ku.create("duplicate-app",{appName:i})}const a=new OSe(i);for(const l of dO.values())a.addComponent(l);const o=new EAe(n,r,a);return e_.set(i,o),o}function iR(t=hO){const e=e_.get(t);if(!e&&t===hO&&mq())return wq();if(!e)throw ku.create("no-app",{appName:t});return e}function co(t,e,n){let r=SAe[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$l.warn(a.join(" "));return}mf(new Fu(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PAe="firebase-heartbeat-database",TAe=1,g0="firebase-heartbeat-store";let cC=null;function xq(){return cC||(cC=HSe(PAe,TAe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(g0)}catch(n){console.warn(n)}}}}).catch(t=>{throw ku.create("idb-open",{originalErrorMessage:t.message})})),cC}async function CAe(t){try{const n=(await xq()).transaction(g0),r=await n.objectStore(g0).get(Sq(t));return await n.done,r}catch(e){if(e instanceof xo)$l.warn(e.message);else{const n=ku.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$l.warn(n.message)}}}async function C$(t,e){try{const r=(await xq()).transaction(g0,"readwrite");await r.objectStore(g0).put(e,Sq(t)),await r.done}catch(n){if(n instanceof xo)$l.warn(n.message);else{const r=ku.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$l.warn(r.message)}}}function Sq(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kAe=1024,IAe=30;class OAe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DAe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=k$();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>IAe){const a=NAe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){$l.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=k$(),{heartbeatsToSend:r,unsentEntries:i}=MAe(this._heartbeatsCache.heartbeats),s=QA(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return $l.warn(n),""}}}function k$(){return new Date().toISOString().substring(0,10)}function MAe(t,e=kAe){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),I$(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),I$(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class DAe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bSe()?wSe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CAe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return C$(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return C$(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function I$(t){return QA(JSON.stringify({version:2,heartbeats:t})).length}function NAe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RAe(t){mf(new Fu("platform-logger",e=>new KSe(e),"PRIVATE")),mf(new Fu("heartbeat",e=>new OAe(e),"PRIVATE")),co(uO,P$,t),co(uO,P$,"esm2020"),co("fire-js","")}RAe("");function Aq(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LAe=Aq,_q=new Yw("auth","Firebase",Aq());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=new nR("@firebase/auth");function jAe(t,...e){t_.logLevel<=ze.WARN&&t_.warn(`Auth (${Pf}): ${t}`,...e)}function fS(t,...e){t_.logLevel<=ze.ERROR&&t_.error(`Auth (${Pf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(t,...e){throw sR(t,...e)}function uo(t,...e){return sR(t,...e)}function Eq(t,e,n){const r={...LAe(),[e]:n};return new Yw("auth","Firebase",r).create(e,{appName:t.name})}function _l(t){return Eq(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sR(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _q.create(t,...e)}function pe(t,e,...n){if(!t)throw sR(e,...n)}function bl(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fS(e),new Error(e)}function Ul(t,e){t||bl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fO(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function FAe(){return O$()==="http:"||O$()==="https:"}function O$(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BAe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FAe()||gSe()||"connection"in navigator)?navigator.onLine:!0}function $Ae(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ul(n>e,"Short delay should be less than long delay!"),this.isMobile=pSe()||ySe()}get(){return BAe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t,e){Ul(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pq{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UAe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VAe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zAe=new Zw(3e4,6e4);function Yu(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ju(t,e,n,r,i={}){return Tq(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=Jw({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return mSe()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&$g(t.emulatorConfig.host)&&(c.credentials="include"),Pq.fetch()(await Cq(t,t.config.apiHost,n,o),c)})}async function Tq(t,e,n){t._canInitEmulator=!1;const r={...UAe,...e};try{const i=new WAe(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw i1(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw i1(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw i1(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw i1(t,"user-disabled",a);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Eq(t,u,c);ya(t,u)}}catch(i){if(i instanceof xo)throw i;ya(t,"network-request-failed",{message:String(i)})}}async function Qw(t,e,n,r,i={}){const s=await Ju(t,e,n,r,i);return"mfaPendingCredential"in s&&ya(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Cq(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?aR(t.config,i):`${t.config.apiScheme}://${i}`;return VAe.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function HAe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WAe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(uo(this.auth,"network-request-failed")),zAe.get())})}}function i1(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=uo(t,e,r);return i.customData._tokenResponse=n,i}function M$(t){return t!==void 0&&t.enterprise!==void 0}class GAe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HAe(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function KAe(t,e){return Ju(t,"GET","/v2/recaptchaConfig",Yu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qAe(t,e){return Ju(t,"POST","/v1/accounts:delete",e)}async function n_(t,e){return Ju(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XAe(t,e=!1){const n=Zl(t),r=await n.getIdToken(e),i=oR(r);pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:xv(uC(i.auth_time)),issuedAtTime:xv(uC(i.iat)),expirationTime:xv(uC(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function uC(t){return Number(t)*1e3}function oR(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fS("JWT malformed, contained fewer than 3 sections"),null;try{const i=dq(n);return i?JSON.parse(i):(fS("Failed to decode base64 JWT payload"),null)}catch(i){return fS("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function D$(t){const e=oR(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y0(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xo&&YAe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function YAe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JAe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xv(this.lastLoginAt),this.creationTime=xv(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r_(t){var d;const e=t.auth,n=await t.getIdToken(),r=await y0(t,n_(e,{idToken:n}));pe(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(d=i.providerUserInfo)!=null&&d.length?kq(i.providerUserInfo):[],a=QAe(t.providerData,s),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=o?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new pO(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function ZAe(t){const e=Zl(t);await r_(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QAe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function kq(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e_e(t,e){const n=await Tq(t,{},async()=>{const r=Jw({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await Cq(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&$g(t.emulatorConfig.host)&&(l.credentials="include"),Pq.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function t_e(t,e){return Ju(t,"POST","/v2/accounts:revokeToken",Yu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):D$(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const n=D$(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await e_e(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Cp;return r&&(pe(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(pe(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cp,this.toJSON())}_performRefresh(){return bl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class la{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new JAe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new pO(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await y0(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return XAe(this,e)}reload(){return ZAe(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new la({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await r_(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($i(this.auth.app))return Promise.reject(_l(this.auth));const e=await this.getIdToken();return await y0(this,qAe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:p,providerData:g,stsTokenManager:y}=n;pe(d&&y,e,"internal-error");const b=Cp.fromJSON(this.name,y);pe(typeof d=="string",e,"internal-error"),ac(r,e.name),ac(i,e.name),pe(typeof f=="boolean",e,"internal-error"),pe(typeof p=="boolean",e,"internal-error"),ac(s,e.name),ac(a,e.name),ac(o,e.name),ac(l,e.name),ac(c,e.name),ac(u,e.name);const v=new la({uid:d,auth:e,email:i,emailVerified:f,displayName:r,isAnonymous:p,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:b,createdAt:c,lastLoginAt:u});return g&&Array.isArray(g)&&(v.providerData=g.map(S=>({...S}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const i=new Cp;i.updateFromServerResponse(n);const s=new la({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await r_(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];pe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?kq(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Cp;o.updateFromIdToken(r);const l=new la({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new pO(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$=new Map;function wl(t){Ul(t instanceof Function,"Expected a class definition");let e=N$.get(t);return e?(Ul(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,N$.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Iq.type="NONE";const R$=Iq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(t,e,n){return`firebase:${t}:${e}:${n}`}class kp{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=pS(this.userKey,i.apiKey,s),this.fullPersistenceKey=pS("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await n_(this.auth,{idToken:e}).catch(()=>{});return n?la._fromGetAccountInfoResponse(this.auth,n,e):null}return la._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new kp(wl(R$),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||wl(R$);const a=pS(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const u=await c._get(a);if(u){let d;if(typeof u=="string"){const f=await n_(e,{idToken:u}).catch(()=>{});if(!f)break;d=await la._fromGetAccountInfoResponse(e,f,u)}else d=la._fromJSON(e,u);c!==s&&(o=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new kp(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new kp(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L$(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Nq(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Oq(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Lq(e))return"Blackberry";if(jq(e))return"Webos";if(Mq(e))return"Safari";if((e.includes("chrome/")||Dq(e))&&!e.includes("edge/"))return"Chrome";if(Rq(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Oq(t=Wr()){return/firefox\//i.test(t)}function Mq(t=Wr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Dq(t=Wr()){return/crios\//i.test(t)}function Nq(t=Wr()){return/iemobile/i.test(t)}function Rq(t=Wr()){return/android/i.test(t)}function Lq(t=Wr()){return/blackberry/i.test(t)}function jq(t=Wr()){return/webos/i.test(t)}function lR(t=Wr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function n_e(t=Wr()){var e;return lR(t)&&!!((e=window.navigator)!=null&&e.standalone)}function r_e(){return vSe()&&document.documentMode===10}function Fq(t=Wr()){return lR(t)||Rq(t)||jq(t)||Lq(t)||/windows phone/i.test(t)||Nq(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bq(t,e=[]){let n;switch(t){case"Browser":n=L$(Wr());break;case"Worker":n=`${L$(Wr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pf}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_e{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s_e(t,e={}){return Ju(t,"GET","/v2/passwordPolicy",Yu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_e=6;class o_e{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??a_e,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_e{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j$(this),this.idTokenSubscription=new j$(this),this.beforeStateQueue=new i_e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_q,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wl(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await kp.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await n_(this,{idToken:e}),r=await la._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if($i(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await r_(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$Ae()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($i(this.app))return Promise.reject(_l(this));const n=e?Zl(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $i(this.app)?Promise.reject(_l(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $i(this.app)?Promise.reject(_l(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await s_e(this),n=new o_e(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yw("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await t_e(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wl(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await kp.create(this,[wl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Bq(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if($i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&jAe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Tf(t){return Zl(t)}class j${constructor(e){this.auth=e,this.observer=null,this.addObserver=ESe(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uP={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function c_e(t){uP=t}function $q(t){return uP.loadJS(t)}function u_e(){return uP.recaptchaEnterpriseScript}function h_e(){return uP.gapiScript}function d_e(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class f_e{constructor(){this.enterprise=new p_e}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class p_e{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const m_e="recaptcha-enterprise",Uq="NO_RECAPTCHA";class g_e{constructor(e){this.type=m_e,this.auth=Tf(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{KAe(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new GAe(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;M$(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{a(c)}).catch(()=>{a(Uq)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new f_e().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&M$(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=u_e();l.length!==0&&(l+=o),$q(l).then(()=>{i(o,s,a)}).catch(c=>{a(c)})}}).catch(o=>{a(o)})})}}async function F$(t,e,n,r=!1,i=!1){const s=new g_e(t);let a;if(i)a=Uq;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function mO(t,e,n,r,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await F$(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await F$(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_e(t,e){const n=cP(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(pf(s,e??{}))return i;ya(i,"already-initialized")}return n.initialize({options:e})}function v_e(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wl);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function b_e(t,e,n){const r=Tf(t);pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Vq(e),{host:a,port:o}=w_e(e),l=o===null?"":`:${o}`,c={url:`${s}//${a}${l}/`},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pe(pf(c,r.config.emulator)&&pf(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,$g(a)?(eR(`${s}//${a}${l}`),tR("Auth",!0)):x_e()}function Vq(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function w_e(t){const e=Vq(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:B$(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:B$(a)}}}function B$(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function x_e(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bl("not implemented")}_getIdTokenResponse(e){return bl("not implemented")}_linkToIdToken(e,n){return bl("not implemented")}_getReauthenticationResolver(e){return bl("not implemented")}}async function S_e(t,e){return Ju(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A_e(t,e){return Qw(t,"POST","/v1/accounts:signInWithPassword",Yu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __e(t,e){return Qw(t,"POST","/v1/accounts:signInWithEmailLink",Yu(t,e))}async function E_e(t,e){return Qw(t,"POST","/v1/accounts:signInWithEmailLink",Yu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0 extends cR{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new v0(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new v0(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mO(e,n,"signInWithPassword",A_e);case"emailLink":return __e(e,{email:this._email,oobCode:this._password});default:ya(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mO(e,r,"signUpPassword",S_e);case"emailLink":return E_e(e,{idToken:n,email:this._email,oobCode:this._password});default:ya(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ip(t,e){return Qw(t,"POST","/v1/accounts:signInWithIdp",Yu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_e="http://localhost";class gf extends cR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ya("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new gf(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ip(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ip(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ip(e,n)}buildRequest(){const e={requestUri:P_e,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jw(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_e(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function C_e(t){const e=nv(rv(t)).link,n=e?nv(rv(e)).deep_link_id:null,r=nv(rv(t)).deep_link_id;return(r?nv(rv(r)).link:null)||r||n||e||t}class uR{constructor(e){const n=nv(rv(e)),r=n.apiKey??null,i=n.oobCode??null,s=T_e(n.mode??null);pe(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=C_e(e);try{return new uR(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(){this.providerId=Ug.PROVIDER_ID}static credential(e,n){return v0._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=uR.parseLink(n);return pe(r,"argument-error"),v0._fromEmailAndCode(e,r.code,r.tenantId)}}Ug.PROVIDER_ID="password";Ug.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ug.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex extends zq{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends ex{constructor(){super("facebook.com")}static credential(e){return gf._fromParams({providerId:wc.PROVIDER_ID,signInMethod:wc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wc.credentialFromTaggedObject(e)}static credentialFromError(e){return wc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wc.credential(e.oauthAccessToken)}catch{return null}}}wc.FACEBOOK_SIGN_IN_METHOD="facebook.com";wc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends ex{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gf._fromParams({providerId:xc.PROVIDER_ID,signInMethod:xc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xc.credentialFromTaggedObject(e)}static credentialFromError(e){return xc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xc.credential(n,r)}catch{return null}}}xc.GOOGLE_SIGN_IN_METHOD="google.com";xc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends ex{constructor(){super("github.com")}static credential(e){return gf._fromParams({providerId:Sc.PROVIDER_ID,signInMethod:Sc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sc.credentialFromTaggedObject(e)}static credentialFromError(e){return Sc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sc.credential(e.oauthAccessToken)}catch{return null}}}Sc.GITHUB_SIGN_IN_METHOD="github.com";Sc.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends ex{constructor(){super("twitter.com")}static credential(e,n){return gf._fromParams({providerId:Ac.PROVIDER_ID,signInMethod:Ac.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ac.credentialFromTaggedObject(e)}static credentialFromError(e){return Ac.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ac.credential(n,r)}catch{return null}}}Ac.TWITTER_SIGN_IN_METHOD="twitter.com";Ac.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k_e(t,e){return Qw(t,"POST","/v1/accounts:signUp",Yu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await la._fromIdTokenResponse(e,r,i),a=$$(r);return new yf({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=$$(r);return new yf({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function $$(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_ extends xo{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,i_.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new i_(e,n,r,i)}}function Hq(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?i_._fromErrorAndOperation(t,s,e,r):s})}async function I_e(t,e,n=!1){const r=await y0(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yf._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O_e(t,e,n=!1){const{auth:r}=t;if($i(r.app))return Promise.reject(_l(r));const i="reauthenticate";try{const s=await y0(t,Hq(r,i,e,t),n);pe(s.idToken,r,"internal-error");const a=oR(s.idToken);pe(a,r,"internal-error");const{sub:o}=a;return pe(t.uid===o,r,"user-mismatch"),yf._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ya(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wq(t,e,n=!1){if($i(t.app))return Promise.reject(_l(t));const r="signIn",i=await Hq(t,r,e),s=await yf._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function M_e(t,e){return Wq(Tf(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gq(t){const e=Tf(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function D_e(t,e,n){if($i(t.app))return Promise.reject(_l(t));const r=Tf(t),a=await mO(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",k_e).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Gq(t),l}),o=await yf._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function N_e(t,e,n){return $i(t.app)?Promise.reject(_l(t)):M_e(Zl(t),Ug.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Gq(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kq(t,e){return Zl(t).setPersistence(e)}function R_e(t,e,n,r){return Zl(t).onIdTokenChanged(e,n,r)}function L_e(t,e,n){return Zl(t).beforeAuthStateChanged(e,n)}const s_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(s_,"1"),this.storage.removeItem(s_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_e=1e3,F_e=10;class Xq extends qq{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fq(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);r_e()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,F_e):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},j_e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xq.type="LOCAL";const hR=Xq;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq extends qq{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Yq.type="SESSION";const Jq=Yq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_e(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new hP(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),l=await B_e(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hP.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_e{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=dR("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(){return window}function U_e(t){ho().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zq(){return typeof ho().WorkerGlobalScope<"u"&&typeof ho().importScripts=="function"}async function V_e(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z_e(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function H_e(){return Zq()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq="firebaseLocalStorageDb",W_e=1,a_="firebaseLocalStorage",eX="fbase_key";class tx{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dP(t,e){return t.transaction([a_],e?"readwrite":"readonly").objectStore(a_)}function G_e(){const t=indexedDB.deleteDatabase(Qq);return new tx(t).toPromise()}function gO(){const t=indexedDB.open(Qq,W_e);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(a_,{keyPath:eX})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(a_)?e(r):(r.close(),await G_e(),e(await gO()))})})}async function U$(t,e,n){const r=dP(t,!0).put({[eX]:e,value:n});return new tx(r).toPromise()}async function K_e(t,e){const n=dP(t,!1).get(e),r=await new tx(n).toPromise();return r===void 0?null:r.value}function V$(t,e){const n=dP(t,!0).delete(e);return new tx(n).toPromise()}const q_e=800,X_e=3;class tX{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gO(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>X_e)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Zq()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hP._getInstance(H_e()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await V_e(),!this.activeServiceWorker)return;this.sender=new $_e(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||z_e()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gO();return await U$(e,s_,"1"),await V$(e,s_),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>U$(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>K_e(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>V$(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=dP(i,!1).getAll();return new tx(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),q_e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tX.type="LOCAL";const Y_e=tX;new Zw(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_e(t,e){return e?wl(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR extends cR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ip(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ip(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ip(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Z_e(t){return Wq(t.auth,new fR(t),t.bypassAuthState)}function Q_e(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),O_e(n,new fR(t),t.bypassAuthState)}async function eEe(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),I_e(n,new fR(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nX{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Z_e;case"linkViaPopup":case"linkViaRedirect":return eEe;case"reauthViaPopup":case"reauthViaRedirect":return Q_e;default:ya(this.auth,"internal-error")}}resolve(e){Ul(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ul(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tEe=new Zw(2e3,1e4);class fp extends nX{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,fp.currentPopupAction&&fp.currentPopupAction.cancel(),fp.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){Ul(this.filter.length===1,"Popup operations only handle one event");const e=dR();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(uo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(uo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fp.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(uo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tEe.get())};e()}}fp.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nEe="pendingRedirect",mS=new Map;class rEe extends nX{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=mS.get(this.auth._key());if(!e){try{const r=await iEe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mS.set(this.auth._key(),e)}return this.bypassAuthState||mS.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iEe(t,e){const n=oEe(e),r=aEe(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function sEe(t,e){mS.set(t._key(),e)}function aEe(t){return wl(t._redirectPersistence)}function oEe(t){return pS(nEe,t.config.apiKey,t.name)}async function lEe(t,e,n=!1){if($i(t.app))return Promise.reject(_l(t));const r=Tf(t),i=J_e(r,e),a=await new rEe(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cEe=10*60*1e3;class uEe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hEe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!rX(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(uo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cEe&&this.cachedEventUids.clear(),this.cachedEventUids.has(z$(e))}saveEventToCache(e){this.cachedEventUids.add(z$(e)),this.lastProcessedEventTime=Date.now()}}function z$(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rX({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function hEe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rX(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dEe(t,e={}){return Ju(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fEe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pEe=/^https?/;async function mEe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dEe(t);for(const n of e)try{if(gEe(n))return}catch{}ya(t,"unauthorized-domain")}function gEe(t){const e=fO(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!pEe.test(n))return!1;if(fEe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yEe=new Zw(3e4,6e4);function H$(){const t=ho().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vEe(t){return new Promise((e,n)=>{var i,s,a;function r(){H$(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{H$(),n(uo(t,"network-request-failed"))},timeout:yEe.get()})}if((s=(i=ho().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=ho().gapi)!=null&&a.load)r();else{const o=d_e("iframefcb");return ho()[o]=()=>{gapi.load?r():n(uo(t,"network-request-failed"))},$q(`${h_e()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw gS=null,e})}let gS=null;function bEe(t){return gS=gS||vEe(t),gS}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wEe=new Zw(5e3,15e3),xEe="__/auth/iframe",SEe="emulator/auth/iframe",AEe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_Ee=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EEe(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?aR(e,SEe):`https://${t.config.authDomain}/${xEe}`,r={apiKey:e.apiKey,appName:t.name,v:Pf},i=_Ee.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Jw(r).slice(1)}`}async function PEe(t){const e=await bEe(t),n=ho().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:EEe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AEe,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=uo(t,"network-request-failed"),o=ho().setTimeout(()=>{s(a)},wEe.get());function l(){ho().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TEe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CEe=500,kEe=600,IEe="_blank",OEe="http://localhost";class W${constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MEe(t,e,n,r=CEe,i=kEe){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...TEe,width:r.toString(),height:i.toString(),top:s,left:a},c=Wr().toLowerCase();n&&(o=Dq(c)?IEe:n),Oq(c)&&(e=e||OEe,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(n_e(c)&&o!=="_self")return DEe(e||"",o),new W$(null);const d=window.open(e||"",o,u);pe(d,t,"popup-blocked");try{d.focus()}catch{}return new W$(d)}function DEe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NEe="__/auth/handler",REe="emulator/auth/handler",LEe=encodeURIComponent("fac");async function G$(t,e,n,r,i,s){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Pf,eventId:i};if(e instanceof zq){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",_Se(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))a[u]=d}if(e instanceof ex){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${LEe}=${encodeURIComponent(l)}`:"";return`${jEe(t)}?${Jw(o).slice(1)}${c}`}function jEe({config:t}){return t.emulator?aR(t,REe):`https://${t.authDomain}/${NEe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="webStorageSupport";class FEe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jq,this._completeRedirectFn=lEe,this._overrideRedirectResult=sEe}async _openPopup(e,n,r,i){var a;Ul((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await G$(e,n,r,fO(),i);return MEe(e,s,dR())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await G$(e,n,r,fO(),i);return U_e(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ul(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await PEe(e),r=new uEe(e);return n.register("authEvent",i=>(pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hC,{type:hC},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[hC];s!==void 0&&n(!!s),ya(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mEe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Fq()||Mq()||lR()}}const BEe=FEe;var K$="@firebase/auth",q$="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Ee{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UEe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VEe(t){mf(new Fu("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;pe(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bq(t)},c=new l_e(r,i,s,l);return v_e(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mf(new Fu("auth-internal",e=>{const n=Tf(e.getProvider("auth").getImmediate());return(r=>new $Ee(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),co(K$,q$,UEe(t)),co(K$,q$,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zEe=5*60,HEe=gq("authIdTokenMaxAge")||zEe;let X$=null;const WEe=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>HEe)return;const i=n==null?void 0:n.token;X$!==i&&(X$=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function GEe(t=iR()){const e=cP(t,"auth");if(e.isInitialized())return e.getImmediate();const n=y_e(t,{popupRedirectResolver:BEe,persistence:[Y_e,hR,Jq]}),r=gq("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=WEe(s.toString());L_e(n,a,()=>a(n.currentUser)),R_e(n,o=>a(o))}}const i=fq("auth");return i&&b_e(n,`http://${i}`),n}function KEe(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}c_e({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=uo("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",KEe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VEe("Browser");var qEe="firebase",XEe="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */co(qEe,XEe,"app");var Y$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,k){function N(){}N.prototype=k.prototype,C.F=k.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(L,R,B){for(var j=Array(arguments.length-2),G=2;G<arguments.length;G++)j[G-2]=arguments[G];return k.prototype[R].apply(L,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,k,N){N||(N=0);const L=Array(16);if(typeof k=="string")for(var R=0;R<16;++R)L[R]=k.charCodeAt(N++)|k.charCodeAt(N++)<<8|k.charCodeAt(N++)<<16|k.charCodeAt(N++)<<24;else for(R=0;R<16;++R)L[R]=k[N++]|k[N++]<<8|k[N++]<<16|k[N++]<<24;k=C.g[0],N=C.g[1],R=C.g[2];let B=C.g[3],j;j=k+(B^N&(R^B))+L[0]+3614090360&4294967295,k=N+(j<<7&4294967295|j>>>25),j=B+(R^k&(N^R))+L[1]+3905402710&4294967295,B=k+(j<<12&4294967295|j>>>20),j=R+(N^B&(k^N))+L[2]+606105819&4294967295,R=B+(j<<17&4294967295|j>>>15),j=N+(k^R&(B^k))+L[3]+3250441966&4294967295,N=R+(j<<22&4294967295|j>>>10),j=k+(B^N&(R^B))+L[4]+4118548399&4294967295,k=N+(j<<7&4294967295|j>>>25),j=B+(R^k&(N^R))+L[5]+1200080426&4294967295,B=k+(j<<12&4294967295|j>>>20),j=R+(N^B&(k^N))+L[6]+2821735955&4294967295,R=B+(j<<17&4294967295|j>>>15),j=N+(k^R&(B^k))+L[7]+4249261313&4294967295,N=R+(j<<22&4294967295|j>>>10),j=k+(B^N&(R^B))+L[8]+1770035416&4294967295,k=N+(j<<7&4294967295|j>>>25),j=B+(R^k&(N^R))+L[9]+2336552879&4294967295,B=k+(j<<12&4294967295|j>>>20),j=R+(N^B&(k^N))+L[10]+4294925233&4294967295,R=B+(j<<17&4294967295|j>>>15),j=N+(k^R&(B^k))+L[11]+2304563134&4294967295,N=R+(j<<22&4294967295|j>>>10),j=k+(B^N&(R^B))+L[12]+1804603682&4294967295,k=N+(j<<7&4294967295|j>>>25),j=B+(R^k&(N^R))+L[13]+4254626195&4294967295,B=k+(j<<12&4294967295|j>>>20),j=R+(N^B&(k^N))+L[14]+2792965006&4294967295,R=B+(j<<17&4294967295|j>>>15),j=N+(k^R&(B^k))+L[15]+1236535329&4294967295,N=R+(j<<22&4294967295|j>>>10),j=k+(R^B&(N^R))+L[1]+4129170786&4294967295,k=N+(j<<5&4294967295|j>>>27),j=B+(N^R&(k^N))+L[6]+3225465664&4294967295,B=k+(j<<9&4294967295|j>>>23),j=R+(k^N&(B^k))+L[11]+643717713&4294967295,R=B+(j<<14&4294967295|j>>>18),j=N+(B^k&(R^B))+L[0]+3921069994&4294967295,N=R+(j<<20&4294967295|j>>>12),j=k+(R^B&(N^R))+L[5]+3593408605&4294967295,k=N+(j<<5&4294967295|j>>>27),j=B+(N^R&(k^N))+L[10]+38016083&4294967295,B=k+(j<<9&4294967295|j>>>23),j=R+(k^N&(B^k))+L[15]+3634488961&4294967295,R=B+(j<<14&4294967295|j>>>18),j=N+(B^k&(R^B))+L[4]+3889429448&4294967295,N=R+(j<<20&4294967295|j>>>12),j=k+(R^B&(N^R))+L[9]+568446438&4294967295,k=N+(j<<5&4294967295|j>>>27),j=B+(N^R&(k^N))+L[14]+3275163606&4294967295,B=k+(j<<9&4294967295|j>>>23),j=R+(k^N&(B^k))+L[3]+4107603335&4294967295,R=B+(j<<14&4294967295|j>>>18),j=N+(B^k&(R^B))+L[8]+1163531501&4294967295,N=R+(j<<20&4294967295|j>>>12),j=k+(R^B&(N^R))+L[13]+2850285829&4294967295,k=N+(j<<5&4294967295|j>>>27),j=B+(N^R&(k^N))+L[2]+4243563512&4294967295,B=k+(j<<9&4294967295|j>>>23),j=R+(k^N&(B^k))+L[7]+1735328473&4294967295,R=B+(j<<14&4294967295|j>>>18),j=N+(B^k&(R^B))+L[12]+2368359562&4294967295,N=R+(j<<20&4294967295|j>>>12),j=k+(N^R^B)+L[5]+4294588738&4294967295,k=N+(j<<4&4294967295|j>>>28),j=B+(k^N^R)+L[8]+2272392833&4294967295,B=k+(j<<11&4294967295|j>>>21),j=R+(B^k^N)+L[11]+1839030562&4294967295,R=B+(j<<16&4294967295|j>>>16),j=N+(R^B^k)+L[14]+4259657740&4294967295,N=R+(j<<23&4294967295|j>>>9),j=k+(N^R^B)+L[1]+2763975236&4294967295,k=N+(j<<4&4294967295|j>>>28),j=B+(k^N^R)+L[4]+1272893353&4294967295,B=k+(j<<11&4294967295|j>>>21),j=R+(B^k^N)+L[7]+4139469664&4294967295,R=B+(j<<16&4294967295|j>>>16),j=N+(R^B^k)+L[10]+3200236656&4294967295,N=R+(j<<23&4294967295|j>>>9),j=k+(N^R^B)+L[13]+681279174&4294967295,k=N+(j<<4&4294967295|j>>>28),j=B+(k^N^R)+L[0]+3936430074&4294967295,B=k+(j<<11&4294967295|j>>>21),j=R+(B^k^N)+L[3]+3572445317&4294967295,R=B+(j<<16&4294967295|j>>>16),j=N+(R^B^k)+L[6]+76029189&4294967295,N=R+(j<<23&4294967295|j>>>9),j=k+(N^R^B)+L[9]+3654602809&4294967295,k=N+(j<<4&4294967295|j>>>28),j=B+(k^N^R)+L[12]+3873151461&4294967295,B=k+(j<<11&4294967295|j>>>21),j=R+(B^k^N)+L[15]+530742520&4294967295,R=B+(j<<16&4294967295|j>>>16),j=N+(R^B^k)+L[2]+3299628645&4294967295,N=R+(j<<23&4294967295|j>>>9),j=k+(R^(N|~B))+L[0]+4096336452&4294967295,k=N+(j<<6&4294967295|j>>>26),j=B+(N^(k|~R))+L[7]+1126891415&4294967295,B=k+(j<<10&4294967295|j>>>22),j=R+(k^(B|~N))+L[14]+2878612391&4294967295,R=B+(j<<15&4294967295|j>>>17),j=N+(B^(R|~k))+L[5]+4237533241&4294967295,N=R+(j<<21&4294967295|j>>>11),j=k+(R^(N|~B))+L[12]+1700485571&4294967295,k=N+(j<<6&4294967295|j>>>26),j=B+(N^(k|~R))+L[3]+2399980690&4294967295,B=k+(j<<10&4294967295|j>>>22),j=R+(k^(B|~N))+L[10]+4293915773&4294967295,R=B+(j<<15&4294967295|j>>>17),j=N+(B^(R|~k))+L[1]+2240044497&4294967295,N=R+(j<<21&4294967295|j>>>11),j=k+(R^(N|~B))+L[8]+1873313359&4294967295,k=N+(j<<6&4294967295|j>>>26),j=B+(N^(k|~R))+L[15]+4264355552&4294967295,B=k+(j<<10&4294967295|j>>>22),j=R+(k^(B|~N))+L[6]+2734768916&4294967295,R=B+(j<<15&4294967295|j>>>17),j=N+(B^(R|~k))+L[13]+1309151649&4294967295,N=R+(j<<21&4294967295|j>>>11),j=k+(R^(N|~B))+L[4]+4149444226&4294967295,k=N+(j<<6&4294967295|j>>>26),j=B+(N^(k|~R))+L[11]+3174756917&4294967295,B=k+(j<<10&4294967295|j>>>22),j=R+(k^(B|~N))+L[2]+718787259&4294967295,R=B+(j<<15&4294967295|j>>>17),j=N+(B^(R|~k))+L[9]+3951481745&4294967295,C.g[0]=C.g[0]+k&4294967295,C.g[1]=C.g[1]+(R+(j<<21&4294967295|j>>>11))&4294967295,C.g[2]=C.g[2]+R&4294967295,C.g[3]=C.g[3]+B&4294967295}r.prototype.v=function(C,k){k===void 0&&(k=C.length);const N=k-this.blockSize,L=this.C;let R=this.h,B=0;for(;B<k;){if(R==0)for(;B<=N;)i(this,C,B),B+=this.blockSize;if(typeof C=="string"){for(;B<k;)if(L[R++]=C.charCodeAt(B++),R==this.blockSize){i(this,L),R=0;break}}else for(;B<k;)if(L[R++]=C[B++],R==this.blockSize){i(this,L),R=0;break}}this.h=R,this.o+=k},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var k=1;k<C.length-8;++k)C[k]=0;k=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=k&255,k/=256;for(this.v(C),C=Array(16),k=0,N=0;N<4;++N)for(let L=0;L<32;L+=8)C[k++]=this.g[N]>>>L&255;return C};function s(C,k){var N=o;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=k(C)}function a(C,k){this.h=k;const N=[];let L=!0;for(let R=C.length-1;R>=0;R--){const B=C[R]|0;L&&B==k||(N[R]=B,L=!1)}this.g=N}var o={};function l(C){return-128<=C&&C<128?s(C,function(k){return new a([k|0],k<0?-1:0)}):new a([C|0],C<0?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return d;if(C<0)return b(c(-C));const k=[];let N=1;for(let L=0;C>=N;L++)k[L]=C/N|0,N*=4294967296;return new a(k,0)}function u(C,k){if(C.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(C.charAt(0)=="-")return b(u(C.substring(1),k));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=c(Math.pow(k,8));let L=d;for(let B=0;B<C.length;B+=8){var R=Math.min(8,C.length-B);const j=parseInt(C.substring(B,B+R),k);R<8?(R=c(Math.pow(k,R)),L=L.j(R).add(c(j))):(L=L.j(N),L=L.add(c(j)))}return L}var d=l(0),f=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(y(this))return-b(this).m();let C=0,k=1;for(let N=0;N<this.g.length;N++){const L=this.i(N);C+=(L>=0?L:4294967296+L)*k,k*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(g(this))return"0";if(y(this))return"-"+b(this).toString(C);const k=c(Math.pow(C,6));var N=this;let L="";for(;;){const R=T(N,k).g;N=v(N,R.j(k));let B=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=R,g(N))return B+L;for(;B.length<6;)B="0"+B;L=B+L}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function g(C){if(C.h!=0)return!1;for(let k=0;k<C.g.length;k++)if(C.g[k]!=0)return!1;return!0}function y(C){return C.h==-1}t.l=function(C){return C=v(this,C),y(C)?-1:g(C)?0:1};function b(C){const k=C.g.length,N=[];for(let L=0;L<k;L++)N[L]=~C.g[L];return new a(N,~C.h).add(f)}t.abs=function(){return y(this)?b(this):this},t.add=function(C){const k=Math.max(this.g.length,C.g.length),N=[];let L=0;for(let R=0;R<=k;R++){let B=L+(this.i(R)&65535)+(C.i(R)&65535),j=(B>>>16)+(this.i(R)>>>16)+(C.i(R)>>>16);L=j>>>16,B&=65535,j&=65535,N[R]=j<<16|B}return new a(N,N[N.length-1]&-2147483648?-1:0)};function v(C,k){return C.add(b(k))}t.j=function(C){if(g(this)||g(C))return d;if(y(this))return y(C)?b(this).j(b(C)):b(b(this).j(C));if(y(C))return b(this.j(b(C)));if(this.l(p)<0&&C.l(p)<0)return c(this.m()*C.m());const k=this.g.length+C.g.length,N=[];for(var L=0;L<2*k;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(let R=0;R<C.g.length;R++){const B=this.i(L)>>>16,j=this.i(L)&65535,G=C.i(R)>>>16,Z=C.i(R)&65535;N[2*L+2*R]+=j*Z,S(N,2*L+2*R),N[2*L+2*R+1]+=B*Z,S(N,2*L+2*R+1),N[2*L+2*R+1]+=j*G,S(N,2*L+2*R+1),N[2*L+2*R+2]+=B*G,S(N,2*L+2*R+2)}for(C=0;C<k;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=k;C<2*k;C++)N[C]=0;return new a(N,0)};function S(C,k){for(;(C[k]&65535)!=C[k];)C[k+1]+=C[k]>>>16,C[k]&=65535,k++}function w(C,k){this.g=C,this.h=k}function T(C,k){if(g(k))throw Error("division by zero");if(g(C))return new w(d,d);if(y(C))return k=T(b(C),k),new w(b(k.g),b(k.h));if(y(k))return k=T(C,b(k)),new w(b(k.g),k.h);if(C.g.length>30){if(y(C)||y(k))throw Error("slowDivide_ only works with positive integers.");for(var N=f,L=k;L.l(C)<=0;)N=P(N),L=P(L);var R=O(N,1),B=O(L,1);for(L=O(L,2),N=O(N,2);!g(L);){var j=B.add(L);j.l(C)<=0&&(R=R.add(N),B=j),L=O(L,1),N=O(N,1)}return k=v(C,R.j(k)),new w(R,k)}for(R=d;C.l(k)>=0;){for(N=Math.max(1,Math.floor(C.m()/k.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),B=c(N),j=B.j(k);y(j)||j.l(C)>0;)N-=L,B=c(N),j=B.j(k);g(B)&&(B=f),R=R.add(B),C=v(C,j)}return new w(R,C)}t.B=function(C){return T(this,C).h},t.and=function(C){const k=Math.max(this.g.length,C.g.length),N=[];for(let L=0;L<k;L++)N[L]=this.i(L)&C.i(L);return new a(N,this.h&C.h)},t.or=function(C){const k=Math.max(this.g.length,C.g.length),N=[];for(let L=0;L<k;L++)N[L]=this.i(L)|C.i(L);return new a(N,this.h|C.h)},t.xor=function(C){const k=Math.max(this.g.length,C.g.length),N=[];for(let L=0;L<k;L++)N[L]=this.i(L)^C.i(L);return new a(N,this.h^C.h)};function P(C){const k=C.g.length+1,N=[];for(let L=0;L<k;L++)N[L]=C.i(L)<<1|C.i(L-1)>>>31;return new a(N,C.h)}function O(C,k){const N=k>>5;k%=32;const L=C.g.length-N,R=[];for(let B=0;B<L;B++)R[B]=k>0?C.i(B+N)>>>k|C.i(B+N+1)<<32-k:C.i(B+N);return new a(R,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=u,pR=a}).apply(typeof Y$<"u"?Y$:typeof self<"u"?self:typeof window<"u"?window:{});var s1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof s1=="object"&&s1];for(var E=0;E<m.length;++E){var M=m[E];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var r=n(this);function i(m,E){if(E)e:{var M=r;m=m.split(".");for(var F=0;F<m.length-1;F++){var $=m[F];if(!($ in M))break e;M=M[$]}m=m[m.length-1],F=M[m],E=E(F),E!=F&&E!=null&&e(M,m,{configurable:!0,writable:!0,value:E})}}i("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(m){return m||function(E){var M=[],F;for(F in E)Object.prototype.hasOwnProperty.call(E,F)&&M.push([F,E[F]]);return M}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function o(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function l(m,E,M){return m.call.apply(m.bind,arguments)}function c(m,E,M){return c=l,c.apply(null,arguments)}function u(m,E){var M=Array.prototype.slice.call(arguments,1);return function(){var F=M.slice();return F.push.apply(F,arguments),m.apply(this,F)}}function d(m,E){function M(){}M.prototype=E.prototype,m.Z=E.prototype,m.prototype=new M,m.prototype.constructor=m,m.Ob=function(F,$,U){for(var Q=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)Q[Te-2]=arguments[Te];return E.prototype[$].apply(F,Q)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function p(m){const E=m.length;if(E>0){const M=Array(E);for(let F=0;F<E;F++)M[F]=m[F];return M}return[]}function g(m,E){for(let F=1;F<arguments.length;F++){const $=arguments[F];var M=typeof $;if(M=M!="object"?M:$?Array.isArray($)?"array":M:"null",M=="array"||M=="object"&&typeof $.length=="number"){M=m.length||0;const U=$.length||0;m.length=M+U;for(let Q=0;Q<U;Q++)m[M+Q]=$[Q]}else m.push($)}}class y{constructor(E,M){this.i=E,this.j=M,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function b(m){a.setTimeout(()=>{throw m},0)}function v(){var m=C;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class S{constructor(){this.h=this.g=null}add(E,M){const F=w.get();F.set(E,M),this.h?this.h.next=F:this.g=F,this.h=F}}var w=new y(()=>new T,m=>m.reset());class T{constructor(){this.next=this.g=this.h=null}set(E,M){this.h=E,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let P,O=!1,C=new S,k=()=>{const m=Promise.resolve(void 0);P=()=>{m.then(N)}};function N(){for(var m;m=v();){try{m.h.call(m.g)}catch(M){b(M)}var E=w;E.j(m),E.h<100&&(E.h++,m.next=E.g,E.g=m)}O=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var B=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const M=()=>{};a.addEventListener("test",M,E),a.removeEventListener("test",M,E)}catch{}return m}();function j(m){return/^[\s\xa0]*$/.test(m)}function G(m,E){R.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,E)}d(G,R),G.prototype.init=function(m,E){const M=this.type=m.type,F=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget,E||(M=="mouseover"?E=m.fromElement:M=="mouseout"&&(E=m.toElement)),this.relatedTarget=E,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&G.Z.h.call(this)},G.prototype.h=function(){G.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Z="closure_listenable_"+(Math.random()*1e6|0),J=0;function W(m,E,M,F,$){this.listener=m,this.proxy=null,this.src=E,this.type=M,this.capture=!!F,this.ha=$,this.key=++J,this.da=this.fa=!1}function V(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function H(m,E,M){for(const F in m)E.call(M,m[F],F,m)}function ne(m,E){for(const M in m)E.call(void 0,m[M],M,m)}function fe(m){const E={};for(const M in m)E[M]=m[M];return E}const le="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(m,E){let M,F;for(let $=1;$<arguments.length;$++){F=arguments[$];for(M in F)m[M]=F[M];for(let U=0;U<le.length;U++)M=le[U],Object.prototype.hasOwnProperty.call(F,M)&&(m[M]=F[M])}}function ke(m){this.src=m,this.g={},this.h=0}ke.prototype.add=function(m,E,M,F,$){const U=m.toString();m=this.g[U],m||(m=this.g[U]=[],this.h++);const Q=it(m,E,F,$);return Q>-1?(E=m[Q],M||(E.fa=!1)):(E=new W(E,this.src,U,!!F,$),E.fa=M,m.push(E)),E};function rt(m,E){const M=E.type;if(M in m.g){var F=m.g[M],$=Array.prototype.indexOf.call(F,E,void 0),U;(U=$>=0)&&Array.prototype.splice.call(F,$,1),U&&(V(E),m.g[M].length==0&&(delete m.g[M],m.h--))}}function it(m,E,M,F){for(let $=0;$<m.length;++$){const U=m[$];if(!U.da&&U.listener==E&&U.capture==!!M&&U.ha==F)return $}return-1}var ye="closure_lm_"+(Math.random()*1e6|0),js={};function K(m,E,M,F,$){if(Array.isArray(E)){for(let U=0;U<E.length;U++)K(m,E[U],M,F,$);return null}return M=Vg(M),m&&m[Z]?m.J(E,M,o(F)?!!F.capture:!1,$):ve(m,E,M,!1,F,$)}function ve(m,E,M,F,$,U){if(!E)throw Error("Invalid event type");const Q=o($)?!!$.capture:!!$;let Te=Hn(m);if(Te||(m[ye]=Te=new ke(m)),M=Te.add(E,M,F,Q,U),M.proxy)return M;if(F=Ae(),M.proxy=F,F.src=m,F.listener=M,m.addEventListener)B||($=Q),$===void 0&&($=!1),m.addEventListener(E.toString(),F,$);else if(m.attachEvent)m.attachEvent(Ue(E.toString()),F);else if(m.addListener&&m.removeListener)m.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return M}function Ae(){function m(M){return E.call(m.src,m.listener,M)}const E=Pr;return m}function X(m,E,M,F,$){if(Array.isArray(E))for(var U=0;U<E.length;U++)X(m,E[U],M,F,$);else F=o(F)?!!F.capture:!!F,M=Vg(M),m&&m[Z]?(m=m.i,U=String(E).toString(),U in m.g&&(E=m.g[U],M=it(E,M,F,$),M>-1&&(V(E[M]),Array.prototype.splice.call(E,M,1),E.length==0&&(delete m.g[U],m.h--)))):m&&(m=Hn(m))&&(E=m.g[E.toString()],m=-1,E&&(m=it(E,M,F,$)),(M=m>-1?E[m]:null)&&Kt(M))}function Kt(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[Z])rt(E.i,m);else{var M=m.type,F=m.proxy;E.removeEventListener?E.removeEventListener(M,F,m.capture):E.detachEvent?E.detachEvent(Ue(M),F):E.addListener&&E.removeListener&&E.removeListener(F),(M=Hn(E))?(rt(M,m),M.h==0&&(M.src=null,E[ye]=null)):V(m)}}}function Ue(m){return m in js?js[m]:js[m]="on"+m}function Pr(m,E){if(m.da)m=!0;else{E=new G(E,this);const M=m.listener,F=m.ha||m.src;m.fa&&Kt(m),m=M.call(F,E)}return m}function Hn(m){return m=m[ye],m instanceof ke?m:null}var Fs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vg(m){return typeof m=="function"?m:(m[Fs]||(m[Fs]=function(E){return m.handleEvent(E)}),m[Fs])}function ur(){L.call(this),this.i=new ke(this),this.M=this,this.G=null}d(ur,L),ur.prototype[Z]=!0,ur.prototype.removeEventListener=function(m,E,M,F){X(this,m,E,M,F)};function Tr(m,E){var M,F=m.G;if(F)for(M=[];F;F=F.G)M.push(F);if(m=m.M,F=E.type||E,typeof E=="string")E=new R(E,m);else if(E instanceof R)E.target=E.target||m;else{var $=E;E=new R(F,m),ge(E,$)}$=!0;let U,Q;if(M)for(Q=M.length-1;Q>=0;Q--)U=E.g=M[Q],$=ix(U,F,!0,E)&&$;if(U=E.g=m,$=ix(U,F,!0,E)&&$,$=ix(U,F,!1,E)&&$,M)for(Q=0;Q<M.length;Q++)U=E.g=M[Q],$=ix(U,F,!1,E)&&$}ur.prototype.N=function(){if(ur.Z.N.call(this),this.i){var m=this.i;for(const E in m.g){const M=m.g[E];for(let F=0;F<M.length;F++)V(M[F]);delete m.g[E],m.h--}}this.G=null},ur.prototype.J=function(m,E,M,F){return this.i.add(String(m),E,!1,M,F)},ur.prototype.K=function(m,E,M,F){return this.i.add(String(m),E,!0,M,F)};function ix(m,E,M,F){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();let $=!0;for(let U=0;U<E.length;++U){const Q=E[U];if(Q&&!Q.da&&Q.capture==M){const Te=Q.listener,dn=Q.ha||Q.src;Q.fa&&rt(m.i,Q),$=Te.call(dn,F)!==!1&&$}}return $&&!F.defaultPrevented}function mX(m,E){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=c(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:a.setTimeout(m,E||0)}function PR(m){m.g=mX(()=>{m.g=null,m.i&&(m.i=!1,PR(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class gX extends L{constructor(E,M){super(),this.m=E,this.l=M,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:PR(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zg(m){L.call(this),this.h=m,this.g={}}d(zg,L);var TR=[];function CR(m){H(m.g,function(E,M){this.g.hasOwnProperty(M)&&Kt(E)},m),m.g={}}zg.prototype.N=function(){zg.Z.N.call(this),CR(this)},zg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fP=a.JSON.stringify,yX=a.JSON.parse,vX=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function kR(){}function bX(){}var Hg={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pP(){R.call(this,"d")}d(pP,R);function mP(){R.call(this,"c")}d(mP,R);var Cf={},IR=null;function gP(){return IR=IR||new ur}Cf.Ia="serverreachability";function OR(m){R.call(this,Cf.Ia,m)}d(OR,R);function Wg(m){const E=gP();Tr(E,new OR(E))}Cf.STAT_EVENT="statevent";function MR(m,E){R.call(this,Cf.STAT_EVENT,m),this.stat=E}d(MR,R);function Cr(m){const E=gP();Tr(E,new MR(E,m))}Cf.Ja="timingevent";function DR(m,E){R.call(this,Cf.Ja,m),this.size=E}d(DR,R);function Gg(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},E)}function Kg(){this.g=!0}Kg.prototype.ua=function(){this.g=!1};function wX(m,E,M,F,$,U){m.info(function(){if(m.g)if(U){var Q="",Te=U.split("&");for(let st=0;st<Te.length;st++){var dn=Te[st].split("=");if(dn.length>1){const Pn=dn[0];dn=dn[1];const Sa=Pn.split("_");Q=Sa.length>=2&&Sa[1]=="type"?Q+(Pn+"="+dn+"&"):Q+(Pn+"=redacted&")}}}else Q=null;else Q=U;return"XMLHTTP REQ ("+F+") [attempt "+$+"]: "+E+`
`+M+`
`+Q})}function xX(m,E,M,F,$,U,Q){m.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+$+"]: "+E+`
`+M+`
`+U+" "+Q})}function kf(m,E,M,F){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+AX(m,M)+(F?" "+F:"")})}function SX(m,E){m.info(function(){return"TIMEOUT: "+E})}Kg.prototype.info=function(){};function AX(m,E){if(!m.g)return E;if(!E)return null;try{const U=JSON.parse(E);if(U){for(m=0;m<U.length;m++)if(Array.isArray(U[m])){var M=U[m];if(!(M.length<2)){var F=M[1];if(Array.isArray(F)&&!(F.length<1)){var $=F[0];if($!="noop"&&$!="stop"&&$!="close")for(let Q=1;Q<F.length;Q++)F[Q]=""}}}}return fP(U)}catch{return E}}var yP={NO_ERROR:0,TIMEOUT:8},_X={},NR;function vP(){}d(vP,kR),vP.prototype.g=function(){return new XMLHttpRequest},NR=new vP;function qg(m){return encodeURIComponent(String(m))}function EX(m){var E=1;m=m.split(":");const M=[];for(;E>0&&m.length;)M.push(m.shift()),E--;return m.length&&M.push(m.join(":")),M}function Ql(m,E,M,F){this.j=m,this.i=E,this.l=M,this.S=F||1,this.V=new zg(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new RR}function RR(){this.i=null,this.g="",this.h=!1}var LR={},bP={};function wP(m,E,M){m.M=1,m.A=ax(xa(E)),m.u=M,m.R=!0,jR(m,null)}function jR(m,E){m.F=Date.now(),sx(m),m.B=xa(m.A);var M=m.B,F=m.S;Array.isArray(F)||(F=[String(F)]),YR(M.i,"t",F),m.C=0,M=m.j.L,m.h=new RR,m.g=pL(m.j,M?E:null,!m.u),m.P>0&&(m.O=new gX(c(m.Y,m,m.g),m.P)),E=m.V,M=m.g,F=m.ba;var $="readystatechange";Array.isArray($)||($&&(TR[0]=$.toString()),$=TR);for(let U=0;U<$.length;U++){const Q=K(M,$[U],F||E.handleEvent,!1,E.h||E);if(!Q)break;E.g[Q.key]=Q}E=m.J?fe(m.J):{},m.u?(m.v||(m.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,E)):(m.v="GET",m.g.ea(m.B,m.v,null,E)),Wg(),wX(m.i,m.v,m.B,m.l,m.S,m.u)}Ql.prototype.ba=function(m){m=m.target;const E=this.O;E&&nc(m)==3?E.j():this.Y(m)},Ql.prototype.Y=function(m){try{if(m==this.g)e:{const Te=nc(this.g),dn=this.g.ya(),st=this.g.ca();if(!(Te<3)&&(Te!=3||this.g&&(this.h.h||this.g.la()||rL(this.g)))){this.K||Te!=4||dn==7||(dn==8||st<=0?Wg(3):Wg(2)),xP(this);var E=this.g.ca();this.X=E;var M=PX(this);if(this.o=E==200,xX(this.i,this.v,this.B,this.l,this.S,Te,E),this.o){if(this.U&&!this.L){t:{if(this.g){var F,$=this.g;if((F=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(F)){var U=F;break t}}U=null}if(m=U)kf(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,SP(this,m);else{this.o=!1,this.m=3,Cr(12),Zu(this),Xg(this);break e}}if(this.R){m=!0;let Pn;for(;!this.K&&this.C<M.length;)if(Pn=TX(this,M),Pn==bP){Te==4&&(this.m=4,Cr(14),m=!1),kf(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==LR){this.m=4,Cr(15),kf(this.i,this.l,M,"[Invalid Chunk]"),m=!1;break}else kf(this.i,this.l,Pn,null),SP(this,Pn);if(FR(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||M.length!=0||this.h.h||(this.m=1,Cr(16),m=!1),this.o=this.o&&m,!m)kf(this.i,this.l,M,"[Invalid Chunked Response]"),Zu(this),Xg(this);else if(M.length>0&&!this.W){this.W=!0;var Q=this.j;Q.g==this&&Q.aa&&!Q.P&&(Q.j.info("Great, no buffering proxy detected. Bytes received: "+M.length),IP(Q),Q.P=!0,Cr(11))}}else kf(this.i,this.l,M,null),SP(this,M);Te==4&&Zu(this),this.o&&!this.K&&(Te==4?uL(this.j,this):(this.o=!1,sx(this)))}else UX(this.g),E==400&&M.indexOf("Unknown SID")>0?(this.m=3,Cr(12)):(this.m=0,Cr(13)),Zu(this),Xg(this)}}}catch{}finally{}};function PX(m){if(!FR(m))return m.g.la();const E=rL(m.g);if(E==="")return"";let M="";const F=E.length,$=nc(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Zu(m),Xg(m),"";m.h.i=new a.TextDecoder}for(let U=0;U<F;U++)m.h.h=!0,M+=m.h.i.decode(E[U],{stream:!($&&U==F-1)});return E.length=0,m.h.g+=M,m.C=0,m.h.g}function FR(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function TX(m,E){var M=m.C,F=E.indexOf(`
`,M);return F==-1?bP:(M=Number(E.substring(M,F)),isNaN(M)?LR:(F+=1,F+M>E.length?bP:(E=E.slice(F,F+M),m.C=F+M,E)))}Ql.prototype.cancel=function(){this.K=!0,Zu(this)};function sx(m){m.T=Date.now()+m.H,BR(m,m.H)}function BR(m,E){if(m.D!=null)throw Error("WatchDog timer not null");m.D=Gg(c(m.aa,m),E)}function xP(m){m.D&&(a.clearTimeout(m.D),m.D=null)}Ql.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(SX(this.i,this.B),this.M!=2&&(Wg(),Cr(17)),Zu(this),this.m=2,Xg(this)):BR(this,this.T-m)};function Xg(m){m.j.I==0||m.K||uL(m.j,m)}function Zu(m){xP(m);var E=m.O;E&&typeof E.dispose=="function"&&E.dispose(),m.O=null,CR(m.V),m.g&&(E=m.g,m.g=null,E.abort(),E.dispose())}function SP(m,E){try{var M=m.j;if(M.I!=0&&(M.g==m||AP(M.h,m))){if(!m.L&&AP(M.h,m)&&M.I==3){try{var F=M.Ba.g.parse(E)}catch{F=null}if(Array.isArray(F)&&F.length==3){var $=F;if($[0]==0){e:if(!M.v){if(M.g)if(M.g.F+3e3<m.F)hx(M),cx(M);else break e;kP(M),Cr(18)}}else M.xa=$[1],0<M.xa-M.K&&$[2]<37500&&M.F&&M.A==0&&!M.C&&(M.C=Gg(c(M.Va,M),6e3));VR(M.h)<=1&&M.ta&&(M.ta=void 0)}else eh(M,11)}else if((m.L||M.g==m)&&hx(M),!j(E))for($=M.Ba.g.parse(E),E=0;E<$.length;E++){let st=$[E];const Pn=st[0];if(!(Pn<=M.K))if(M.K=Pn,st=st[1],M.I==2)if(st[0]=="c"){M.M=st[1],M.ba=st[2];const Sa=st[3];Sa!=null&&(M.ka=Sa,M.j.info("VER="+M.ka));const th=st[4];th!=null&&(M.za=th,M.j.info("SVER="+M.za));const rc=st[5];rc!=null&&typeof rc=="number"&&rc>0&&(F=1.5*rc,M.O=F,M.j.info("backChannelRequestTimeoutMs_="+F)),F=M;const ic=m.g;if(ic){const dx=ic.g?ic.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dx){var U=F.h;U.g||dx.indexOf("spdy")==-1&&dx.indexOf("quic")==-1&&dx.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(_P(U,U.h),U.h=null))}if(F.G){const OP=ic.g?ic.g.getResponseHeader("X-HTTP-Session-Id"):null;OP&&(F.wa=OP,yt(F.J,F.G,OP))}}M.I=3,M.l&&M.l.ra(),M.aa&&(M.T=Date.now()-m.F,M.j.info("Handshake RTT: "+M.T+"ms")),F=M;var Q=m;if(F.na=fL(F,F.L?F.ba:null,F.W),Q.L){zR(F.h,Q);var Te=Q,dn=F.O;dn&&(Te.H=dn),Te.D&&(xP(Te),sx(Te)),F.g=Q}else lL(F);M.i.length>0&&ux(M)}else st[0]!="stop"&&st[0]!="close"||eh(M,7);else M.I==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?eh(M,7):CP(M):st[0]!="noop"&&M.l&&M.l.qa(st),M.A=0)}}Wg(4)}catch{}}var CX=class{constructor(m,E){this.g=m,this.map=E}};function $R(m){this.l=m||10,a.PerformanceNavigationTiming?(m=a.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function UR(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function VR(m){return m.h?1:m.g?m.g.size:0}function AP(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function _P(m,E){m.g?m.g.add(E):m.h=E}function zR(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}$R.prototype.cancel=function(){if(this.i=HR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function HR(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const M of m.g.values())E=E.concat(M.G);return E}return p(m.i)}var WR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kX(m,E){if(m){m=m.split("&");for(let M=0;M<m.length;M++){const F=m[M].indexOf("=");let $,U=null;F>=0?($=m[M].substring(0,F),U=m[M].substring(F+1)):$=m[M],E($,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function ec(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;m instanceof ec?(this.l=m.l,Yg(this,m.j),this.o=m.o,this.g=m.g,Jg(this,m.u),this.h=m.h,EP(this,JR(m.i)),this.m=m.m):m&&(E=String(m).match(WR))?(this.l=!1,Yg(this,E[1]||"",!0),this.o=Zg(E[2]||""),this.g=Zg(E[3]||"",!0),Jg(this,E[4]),this.h=Zg(E[5]||"",!0),EP(this,E[6]||"",!0),this.m=Zg(E[7]||"")):(this.l=!1,this.i=new ey(null,this.l))}ec.prototype.toString=function(){const m=[];var E=this.j;E&&m.push(Qg(E,GR,!0),":");var M=this.g;return(M||E=="file")&&(m.push("//"),(E=this.o)&&m.push(Qg(E,GR,!0),"@"),m.push(qg(M).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.u,M!=null&&m.push(":",String(M))),(M=this.h)&&(this.g&&M.charAt(0)!="/"&&m.push("/"),m.push(Qg(M,M.charAt(0)=="/"?MX:OX,!0))),(M=this.i.toString())&&m.push("?",M),(M=this.m)&&m.push("#",Qg(M,NX)),m.join("")},ec.prototype.resolve=function(m){const E=xa(this);let M=!!m.j;M?Yg(E,m.j):M=!!m.o,M?E.o=m.o:M=!!m.g,M?E.g=m.g:M=m.u!=null;var F=m.h;if(M)Jg(E,m.u);else if(M=!!m.h){if(F.charAt(0)!="/")if(this.g&&!this.h)F="/"+F;else{var $=E.h.lastIndexOf("/");$!=-1&&(F=E.h.slice(0,$+1)+F)}if($=F,$==".."||$==".")F="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){F=$.lastIndexOf("/",0)==0,$=$.split("/");const U=[];for(let Q=0;Q<$.length;){const Te=$[Q++];Te=="."?F&&Q==$.length&&U.push(""):Te==".."?((U.length>1||U.length==1&&U[0]!="")&&U.pop(),F&&Q==$.length&&U.push("")):(U.push(Te),F=!0)}F=U.join("/")}else F=$}return M?E.h=F:M=m.i.toString()!=="",M?EP(E,JR(m.i)):M=!!m.m,M&&(E.m=m.m),E};function xa(m){return new ec(m)}function Yg(m,E,M){m.j=M?Zg(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function Jg(m,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);m.u=E}else m.u=null}function EP(m,E,M){E instanceof ey?(m.i=E,RX(m.i,m.l)):(M||(E=Qg(E,DX)),m.i=new ey(E,m.l))}function yt(m,E,M){m.i.set(E,M)}function ax(m){return yt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Zg(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Qg(m,E,M){return typeof m=="string"?(m=encodeURI(m).replace(E,IX),M&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function IX(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var GR=/[#\/\?@]/g,OX=/[#\?:]/g,MX=/[#\?]/g,DX=/[#\?@]/g,NX=/#/g;function ey(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function Qu(m){m.g||(m.g=new Map,m.h=0,m.i&&kX(m.i,function(E,M){m.add(decodeURIComponent(E.replace(/\+/g," ")),M)}))}t=ey.prototype,t.add=function(m,E){Qu(this),this.i=null,m=If(this,m);let M=this.g.get(m);return M||this.g.set(m,M=[]),M.push(E),this.h+=1,this};function KR(m,E){Qu(m),E=If(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function qR(m,E){return Qu(m),E=If(m,E),m.g.has(E)}t.forEach=function(m,E){Qu(this),this.g.forEach(function(M,F){M.forEach(function($){m.call(E,$,F,this)},this)},this)};function XR(m,E){Qu(m);let M=[];if(typeof E=="string")qR(m,E)&&(M=M.concat(m.g.get(If(m,E))));else for(m=Array.from(m.g.values()),E=0;E<m.length;E++)M=M.concat(m[E]);return M}t.set=function(m,E){return Qu(this),this.i=null,m=If(this,m),qR(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},t.get=function(m,E){return m?(m=XR(this,m),m.length>0?String(m[0]):E):E};function YR(m,E,M){KR(m,E),M.length>0&&(m.i=null,m.g.set(If(m,E),p(M)),m.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(let F=0;F<E.length;F++){var M=E[F];const $=qg(M);M=XR(this,M);for(let U=0;U<M.length;U++){let Q=$;M[U]!==""&&(Q+="="+qg(M[U])),m.push(Q)}}return this.i=m.join("&")};function JR(m){const E=new ey;return E.i=m.i,m.g&&(E.g=new Map(m.g),E.h=m.h),E}function If(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function RX(m,E){E&&!m.j&&(Qu(m),m.i=null,m.g.forEach(function(M,F){const $=F.toLowerCase();F!=$&&(KR(this,F),YR(this,$,M))},m)),m.j=E}function LX(m,E){const M=new Kg;if(a.Image){const F=new Image;F.onload=u(tc,M,"TestLoadImage: loaded",!0,E,F),F.onerror=u(tc,M,"TestLoadImage: error",!1,E,F),F.onabort=u(tc,M,"TestLoadImage: abort",!1,E,F),F.ontimeout=u(tc,M,"TestLoadImage: timeout",!1,E,F),a.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=m}else E(!1)}function jX(m,E){const M=new Kg,F=new AbortController,$=setTimeout(()=>{F.abort(),tc(M,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:F.signal}).then(U=>{clearTimeout($),U.ok?tc(M,"TestPingServer: ok",!0,E):tc(M,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout($),tc(M,"TestPingServer: error",!1,E)})}function tc(m,E,M,F,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),F(M)}catch{}}function FX(){this.g=new vX}function PP(m){this.i=m.Sb||null,this.h=m.ab||!1}d(PP,kR),PP.prototype.g=function(){return new ox(this.i,this.h)};function ox(m,E){ur.call(this),this.H=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(ox,ur),t=ox.prototype,t.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=E,this.readyState=1,ny(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(E.body=m),(this.H||a).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ty(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,ny(this)),this.g&&(this.readyState=3,ny(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ZR(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function ZR(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?ty(this):ny(this),this.readyState==3&&ZR(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,ty(this))},t.Na=function(m){this.g&&(this.response=m,ty(this))},t.ga=function(){this.g&&ty(this)};function ty(m){m.readyState=4,m.l=null,m.j=null,m.B=null,ny(m)}t.setRequestHeader=function(m,E){this.A.append(m,E)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var M=E.next();!M.done;)M=M.value,m.push(M[0]+": "+M[1]),M=E.next();return m.join(`\r
`)};function ny(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ox.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function QR(m){let E="";return H(m,function(M,F){E+=F,E+=":",E+=M,E+=`\r
`}),E}function TP(m,E,M){e:{for(F in M){var F=!1;break e}F=!0}F||(M=QR(M),typeof m=="string"?M!=null&&qg(M):yt(m,E,M))}function qt(m){ur.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(qt,ur);var BX=/^https?$/i,$X=["POST","PUT"];t=qt.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,E,M,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():NR.g(),this.g.onreadystatechange=f(c(this.Ca,this));try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(U){eL(this,U);return}if(m=M||"",M=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var $ in F)M.set($,F[$]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const U of F.keys())M.set(U,F.get(U));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(M.keys()).find(U=>U.toLowerCase()=="content-type"),$=a.FormData&&m instanceof a.FormData,!(Array.prototype.indexOf.call($X,E,void 0)>=0)||F||$||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,Q]of M)this.g.setRequestHeader(U,Q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(U){eL(this,U)}};function eL(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.o=5,tL(m),lx(m)}function tL(m){m.A||(m.A=!0,Tr(m,"complete"),Tr(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Tr(this,"complete"),Tr(this,"abort"),lx(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lx(this,!0)),qt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?nL(this):this.Xa())},t.Xa=function(){nL(this)};function nL(m){if(m.h&&typeof s<"u"){if(m.v&&nc(m)==4)setTimeout(m.Ca.bind(m),0);else if(Tr(m,"readystatechange"),nc(m)==4){m.h=!1;try{const U=m.ca();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var M;if(!(M=E)){var F;if(F=U===0){let Q=String(m.D).match(WR)[1]||null;!Q&&a.self&&a.self.location&&(Q=a.self.location.protocol.slice(0,-1)),F=!BX.test(Q?Q.toLowerCase():"")}M=F}if(M)Tr(m,"complete"),Tr(m,"success");else{m.o=6;try{var $=nc(m)>2?m.g.statusText:""}catch{$=""}m.l=$+" ["+m.ca()+"]",tL(m)}}finally{lx(m)}}}}function lx(m,E){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const M=m.g;m.g=null,E||Tr(m,"ready");try{M.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function nc(m){return m.g?m.g.readyState:0}t.ca=function(){try{return nc(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),yX(E)}};function rL(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function UX(m){const E={};m=(m.g&&nc(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<m.length;F++){if(j(m[F]))continue;var M=EX(m[F]);const $=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const U=E[$]||[];E[$]=U,U.push(M)}ne(E,function(F){return F.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ry(m,E,M){return M&&M.internalChannelParams&&M.internalChannelParams[m]||E}function iL(m){this.za=0,this.i=[],this.j=new Kg,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ry("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ry("baseRetryDelayMs",5e3,m),this.Za=ry("retryDelaySeedMs",1e4,m),this.Ta=ry("forwardChannelMaxRetries",2,m),this.va=ry("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new $R(m&&m.concurrentRequestLimit),this.Ba=new FX,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=iL.prototype,t.ka=8,t.I=1,t.connect=function(m,E,M,F){Cr(0),this.W=m,this.H=E||{},M&&F!==void 0&&(this.H.OSID=M,this.H.OAID=F),this.F=this.X,this.J=fL(this,null,this.W),ux(this)};function CP(m){if(sL(m),m.I==3){var E=m.V++,M=xa(m.J);if(yt(M,"SID",m.M),yt(M,"RID",E),yt(M,"TYPE","terminate"),iy(m,M),E=new Ql(m,m.j,E),E.M=2,E.A=ax(xa(M)),M=!1,a.navigator&&a.navigator.sendBeacon)try{M=a.navigator.sendBeacon(E.A.toString(),"")}catch{}!M&&a.Image&&(new Image().src=E.A,M=!0),M||(E.g=pL(E.j,null),E.g.ea(E.A)),E.F=Date.now(),sx(E)}dL(m)}function cx(m){m.g&&(IP(m),m.g.cancel(),m.g=null)}function sL(m){cx(m),m.v&&(a.clearTimeout(m.v),m.v=null),hx(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&a.clearTimeout(m.m),m.m=null)}function ux(m){if(!UR(m.h)&&!m.m){m.m=!0;var E=m.Ea;P||k(),O||(P(),O=!0),C.add(E,m),m.D=0}}function VX(m,E){return VR(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=E.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=Gg(c(m.Ea,m,E),hL(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const $=new Ql(this,this.j,m);let U=this.o;if(this.U&&(U?(U=fe(U),ge(U,this.U)):U=this.U),this.u!==null||this.R||($.J=U,U=null),this.S)e:{for(var E=0,M=0;M<this.i.length;M++){t:{var F=this.i[M];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(E+=F,E>4096){E=M;break e}if(E===4096||M===this.i.length-1){E=M+1;break e}}E=1e3}else E=1e3;E=oL(this,$,E),M=xa(this.J),yt(M,"RID",m),yt(M,"CVER",22),this.G&&yt(M,"X-HTTP-Session-Id",this.G),iy(this,M),U&&(this.R?E="headers="+qg(QR(U))+"&"+E:this.u&&TP(M,this.u,U)),_P(this.h,$),this.Ra&&yt(M,"TYPE","init"),this.S?(yt(M,"$req",E),yt(M,"SID","null"),$.U=!0,wP($,M,null)):wP($,M,E),this.I=2}}else this.I==3&&(m?aL(this,m):this.i.length==0||UR(this.h)||aL(this))};function aL(m,E){var M;E?M=E.l:M=m.V++;const F=xa(m.J);yt(F,"SID",m.M),yt(F,"RID",M),yt(F,"AID",m.K),iy(m,F),m.u&&m.o&&TP(F,m.u,m.o),M=new Ql(m,m.j,M,m.D+1),m.u===null&&(M.J=m.o),E&&(m.i=E.G.concat(m.i)),E=oL(m,M,1e3),M.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),_P(m.h,M),wP(M,F,E)}function iy(m,E){m.H&&H(m.H,function(M,F){yt(E,F,M)}),m.l&&H({},function(M,F){yt(E,F,M)})}function oL(m,E,M){M=Math.min(m.i.length,M);const F=m.l?c(m.l.Ka,m.l,m):null;e:{var $=m.i;let Te=-1;for(;;){const dn=["count="+M];Te==-1?M>0?(Te=$[0].g,dn.push("ofs="+Te)):Te=0:dn.push("ofs="+Te);let st=!0;for(let Pn=0;Pn<M;Pn++){var U=$[Pn].g;const Sa=$[Pn].map;if(U-=Te,U<0)Te=Math.max(0,$[Pn].g-100),st=!1;else try{U="req"+U+"_"||"";try{var Q=Sa instanceof Map?Sa:Object.entries(Sa);for(const[th,rc]of Q){let ic=rc;o(rc)&&(ic=fP(rc)),dn.push(U+th+"="+encodeURIComponent(ic))}}catch(th){throw dn.push(U+"type="+encodeURIComponent("_badmap")),th}}catch{F&&F(Sa)}}if(st){Q=dn.join("&");break e}}Q=void 0}return m=m.i.splice(0,M),E.G=m,Q}function lL(m){if(!m.g&&!m.v){m.Y=1;var E=m.Da;P||k(),O||(P(),O=!0),C.add(E,m),m.A=0}}function kP(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=Gg(c(m.Da,m),hL(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,cL(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=Gg(c(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Cr(10),cx(this),cL(this))};function IP(m){m.B!=null&&(a.clearTimeout(m.B),m.B=null)}function cL(m){m.g=new Ql(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var E=xa(m.na);yt(E,"RID","rpc"),yt(E,"SID",m.M),yt(E,"AID",m.K),yt(E,"CI",m.F?"0":"1"),!m.F&&m.ia&&yt(E,"TO",m.ia),yt(E,"TYPE","xmlhttp"),iy(m,E),m.u&&m.o&&TP(E,m.u,m.o),m.O&&(m.g.H=m.O);var M=m.g;m=m.ba,M.M=1,M.A=ax(xa(E)),M.u=null,M.R=!0,jR(M,m)}t.Va=function(){this.C!=null&&(this.C=null,cx(this),kP(this),Cr(19))};function hx(m){m.C!=null&&(a.clearTimeout(m.C),m.C=null)}function uL(m,E){var M=null;if(m.g==E){hx(m),IP(m),m.g=null;var F=2}else if(AP(m.h,E))M=E.G,zR(m.h,E),F=1;else return;if(m.I!=0){if(E.o)if(F==1){M=E.u?E.u.length:0,E=Date.now()-E.F;var $=m.D;F=gP(),Tr(F,new DR(F,M)),ux(m)}else lL(m);else if($=E.m,$==3||$==0&&E.X>0||!(F==1&&VX(m,E)||F==2&&kP(m)))switch(M&&M.length>0&&(E=m.h,E.i=E.i.concat(M)),$){case 1:eh(m,5);break;case 4:eh(m,10);break;case 3:eh(m,6);break;default:eh(m,2)}}}function hL(m,E){let M=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(M*=2),M*E}function eh(m,E){if(m.j.info("Error code "+E),E==2){var M=c(m.bb,m),F=m.Ua;const $=!F;F=new ec(F||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Yg(F,"https"),ax(F),$?LX(F.toString(),M):jX(F.toString(),M)}else Cr(2);m.I=0,m.l&&m.l.pa(E),dL(m),sL(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Cr(2)):(this.j.info("Failed to ping google.com"),Cr(1))};function dL(m){if(m.I=0,m.ja=[],m.l){const E=HR(m.h);(E.length!=0||m.i.length!=0)&&(g(m.ja,E),g(m.ja,m.i),m.h.i.length=0,p(m.i),m.i.length=0),m.l.oa()}}function fL(m,E,M){var F=M instanceof ec?xa(M):new ec(M);if(F.g!="")E&&(F.g=E+"."+F.g),Jg(F,F.u);else{var $=a.location;F=$.protocol,E=E?E+"."+$.hostname:$.hostname,$=+$.port;const U=new ec(null);F&&Yg(U,F),E&&(U.g=E),$&&Jg(U,$),M&&(U.h=M),F=U}return M=m.G,E=m.wa,M&&E&&yt(F,M,E),yt(F,"VER",m.ka),iy(m,F),F}function pL(m,E,M){if(E&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Aa&&!m.ma?new qt(new PP({ab:M})):new qt(m.ma),E.Fa(m.L),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mL(){}t=mL.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Zi(m,E){ur.call(this),this.g=new iL(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(m?m["X-WebChannel-Client-Profile"]=E.sa:m={"X-WebChannel-Client-Profile":E.sa}),this.g.U=m,(m=E&&E.Qb)&&!j(m)&&(this.g.u=m),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!j(E)&&(this.g.G=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new Of(this)}d(Zi,ur),Zi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Zi.prototype.close=function(){CP(this.g)},Zi.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var M={};M.__data__=m,m=M}else this.v&&(M={},M.__data__=fP(m),m=M);E.i.push(new CX(E.Ya++,m)),E.I==3&&ux(E)},Zi.prototype.N=function(){this.g.l=null,delete this.j,CP(this.g),delete this.g,Zi.Z.N.call(this)};function gL(m){pP.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const M in E){m=M;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}d(gL,pP);function yL(){mP.call(this),this.status=1}d(yL,mP);function Of(m){this.g=m}d(Of,mL),Of.prototype.ra=function(){Tr(this.g,"a")},Of.prototype.qa=function(m){Tr(this.g,new gL(m))},Of.prototype.pa=function(m){Tr(this.g,new yL)},Of.prototype.oa=function(){Tr(this.g,"b")},Zi.prototype.send=Zi.prototype.o,Zi.prototype.open=Zi.prototype.m,Zi.prototype.close=Zi.prototype.close,yP.NO_ERROR=0,yP.TIMEOUT=8,yP.HTTP_ERROR=6,_X.COMPLETE="complete",bX.EventType=Hg,Hg.OPEN="a",Hg.CLOSE="b",Hg.ERROR="c",Hg.MESSAGE="d",ur.prototype.listen=ur.prototype.J,qt.prototype.listenOnce=qt.prototype.K,qt.prototype.getLastError=qt.prototype.Ha,qt.prototype.getLastErrorCode=qt.prototype.ya,qt.prototype.getStatus=qt.prototype.ca,qt.prototype.getResponseJson=qt.prototype.La,qt.prototype.getResponseText=qt.prototype.la,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Fa}).apply(typeof s1<"u"?s1:typeof self<"u"?self:typeof window<"u"?window:{});const J$="@firebase/firestore",Z$="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jr.UNAUTHENTICATED=new jr(null),jr.GOOGLE_CREDENTIALS=new jr("google-credentials-uid"),jr.FIRST_PARTY=new jr("first-party-uid"),jr.MOCK_USER=new jr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nx="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag=new nR("@firebase/firestore");function ca(t,...e){if(Ag.logLevel<=ze.DEBUG){const n=e.map(mR);Ag.debug(`Firestore (${nx}): ${t}`,...n)}}function iX(t,...e){if(Ag.logLevel<=ze.ERROR){const n=e.map(mR);Ag.error(`Firestore (${nx}): ${t}`,...n)}}function YEe(t,...e){if(Ag.logLevel<=ze.WARN){const n=e.map(mR);Ag.warn(`Firestore (${nx}): ${t}`,...n)}}function mR(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,sX(t,r,n)}function sX(t,e,n){let r=`FIRESTORE (${nx}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw iX(r),new Error(r)}function Sv(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||sX(e,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Re={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class Le extends xo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aX{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JEe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jr.UNAUTHENTICATED))}shutdown(){}}class ZEe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class QEe{constructor(e){this.t=e,this.currentUser=jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Sv(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Av;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Av,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{ca("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ca("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Av)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ca("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Sv(typeof r.accessToken=="string",31837,{l:r}),new aX(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Sv(e===null||typeof e=="string",2055,{h:e}),new jr(e)}}class ePe{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=jr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tPe{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ePe(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Q${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nPe{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$i(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Sv(this.o===void 0,3512);const r=s=>{s.error!=null&&ca("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,ca("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ca("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ca("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Q$(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Sv(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Q$(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rPe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iPe{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=rPe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Bu(t,e){return t<e?-1:t>e?1:0}function sPe(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return dC(i)===dC(s)?Bu(i,s):dC(i)?1:-1}return Bu(t.length,e.length)}const aPe=55296,oPe=57343;function dC(t){const e=t.charCodeAt(0);return e>=aPe&&e<=oPe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6="__name__";class ka{constructor(e,n,r){n===void 0?n=0:n>e.length&&b0(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&b0(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ka.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ka?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=ka.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Bu(e.length,n.length)}static compareSegments(e,n){const r=ka.isNumericId(e),i=ka.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ka.extractNumericId(e).compare(ka.extractNumericId(n)):sPe(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pR.fromString(e.substring(4,e.length-2))}}class ia extends ka{construct(e,n,r){return new ia(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(Re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ia(n)}static emptyPath(){return new ia([])}}const lPe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mh extends ka{construct(e,n,r){return new mh(e,n,r)}static isValidIdentifier(e){return lPe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mh.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===e6}static keyField(){return new mh([e6])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Le(Re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Le(Re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Le(Re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new Le(Re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mh(n)}static emptyPath(){return new mh([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e){this.path=e}static fromPath(e){return new Th(ia.fromString(e))}static fromName(e){return new Th(ia.fromString(e).popFirst(5))}static empty(){return new Th(ia.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ia.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ia.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Th(new ia(e.slice()))}}function cPe(t,e,n,r){if(e===!0&&r===!0)throw new Le(Re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function uPe(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function hPe(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":b0(12329,{type:typeof t})}function dPe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Le(Re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hPe(t);throw new Le(Re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t,e){const n={typeString:t};return e&&(n.value=e),n}function rx(t,e){if(!uPe(t))throw new Le(Re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Le(Re.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=-62135596800,n6=1e6;class Qa{static now(){return Qa.fromMillis(Date.now())}static fromDate(e){return Qa.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*n6);return new Qa(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Le(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Le(Re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<t6)throw new Le(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(Re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/n6}_compareTo(e){return this.seconds===e.seconds?Bu(this.nanoseconds,e.nanoseconds):Bu(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qa._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(rx(e,Qa._jsonSchema))return new Qa(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-t6;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qa._jsonSchemaVersion="firestore/timestamp/1.0",Qa._jsonSchema={type:ln("string",Qa._jsonSchemaVersion),seconds:ln("number"),nanoseconds:ln("number")};function fPe(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pPe extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new pPe("Invalid base64 string: "+s):s}}(e);return new vf(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new vf(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bu(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vf.EMPTY_BYTE_STRING=new vf("");const yO="(default)";class o_{constructor(e,n){this.projectId=e,this.database=n||yO}static empty(){return new o_("","")}get isDefaultDatabase(){return this.database===yO}isEqual(e){return e instanceof o_&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mPe{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gPe(t){return new mPe(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r6,Ne;(Ne=r6||(r6={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new pR([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yPe=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vPe=1048576;function fC(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bPe{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ca("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Av,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new gR(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Le(Re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var i6,s6;(s6=i6||(i6={})).Ma="default",s6.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wPe(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oX="firestore.googleapis.com",o6=!0;class l6{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Le(Re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oX,this.ssl=o6}else this.host=e.host,this.ssl=e.ssl??o6;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yPe;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vPe)throw new Le(Re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cPe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wPe(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Le(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Le(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Le(Re.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lX{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l6({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Le(Re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Le(Re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l6(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new JEe;switch(r.type){case"firstParty":return new tPe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Le(Re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=a6.get(n);r&&(ca("ComponentProvider","Removing Datastore"),a6.delete(n),r.terminate())}(this),Promise.resolve()}}function xPe(t,e,n,r={}){var c;t=dPe(t,lX);const i=$g(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(eR(`https://${o}`),tR("Firestore",!0)),s.host!==oX&&s.host!==o&&YEe("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:i,emulatorOptions:r};if(!pf(l,a)&&(t._setSettings(l),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=jr.MOCK_USER;else{u=yq(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Le(Re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new jr(f)}t._authCredentials=new ZEe(new aX(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yR(this.firestore,e,this._query)}}class ro{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vR(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ro(this.firestore,e,this._key)}toJSON(){return{type:ro._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(rx(n,ro._jsonSchema))return new ro(e,r||null,new Th(ia.fromString(n.referencePath)))}}ro._jsonSchemaVersion="firestore/documentReference/1.0",ro._jsonSchema={type:ln("string",ro._jsonSchemaVersion),referencePath:ln("string")};class vR extends yR{constructor(e,n,r){super(e,n,gPe(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ro(this.firestore,null,new Th(e))}withConverter(e){return new vR(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6="AsyncQueue";class u6{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bPe(this,"async_queue_retry"),this._c=()=>{const r=fC();r&&ca(c6,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=fC();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=fC();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Av;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!fPe(e))throw e;ca(c6,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,iX("INTERNAL UNHANDLED ERROR: ",h6(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=gR.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&b0(47125,{Pc:h6(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function h6(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class SPe extends lX{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new u6,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new u6(e),this._firestoreClient=void 0,await e}}}function APe(t,e){const n=typeof t=="object"?t:iR(),r=typeof t=="string"?t:yO,i=cP(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=pq("firestore");s&&xPe(i,...s)}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pl(vf.fromBase64String(e))}catch(n){throw new Le(Re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pl(vf.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pl._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(rx(e,pl._jsonSchema))return pl.fromBase64String(e.bytes)}}pl._jsonSchemaVersion="firestore/bytes/1.0",pl._jsonSchema={type:ln("string",pl._jsonSchemaVersion),bytes:ln("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cX{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Le(Re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mh(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Le(Re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Le(Re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Bu(this._lat,e._lat)||Bu(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jd._jsonSchemaVersion}}static fromJSON(e){if(rx(e,Jd._jsonSchema))return new Jd(e.latitude,e.longitude)}}Jd._jsonSchemaVersion="firestore/geoPoint/1.0",Jd._jsonSchema={type:ln("string",Jd._jsonSchemaVersion),latitude:ln("number"),longitude:ln("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Zd._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(rx(e,Zd._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Zd(e.vectorValues);throw new Le(Re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zd._jsonSchemaVersion="firestore/vectorValue/1.0",Zd._jsonSchema={type:ln("string",Zd._jsonSchemaVersion),vectorValues:ln("object")};const _Pe=new RegExp("[~\\*/\\[\\]]");function EPe(t,e,n){if(e.search(_Pe)>=0)throw d6(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new cX(...e.split("."))._internalPath}catch{throw d6(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function d6(t,e,n,r,i){let s=`Function ${e}() called with invalid data`;s+=". ";let a="";return new Le(Re.INVALID_ARGUMENT,s+t+a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uX{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ro(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PPe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hX("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PPe extends uX{data(){return super.data()}}function hX(t,e){return typeof e=="string"?EPe(t,e):e instanceof cX?e._internalPath:e._delegate._internalPath}class a1{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Op extends uX{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(hX("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Le(Re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Op._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Op._jsonSchemaVersion="firestore/documentSnapshot/1.0",Op._jsonSchema={type:ln("string",Op._jsonSchemaVersion),bundleSource:ln("string","DocumentSnapshot"),bundleName:ln("string"),bundle:ln("string")};class yS extends Op{data(e={}){return super.data(e)}}class _v{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new a1(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new yS(this._firestore,this._userDataWriter,r.key,r,new a1(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Le(Re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new yS(i._firestore,i._userDataWriter,o.doc.key,o.doc,new a1(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new yS(i._firestore,i._userDataWriter,o.doc.key,o.doc,new a1(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:TPe(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Le(Re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_v._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=iPe.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function TPe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return b0(61501,{type:t})}}_v._jsonSchemaVersion="firestore/querySnapshot/1.0",_v._jsonSchema={type:ln("string",_v._jsonSchemaVersion),bundleSource:ln("string","QuerySnapshot"),bundleName:ln("string"),bundle:ln("string")};(function(e,n=!0){(function(i){nx=i})(Pf),mf(new Fu("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new SPe(new QEe(r.getProvider("auth-internal")),new nPe(a,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Le(Re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new o_(c.options.projectId,u)}(a,i),a);return s={useFetchStreams:n,...s},o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),co(J$,Z$,e),co(J$,Z$,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dX="firebasestorage.googleapis.com",CPe="storageBucket",kPe=2*60*1e3,IPe=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends xo{constructor(e,n,r=0){super(pC(e),`Firebase Storage: ${n} (${pC(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,So.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return pC(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vo;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vo||(vo={}));function pC(t){return"storage/"+t}function OPe(){const t="An unknown error occurred, please check the error payload for server response.";return new So(vo.UNKNOWN,t)}function MPe(){return new So(vo.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DPe(){return new So(vo.CANCELED,"User canceled the upload/download.")}function NPe(t){return new So(vo.INVALID_URL,"Invalid URL '"+t+"'.")}function RPe(t){return new So(vo.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function f6(t){return new So(vo.INVALID_ARGUMENT,t)}function fX(){return new So(vo.APP_DELETED,"The Firebase app was deleted.")}function LPe(t){return new So(vo.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ua.makeFromUrl(e,n)}catch{return new ua(e,"")}if(r.path==="")return r;throw RPe(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function c(T){T.path_=decodeURIComponent(T.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},y=n===dX?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",v=new RegExp(`^https?://${y}/${i}/${b}`,"i"),w=[{regex:o,indices:l,postModify:s},{regex:p,indices:g,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let T=0;T<w.length;T++){const P=w[T],O=P.regex.exec(e);if(O){const C=O[P.indices.bucket];let k=O[P.indices.path];k||(k=""),r=new ua(C,k),P.postModify(r);break}}if(r==null)throw NPe(e);return r}}class jPe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FPe(t,e,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return o===2}let c=!1;function u(...b){c||(c=!0,e.apply(null,b))}function d(b){i=setTimeout(()=>{i=null,t(p,l())},b)}function f(){s&&clearTimeout(s)}function p(b,...v){if(c){f();return}if(b){f(),u.call(null,b,...v);return}if(l()||a){f(),u.call(null,b,...v);return}r<64&&(r*=2);let w;o===1?(o=2,w=0):w=(r+Math.random())*1e3,d(w)}let g=!1;function y(b){g||(g=!0,f(),!c&&(i!==null?(b||(o=2),clearTimeout(i),d(0)):b||(o=1)))}return d(0),s=setTimeout(()=>{a=!0,y(!0)},n),y}function BPe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Pe(t){return t!==void 0}function p6(t,e,n,r){if(r<e)throw f6(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw f6(`Invalid value for '${t}'. Expected ${n} or less.`)}function UPe(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var l_;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(l_||(l_={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VPe(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zPe{constructor(e,n,r,i,s,a,o,l,c,u,d,f=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=f,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,y)=>{this.resolve_=g,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new o1(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===l_.NO_ERROR,l=s.getStatus();if(!o||VPe(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===l_.ABORT;r(!1,new o1(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new o1(c,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());$Pe(l)?s(l):s()}catch(l){a(l)}else if(o!==null){const l=OPe();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(i.canceled){const l=this.appDelete_?fX():DPe();a(l)}else{const l=MPe();a(l)}};this.canceled_?n(!1,new o1(!1,null,!0)):this.backoffId_=FPe(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&BPe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class o1{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function HPe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function WPe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function GPe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function KPe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function qPe(t,e,n,r,i,s,a=!0,o=!1){const l=UPe(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return GPe(u,e),HPe(u,n),WPe(u,s),KPe(u,r),new zPe(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XPe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function YPe(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n){this._service=e,n instanceof ua?this._location=n:this._location=ua.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new c_(e,n)}get root(){const e=new ua(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return YPe(this._location.path)}get storage(){return this._service}get parent(){const e=XPe(this._location.path);if(e===null)return null;const n=new ua(this._location.bucket,e);return new c_(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw LPe(e)}}function m6(t,e){const n=e==null?void 0:e[CPe];return n==null?null:ua.makeFromBucketSpec(n,t)}function JPe(t,e,n,r={}){t.host=`${e}:${n}`;const i=$g(e);i&&(eR(`https://${t.host}/b`),tR("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:yq(s,t.app.options.projectId))}class ZPe{constructor(e,n,r,i,s,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=dX,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kPe,this._maxUploadRetryTime=IPe,this._requests=new Set,i!=null?this._bucket=ua.makeFromBucketSpec(i,this._host):this._bucket=m6(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ua.makeFromBucketSpec(this._url,e):this._bucket=m6(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){p6("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){p6("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if($i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new c_(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new jPe(fX());{const a=qPe(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const g6="@firebase/storage",y6="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pX="storage";function QPe(t=iR(),e){t=Zl(t);const r=cP(t,pX).getImmediate({identifier:e}),i=pq("storage");return i&&eTe(r,...i),r}function eTe(t,e,n,r={}){JPe(t,e,n,r)}function tTe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new ZPe(n,r,i,e,Pf)}function nTe(){mf(new Fu(pX,tTe,"PUBLIC").setMultipleInstances(!0)),co(g6,y6,""),co(g6,y6,"esm2020")}nTe();const rTe={apiKey:"AIzaSyCuCYH38ZqKbtPYPR2ED1nMdD6yBuo1ReA",authDomain:"shop-d542c.firebaseapp.com",projectId:"shop-d542c",storageBucket:"shop-d542c.firebasestorage.app",messagingSenderId:"592347281413",appId:"1:592347281413:web:ed7c8752b195dcbb02846c",measurementId:"G-DFV2PBV8X2"},bR=wq(rTe),u_=GEe(bR);APe(bR);QPe(bR);const h_=t=>{const e=t.code||t.message;return{"auth/email-already-in-use":"  .","auth/invalid-email":"   .","auth/weak-password":"  . ( 6)","auth/user-not-found":"  .","auth/wrong-password":" .","auth/too-many-requests":"   .    .","auth/network-request-failed":"  ."}[e]||t.message||"  ."},iTe=async(t,e,n)=>{try{const r=JSON.parse(localStorage.getItem("firebaseUsers")||"{}"),i=btoa(t);if(r[i])throw new Error("  .");await Kq(u_,hR);let s=null,a=!1;try{s=(await Promise.race([D_e(u_,t,e),new Promise((c,u)=>setTimeout(()=>u(new Error("Firebase timeout")),5e3))])).user}catch(l){if(console.warn("Firebase  :",h_(l)),l.code==="auth/email-already-in-use")throw l;a=!0}const o={uid:(s==null?void 0:s.uid)||"local-"+Date.now(),email:t,password:btoa(e),username:n.username,affiliation:n.affiliation||"",bio:"",created_at:new Date().toISOString(),isLocal:a||!s};return r[i]=o,localStorage.setItem("firebaseUsers",JSON.stringify(r)),{uid:o.uid,email:o.email,username:o.username,isLocal:o.isLocal}}catch(r){throw console.error(" :",r),new Error(h_(r))}},sTe=async(t,e)=>{try{await Kq(u_,hR);let n=null,r=!1;try{n=(await Promise.race([N_e(u_,t,e),new Promise((s,a)=>setTimeout(()=>a(new Error("Firebase timeout")),5e3))])).user}catch(i){console.warn("Firebase  ,   :",h_(i));const s=JSON.parse(localStorage.getItem("firebaseUsers")||"{}"),a=btoa(t);if(s[a]){const o=s[a];if(btoa(e)===o.password)r=!0,n={uid:o.uid,email:o.email,displayName:o.username};else throw new Error(" .")}else throw new Error("  .")}if(!n)throw new Error(" ");return{uid:n.uid,email:n.email,username:n.displayName||t.split("@")[0],isLocal:r}}catch(n){throw console.error(" :",n),new Error(h_(n))}},aTe=t=>{localStorage.setItem("currentUser",JSON.stringify(t)),localStorage.setItem("authToken",t.uid)};function oTe(){const t=xf(),{isDark:e}=Rs(),[n,r]=A.useState({email:"",password:""}),[i,s]=A.useState(""),[a,o]=A.useState(!1),l="auto",c=d=>{const{name:f,value:p}=d.target;r(g=>({...g,[f]:p})),s("")},u=async d=>{d.preventDefault(),o(!0),s("");try{if(!n.email||!n.password){s("  ."),o(!1);return}if(!n.email.includes("@")){s("   ."),o(!1);return}let f=null;if(l==="auto"||l==="firebase")try{f=await sTe(n.email,n.password);const p={uid:f.uid,email:f.email,username:f.username,role:"user",authProvider:f.isLocal?"firebase-local":"firebase"};aTe(p),localStorage.setItem("user",JSON.stringify(p)),localStorage.setItem("authToken",f.uid),localStorage.setItem("isAuthenticated","true"),console.log(`   (${f.isLocal?" ":"Firebase"}):`),window.dispatchEvent(new Event("auth-change")),setTimeout(()=>t("/"),500);return}catch(p){console.warn("Firebase  :",p.message)}s(" :     .")}catch(f){console.error(" :",f),s("   .")}finally{o(!1)}};return x.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 transition-colors duration-200 ${e?"bg-gray-900":"bg-gray-50"}`,children:x.jsxs(ee.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:`w-full max-w-md space-y-8 rounded-lg shadow-lg p-8 transition-colors duration-200 ${e?"bg-gray-800":"bg-white"}`,children:[x.jsxs("div",{className:"text-center",children:[x.jsx(ee.h1,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.1},className:`text-3xl font-bold mb-2 transition-colors duration-200 ${e?"text-white":"text-gray-900"}`,children:""}),x.jsx(ee.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.2},className:`transition-colors duration-200 ${e?"text-gray-400":"text-gray-600"}`,children:"   "})]}),i&&x.jsx(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`p-3 rounded-lg text-sm border-l-4 transition-colors duration-200 ${e?"bg-red-900/30 border-red-600 text-red-200":"bg-red-50 border-red-500 text-red-800"}`,children:i}),x.jsxs(ee.form,{onSubmit:u,className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.3},children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"email",className:`block text-sm font-medium mb-2 transition-colors duration-200 ${e?"text-gray-300":"text-gray-700"}`,children:""}),x.jsx(ee.input,{whileFocus:{scale:1.02},type:"email",id:"email",name:"email",value:n.email,onChange:c,placeholder:"your@example.com",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 ${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"}`})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"password",className:`block text-sm font-medium mb-2 transition-colors duration-200 ${e?"text-gray-300":"text-gray-700"}`,children:""}),x.jsx(ee.input,{whileFocus:{scale:1.02},type:"password",id:"password",name:"password",value:n.password,onChange:c,placeholder:"",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 ${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"}`})]}),x.jsx(ee.button,{type:"submit",disabled:a,whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full py-2 px-4 rounded-lg font-medium text-white transition-all duration-200 ${a?"bg-blue-400 cursor-not-allowed opacity-50":"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800"}`,children:a?" ...":""})]}),x.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.4},className:`text-center text-sm transition-colors duration-200 ${e?"text-gray-400":"text-gray-600"}`,children:[" ?"," ",x.jsx(lt,{to:"/signup",className:"text-blue-600 hover:text-blue-700 font-medium",children:""})]})]})})}function lTe(){const t=xf(),{isDark:e}=Rs(),[n,r]=A.useState({username:"",email:"",password:"",confirmPassword:"",affiliation:"",agreeTerms:!1}),[i,s]=A.useState({}),[a,o]=A.useState(!1),[l,c]=A.useState(""),u="auto",d=g=>{const{name:y,value:b,type:v,checked:S}=g.target;r(w=>({...w,[y]:v==="checkbox"?S:b})),i[y]&&s(w=>({...w,[y]:""}))},f=()=>{const g={};return n.username.trim()?n.username.length<3&&(g.username=" 3  ."):g.username=" .",n.email?n.email.includes("@")||(g.email="   ."):g.email=" .",n.password?n.password.length<8?g.password=" 8  .":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(n.password)||(g.password=" , ,   ."):g.password=" .",n.password!==n.confirmPassword&&(g.confirmPassword="  ."),n.agreeTerms||(g.agreeTerms=" ."),g},p=async g=>{g.preventDefault();const y=f();if(Object.keys(y).length>0){s(y);return}o(!0),c("");try{let b=!1,v=null;if(u==="auto"||u==="firebase")try{const S=await iTe(n.email,n.password,{username:n.username,affiliation:n.affiliation});console.log("  :",S.username),b=!0}catch(S){console.warn("Firebase  :",S.message),v=S.message}if(!b&&(u==="auto"||u==="local")){const S=JSON.parse(localStorage.getItem("firebaseUsers")||"{}"),w=btoa(n.email);if(S[w]){s({submit:"  ."}),o(!1);return}const T={uid:"local-"+Date.now(),email:n.email,password:btoa(n.password),username:n.username,affiliation:n.affiliation||"",bio:"",created_at:new Date().toISOString(),isLocal:!0};S[w]=T,localStorage.setItem("firebaseUsers",JSON.stringify(S)),console.log("    "),b=!0}b&&(c(" .   ..."),setTimeout(()=>{t("/login")},2e3))}catch(b){console.error(" :",b),s({submit:"   .  ."})}finally{o(!1)}};return x.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8 transition-colors duration-200 ${e?"bg-gray-900":"bg-gray-50"}`,children:x.jsxs(ee.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:`w-full max-w-md space-y-8 rounded-lg shadow-lg p-8 transition-colors duration-200 ${e?"bg-gray-800":"bg-white"}`,children:[x.jsxs("div",{className:"text-center",children:[x.jsx(ee.h1,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.1},className:`text-3xl font-bold mb-2 transition-colors duration-200 ${e?"text-white":"text-gray-900"}`,children:""}),x.jsx(ee.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.2},className:`transition-colors duration-200 ${e?"text-gray-400":"text-gray-600"}`,children:"   "})]}),l&&x.jsx(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg dark:bg-green-900 dark:border-green-700 dark:text-green-200",children:l}),i.submit&&x.jsx(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg dark:bg-red-900 dark:border-red-700 dark:text-red-200",children:i.submit}),x.jsxs(ee.form,{onSubmit:p,className:"space-y-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.3},children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"username",className:`block text-sm font-medium mb-2 transition-colors duration-200 ${e?"text-gray-300":"text-gray-700"}`,children:""}),x.jsx(ee.input,{whileFocus:{scale:1.02},type:"text",id:"username",name:"username",value:n.username,onChange:d,placeholder:"  ",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 ${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"} ${i.username?"border-red-500":""}`}),i.username&&x.jsx("p",{className:"text-red-600 text-sm mt-1 dark:text-red-400",children:i.username})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"email",className:`block text-sm font-medium mb-2 transition-colors duration-200 ${e?"text-gray-300":"text-gray-700"}`,children:""}),x.jsx(ee.input,{whileFocus:{scale:1.02},type:"email",id:"email",name:"email",value:n.email,onChange:d,placeholder:"your@institution.edu",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 ${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"} ${i.email?"border-red-500":""}`}),i.email&&x.jsx("p",{className:"text-red-600 text-sm mt-1 dark:text-red-400",children:i.email})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"affiliation",className:`block text-sm font-medium mb-2 transition-colors duration-200 ${e?"text-gray-300":"text-gray-700"}`,children:"  ()"}),x.jsx(ee.input,{whileFocus:{scale:1.02},type:"text",id:"affiliation",name:"affiliation",value:n.affiliation,onChange:d,placeholder:",  ",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 ${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"}`})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"password",className:`block text-sm font-medium mb-2 transition-colors duration-200 ${e?"text-gray-300":"text-gray-700"}`,children:""}),x.jsx(ee.input,{whileFocus:{scale:1.02},type:"password",id:"password",name:"password",value:n.password,onChange:d,placeholder:"",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 ${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"} ${i.password?"border-red-500":""}`}),x.jsx("p",{className:`text-xs mt-1 transition-colors duration-200 ${e?"text-gray-400":"text-gray-500"}`,children:" 8, // "}),i.password&&x.jsx("p",{className:"text-red-600 text-sm mt-1 dark:text-red-400",children:i.password})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"confirmPassword",className:`block text-sm font-medium mb-2 transition-colors duration-200 ${e?"text-gray-300":"text-gray-700"}`,children:" "}),x.jsx(ee.input,{whileFocus:{scale:1.02},type:"password",id:"confirmPassword",name:"confirmPassword",value:n.confirmPassword,onChange:d,placeholder:"",className:`w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 ${e?"bg-gray-700 border-gray-600 text-white placeholder-gray-500":"bg-white border-gray-300 text-gray-900 placeholder-gray-400"} ${i.confirmPassword?"border-red-500":""}`}),i.confirmPassword&&x.jsx("p",{className:"text-red-600 text-sm mt-1 dark:text-red-400",children:i.confirmPassword})]}),x.jsxs("div",{className:"flex items-center",children:[x.jsx("input",{type:"checkbox",id:"agreeTerms",name:"agreeTerms",checked:n.agreeTerms,onChange:d,className:"h-4 w-4 rounded"}),x.jsx("label",{htmlFor:"agreeTerms",className:`ml-3 text-sm transition-colors duration-200 ${e?"text-gray-300":"text-gray-700"}`,children:"   "})]}),i.agreeTerms&&x.jsx("p",{className:"text-red-600 text-sm mt-1 dark:text-red-400",children:i.agreeTerms}),x.jsx(ee.button,{type:"submit",disabled:a,whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full py-2 px-4 rounded-lg font-medium text-white transition-all duration-200 ${a?"bg-blue-400 cursor-not-allowed opacity-50":"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800"}`,children:a?" ...":""})]}),x.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.4},className:`text-center text-sm transition-colors duration-200 ${e?"text-gray-400":"text-gray-600"}`,children:["  ?"," ",x.jsx(lt,{to:"/login",className:"text-blue-600 hover:text-blue-700 font-medium",children:""})]})]})})}const Py=({children:t})=>dk()?t:x.jsx(cQ,{to:"/login",replace:!0});function cTe(){return x.jsx(AQ,{children:x.jsx(bQ,{basename:"/1201-project/",children:x.jsxs(dQ,{children:[x.jsx(Wn,{path:"/login",element:x.jsx(oTe,{})}),x.jsx(Wn,{path:"/signup",element:x.jsx(lTe,{})}),x.jsxs(Wn,{element:x.jsx(IQ,{}),children:[x.jsx(Wn,{path:"/",element:x.jsx(uie,{})}),x.jsx(Wn,{path:"/concepts",element:x.jsx(hie,{})}),x.jsx(Wn,{path:"/concepts/:slug",element:x.jsx(fie,{})}),x.jsx(Wn,{path:"/papers",element:x.jsx(yae,{})}),x.jsx(Wn,{path:"/visualizations",element:x.jsx(tSe,{})}),x.jsx(Wn,{path:"/calculator",element:x.jsx(nSe,{})}),x.jsx(Wn,{path:"/forum",element:x.jsx(Py,{children:x.jsx(vae,{})})}),x.jsx(Wn,{path:"/forum/:postId",element:x.jsx(Py,{children:x.jsx(bae,{})})}),x.jsx(Wn,{path:"/profile",element:x.jsx(Py,{children:x.jsx(Sae,{})})}),x.jsx(Wn,{path:"/bookmarks",element:x.jsx(Py,{children:x.jsx(Aae,{})})}),x.jsx(Wn,{path:"/notes",element:x.jsx(Py,{children:x.jsx(_ae,{})})}),x.jsx(Wn,{path:"/glossary",element:x.jsx(wae,{})}),x.jsx(Wn,{path:"/references",element:x.jsx(xae,{})})]})]})})})}mC.createRoot(document.getElementById("root")).render(x.jsx(k6.StrictMode,{children:x.jsx(cTe,{})}));
